<!-- IMPORTANT: Ne pas modifier ce fichier directement, mais modifier le fichier '/doc/laravel.md', puis export sur ce fichier - Éventuellent, juste remettre ici ce commentaire, et modifier dans le 'head', le 'title' de la page -->

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Doc MonCMS - Laravel</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.8.0/styles/default.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.2/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.2/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.2/dist/index.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Mon CMS","children":[{"content":"MANUEL → Mode d'Emploi","children":[{"content":"Mode d'emploi","children":[{"content":"Explorer les branches","children":[{"content":"\n<p data-lines=\"17,18\">... Successivement en 'mode étude'.</p>\n<pre><code class=\"language-markdown\">  Développer le noeud le plus haut que vous n'avez pas encore visité\n  (Et si vous démarrez tout juste, c'est donc comme vous avez dû le faire\n  pour lire ces mots, en ayant cliqué sur... Ce 'MANUEL' ! ), et allez\n  alors jusqu'au bout de la branche avant de passer au suivant.\n  (Vous êtes 'au bout' d'un flux lorsqu'il n'y a plus de point ou de ligne\n  à droite du dernier sujet déployé, comme c'est la cas pour celui-ci.).\n\n  Une fois le sujet en cours exploité, regarder celui (ou ceux) en-dessous,\n  et quand il n'y en a plus, pour trouver le noeud suivant, remonter\n  au sujet juste là, à gauche : Ici, c'est donc 'Explorer les branches'\n\n  Cliquer sur son point pour le fermer, et ouvrir le suivant.\n\n  Donc, présentement, le prochain point à explorer est :\n  'Coder... Oui... Mais pas de suite !'\n\n  Et ainsi de suite...\n\n</code></pre>","children":[],"payload":{"lines":"17,38"}},{"content":"\n<p data-lines=\"38,39\">... Selon la thématique de la racine en 'mode recherche'.</p>","children":[],"payload":{"lines":"38,40"}}],"payload":{"lines":"15,16"}},{"content":"Coder... Oui... Mais pas de suite !","children":[{"content":"(Pour Momo, mais pas que... ;-)) Commencer par survoler les généralités, simplement en les lisant toutes","children":[],"payload":{"lines":"42,43"}},{"content":"→ Ne commencer à coder qu'à partir du noeud racine '<strong>Le projet (Mon CMS)</strong>'","children":[],"payload":{"lines":"44,45"}},{"content":"Astuces","children":[{"content":"Considérer que ce Mémo est destiné à, et optimisé pour être utilisé en mode '<a href=\"https://laravel.sillo.org/doc/memo\" title=\"See it !\" target=\"_blank\"><em>Preview</em></a>' (<a href=\"https://laravel.sillo.org/doc/memo\" title=\"La voir !\" target=\"_blank\">Prévisualisation</a>) :","children":[],"payload":{"lines":"48,49"}},{"content":"Surtout, utiliser une 'vraie' souris (Et pas le paddle si vous êtes sur un <em>notebook</em> (Ordinateur portable))<br>\npour entre autre, y naviguer aisément et grâce à la molette, zoomer/dé-zoomer facilement.","children":[],"payload":{"lines":"49,51"}},{"content":"Pour <strong>Copier/Coller</strong> de (s || longs) scripts dans la <em>Preview</em> :<br>\n- Cliquer tout à la fin du 'pavé' désiré,<br>\n- Si nécessaire, remonter au tout début en faisant un <em>drop &amp; drag</em> (Glisser-déposer)<br>\n&nbsp; en cliquant au départ sur 'rien' (un espace 'vide'), peut-être à l'aide d'un coup de \"dé-zoom\" si le fichier est<br>\n&nbsp; vraiment très long pour vous y rendre rapidement...<br>\n- Cliquer juste avant le 1<sup>er</sup> caractère du bloc, en maintenant la touche <em>SHIFT</em> (Majuscule) enfoncée,<br>\n&nbsp; → À ce stade, l'ensemble du texte doit apparaître sélectionné.<br>\n- Au clavier, faites  la combinaison '<strong>Ctrl + C</strong>' pour <strong>C</strong>opier,<br>\n- Puis '<strong>Ctrl + V</strong>' pour '<strong>V</strong>a !' dans votre éditeur, dans le fichier cible.<br>\n&nbsp; <em>N'hésitez-pas à vous y entraîner et tester, ne serait-ce avec ce bloc...</em> ;-) <em>!</em>","children":[],"payload":{"lines":"51,62"}}],"payload":{"lines":"46,47"}},{"content":"<em>Bonne exploration et... Bon code !</em>","children":[],"payload":{"lines":"62,63"}}],"payload":{"lines":"40,41","fold":1}}],"payload":{"lines":"13,14"}},{"content":"Philosophie","children":[{"content":"\n<p data-lines=\"66,67\">Ce type de présentation peut de prime abord, vous sembler surprenante, mais...</p>\n<p data-lines=\"68,70\">... Passé le cap de la surprise et de la découverte... :<br>\n<br></p>\n<p data-lines=\"71,80\">Au delà de l'aspect qui peut sembler ludique, et plutôt sympa sur le plan esthétique,<br>\ncar étant coloré, animé et dynamique, ce Mémo peut vite devenir, au fil du temps,<br>\n<strong>votre allié le plus puissant</strong> pour avoir une <strong>vision</strong> quasi <strong>synoptique du sujet étudié</strong>.<br><br>\nDonc, si vous parvenez à réussir à l'utiliser, ne serait-ce dans un premier temps,<br>\npour découvrir, apprendre, voire réviser vos connaissances, vous observerez<br>\nen principe assez rapidement dans l'avenir que vous saurez y revenir, et y <strong>retrouver</strong>,<br>\nparce qu'organisées, <strong>facilement et rapidement</strong>, les <strong>infos dont vous aurez alors<br>\nponctuellement besoin</strong> :-) !<br>\n<br></p>\n<p data-lines=\"81,82\"><em>Bon usage... Et bon code !</em></p>","children":[],"payload":{"lines":"66,83"}}],"payload":{"lines":"64,65","fold":1}}],"payload":{"lines":"11,12","fold":1}},{"content":"LARAVEL VOLT - Généralités","children":[{"content":"1 / Bases Laravel","children":[{"content":"<strong>composer  create-project laravel/laravel monapp --prefer-dist</strong>","children":[],"payload":{"lines":"87,88"}},{"content":"Paramètres .env file (APP_NAME, APP_URL &amp; DB_DATABASE)","children":[],"payload":{"lines":"88,89"}},{"content":"Ajout Fr :<br>\n<strong>composer require --dev laravel-lang/common<br>\nphp artisan lang:update</strong>","children":[],"payload":{"lines":"89,92"}},{"content":"Ajout Debugbar : <strong>composer require barryvdh/laravel-debugbar --dev</strong>","children":[],"payload":{"lines":"92,94"}}],"payload":{"lines":"85,86","fold":1}},{"content":"2 / Gestion des Models et Tables","children":[{"content":"Légendes","children":[{"content":"Mmm : Nom d'un Model (ex. User)","children":[],"payload":{"lines":"98,99"}},{"content":"Ttt : Nom d'une table (ex. users)","children":[],"payload":{"lines":"99,100"}},{"content":"Ccc : Nom d'une colonne (ex. name)","children":[],"payload":{"lines":"100,102"}}],"payload":{"lines":"96,97","fold":1}},{"content":"Tables","children":[{"content":"\n<p data-lines=\"104,105\">Migration seule : <em>php artisan make:migration create_nnn_table</em></p>","children":[],"payload":{"lines":"104,105"}},{"content":"\n<p data-lines=\"105,106\">Factory : <em>php artisan make:factory MmmFactory</em></p>","children":[],"payload":{"lines":"105,106"}},{"content":"\n<p data-lines=\"106,107\">Seeders : <em>php artisan make:seeder MmmSeeder</em></p>","children":[],"payload":{"lines":"106,107"}},{"content":"\n<p data-lines=\"107,108\">Penser à appeler les seeders dans database/seeders/DataBaseSeeder.php:</p>\n<pre><code class=\"language-php\">  <span class=\"hljs-variable language_\">$this</span>*&gt;<span class=\"hljs-title function_ invoke__\">call</span>([\n    <span class=\"hljs-title class_\">Mmm1Seeder</span>::<span class=\"hljs-variable language_\">class</span>,\n    <span class=\"hljs-title class_\">Mmm2Seeder</span>::<span class=\"hljs-variable language_\">class</span>,\n    etc...\n  ]);\n</code></pre>","children":[],"payload":{"lines":"107,117"}},{"content":"\n<p data-lines=\"117,118\">Puis à les exécuter : <em>php artisan db:seed</em></p>","children":[],"payload":{"lines":"117,119"}}],"payload":{"lines":"102,103","fold":1}},{"content":"Models, relations &amp; migrations","children":[{"content":"\n<p data-lines=\"121,124\">Model (Mmm) :<br>\n- <strong>protected $timestamps = false;</strong> <em>Si pas besoin des champs created_at &amp; updated_at</em><br>\n- <strong>protected $fillable = ['Ccc1', 'Ccc2', ...];</strong> <em>Pour population en masse</em></p>","children":[],"payload":{"lines":"121,125"}},{"content":"\n<p data-lines=\"125,126\">Relations :</p>","children":[{"content":"1:n :","children":[{"content":"(1): Dans MmmN :<br>\n&nbsp; &nbsp; - <strong>use Illuminate\\Database\\Eloquent\\Relations\\BelongsTo;</strong><br>\n&nbsp; &nbsp; - <strong>public function Mmm1(): BelongsTo {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return $this→belongsTo(Mmm1::class);<br>\n&nbsp; &nbsp; &nbsp; }</strong>","children":[],"payload":{"lines":"127,132"}},{"content":"(n): Dans Mmm1 !<br>\n&nbsp; &nbsp; - <strong>use Illuminate\\Database\\Eloquent\\Relations\\HasMany;</strong><br>\n&nbsp; &nbsp; - <strong>public function MmmN(): HasMany {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return $this→HasMany(MmmN::class);<br>\n&nbsp; &nbsp; &nbsp; }</strong>","children":[],"payload":{"lines":"132,138"}}],"payload":{"lines":"126,138"}}],"payload":{"lines":"125,138"}},{"content":"\n<p data-lines=\"138,142\">Migrations seules :<br>\n- <strong>php artisan make:migration create_Ttt_table</strong><br>\n- <strong>php artisan make:migration create_Ttt_table --create=products</strong><br>\n- <strong>php artisan make:migration add_Ccc_to_Ttt_table --table=Ttt</strong></p>","children":[],"payload":{"lines":"138,143"}},{"content":"\n<p data-lines=\"143,147\">Model &amp; sa Migration simultanément :<br>\n- <strong>php artisan make:model Mmm -migration</strong><br>\nou<br>\n- <strong>php artisan make:model Mmm -m</strong></p>","children":[],"payload":{"lines":"143,148"}},{"content":"\n<p data-lines=\"148,151\">Exécuter les migrations seules :<br>\n- <strong>php artisan migrate</strong> <em>la 1ère fois</em><br>\n- <strong>php artisan migrate:refresh --seed</strong> <em>pour reset complet</em></p>","children":[],"payload":{"lines":"148,152"}}],"payload":{"lines":"119,120","fold":1}}],"payload":{"lines":"94,95","fold":1}},{"content":"3 / Divers","children":[{"content":"\n<p data-lines=\"154,156\">Les Helpers ( app/<strong>helpers.php</strong> )<br>\n(<em>Y écrire les fonctions appelées souvent d'un peu n'importe où ensuite</em>)</p>","children":[],"payload":{"lines":"154,157"}},{"content":"\n<p data-lines=\"157,159\">./<strong>composer.json</strong> :<br>\n<br></p>\n<pre><code class=\"language-php\">  ...\n  <span class=\"hljs-string\">\"autoload\"</span>: {\n    <span class=\"hljs-string\">\"files\"</span>: [\n      <span class=\"hljs-string\">\"app/helpers.php\"</span>\n    ],\n    ...\n  },\n  ...\n</code></pre>\n<br>\n<pre><code class=\"language-bash\">  composer dumpautoload\n</code></pre>","children":[],"payload":{"lines":"157,177"}}],"payload":{"lines":"152,153","fold":1}},{"content":"Extrait de: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-donnees\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-donnees</a></strong></em>","children":[],"payload":{"lines":"177,178"}},{"content":"Technos","children":[{"content":"MaryUI","children":[{"content":"Installation de MaryUI","children":[{"content":"\n<pre><code class=\"language-bash\">  composer require robsontenorio/mary\n  php artisan mary:install\n</code></pre>","children":[],"payload":{"lines":"185,190"}},{"content":"\n<p data-lines=\"190,191\">→ <strong>0</strong> (livewire/Volt)</p>","children":[],"payload":{"lines":"190,191"}},{"content":"\n<p data-lines=\"191,192\">→ <strong>npm install --save-dev</strong> (npm)</p>","children":[],"payload":{"lines":"191,193"}}],"payload":{"lines":"183,184"}},{"content":"Réf.: <strong><a href=\"https://mary-ui.com\" title=\"Voir les détails\" target=\"_blank\">Doc complète MaryUI</a></strong>","children":[],"payload":{"lines":"193,194"}}],"payload":{"lines":"181,182","fold":1}},{"content":"Volt","children":[{"content":"Bases d'un composant VOLT","children":[{"content":"\n<p data-lines=\"199,200\">UNE FONCTIONNALITÉ avec UN COMPOSANT VOLT (LOGIQUE + VUE) :</p>","children":[],"payload":{"lines":"199,201"}},{"content":"\n<p data-lines=\"201,202\">1 / Définir une route ( ./route/<strong>web.php</strong> ) :</p>\n<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Volt</span>\\<span class=\"hljs-title\">Volt</span>\n  ...\n  <span class=\"hljs-title\">Volt</span>::<span class=\"hljs-title\">route</span>('/<span class=\"hljs-title\">url</span>', '<span class=\"hljs-title\">dossier</span>(<span class=\"hljs-title\">s</span>).<span class=\"hljs-title\">fichier</span>')-&gt;<span class=\"hljs-title\">name</span>('<span class=\"hljs-title\">dossier</span>.<span class=\"hljs-title\">fichier</span>');\n</code></pre>\n<p data-lines=\"209,210\">→ Recommandé à chaque changement des routes :</p>\n<pre><code class=\"language-bash\">  php artisan view:clear &amp; php artisan route:clear\n</code></pre>\n<p data-lines=\"215,216\">→ Pour contrôle, liste de toutes les routes :</p>\n<pre><code class=\"language-bash\">  php artisan route:list\n</code></pre>","children":[],"payload":{"lines":"201,221"}},{"content":"\n<p data-lines=\"221,222\">2 / Créer un lien quelque part (NavBar, SideBar, Menus, Autres...)</p>","children":[],"payload":{"lines":"221,223"}},{"content":"\n<p data-lines=\"223,224\">3 / Créer le composant :</p>\n<pre><code class=\"language-bash\">  php artisan make:volt dossier/fichier --class\n</code></pre>\n<p data-lines=\"229,232\">&nbsp; &nbsp; &nbsp;Y définir :<br>\n&nbsp; &nbsp; &nbsp; - La Logique (La classe <strong>PHP</strong>)<br>\n&nbsp; &nbsp; &nbsp; - La Vue (HTML - Template <strong>Blade</strong>)</p>","children":[],"payload":{"lines":"223,233"}},{"content":"\n<p data-lines=\"233,234\">4 / Parfois, besoin de styliser quelques balises :</p>\n<p data-lines=\"235,236\">&nbsp; &nbsp; &nbsp; → Créer/Compléter le fichier <strong>.css</strong> dans le dossier <strong>resources/css</strong></p>","children":[],"payload":{"lines":"233,237"}},{"content":"\n<p data-lines=\"237,238\">5 / Souvent, besoin de traduire quelques termes :</p>\n<p data-lines=\"239,240\">&nbsp; &nbsp; &nbsp; → Définir les clés:valeurs pour le fichier de langue (ex.: lang/<strong>fr.json</strong>)</p>","children":[],"payload":{"lines":"237,241"}}],"payload":{"lines":"197,198"}}],"payload":{"lines":"195,196","fold":1}},{"content":"Extraits de : <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-lauthentification\" title=\"Voir la totale\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-lauthentification</a></strong></em>","children":[],"payload":{"lines":"243,244"}}],"payload":{"lines":"179,180"}}],"payload":{"lines":"83,84","fold":1}},{"content":"Le projet (Mon CMS)","children":[{"content":"Installation de Laravel","children":[{"content":"Commande de base","children":[{"content":"\n<p data-lines=\"251,252\">En <em><strong>CLI</strong> - <strong>C</strong>ommande <strong>L</strong>ine <strong>I</strong>nterface</em> (Console) :</p>\n<pre><code class=\"language-bash\">  composer create-project laravel/laravel moncms --prefer-dist\n</code></pre>","children":[],"payload":{"lines":"251,257"}},{"content":"\n<p data-lines=\"257,259\">Cette commande inclue l'installation des dépendances (PHP) et librairies (JS)...<br>\n... Pour relancer parfois leurs mises à jours, utiliser les commandes suivantes en CLI :</p>\n<pre><code class=\"language-bash\">  composer update\n</code></pre>\n<p data-lines=\"264,265\">Et :</p>\n<pre><code class=\"language-bash\">  npm i\n</code></pre>","children":[],"payload":{"lines":"257,270"}}],"payload":{"lines":"249,250"}},{"content":"Settings ( ./.env )","children":[{"content":"\n<p data-lines=\"272,273\">Adapter le ./<strong>.env</strong> :</p>\n<pre><code class=\"language-json\">  APP_NAME=\"Mon CMS\"\n  ...\n  APP_URL=http://moncms (là ajustez selon votre serveur local)\n  ...\n  APP_LOCALE=fr\n  ...\n  DB_CONNECTION=mysql OU sqlite (Alors, pas besoin des lignes DB_... ci-dessous)\n  DB_HOST=127.0.0.1\n  DB_PORT=3306\n  DB_DATABASE=moncms\n  DB_USERNAME=root\n  DB_PASSWORD=\n  ...\n  MAIL_FROM_USER=\"MonPseudo\"\n  MAIL_FROM_ADDRESS=\"MonEmail@example.com\"\n  ...\n</code></pre>","children":[],"payload":{"lines":"272,293"}},{"content":"\n<p data-lines=\"293,294\">Pour contrôle :</p>\n<pre><code class=\"language-bash\">  php artisan about\n</code></pre>","children":[],"payload":{"lines":"293,299"}},{"content":"\n<p data-lines=\"299,302\">À noter: ∃ un fichier ./<strong>.env_exemple</strong>...En effet, lors du dépôt <strong>Git</strong> d'un projet, le ./<strong>.env</strong> est souvent,<br>\npour ne pas dire toujours, ignoré des <strong>push</strong>es... Donc, en cas de clone par un tier, ce fichier sert<br>\nde matrice pour l'aider à recréer son ./<strong>.env</strong></p>","children":[],"payload":{"lines":"299,303"}}],"payload":{"lines":"270,271"}}],"payload":{"lines":"247,248","fold":1}},{"content":"Exécuter votre script","children":[{"content":"Start &amp; &amp; || Restart des serveurs","children":[{"content":"\n<p data-lines=\"307,308\"><strong>PHP</strong> dans une première console (<strong>CLI</strong>):</p>","children":[],"payload":{"lines":"307,309"}},{"content":"\n<pre><code class=\"language-bash\">  php artisan serv\n</code></pre>","children":[],"payload":{"lines":"309,313"}},{"content":"\n<p data-lines=\"313,314\"><strong>VITE!</strong> dans une seconde CLI :</p>","children":[],"payload":{"lines":"313,315"}},{"content":"\n<pre><code class=\"language-bash\">  npm run dev\n</code></pre>","children":[],"payload":{"lines":"315,319"}}],"payload":{"lines":"305,306"}},{"content":"Ouvrir votre navigateur sur <a href=\"http://127.0.0.1:8000\">http://127.0.0.1:8000</a>","children":[],"payload":{"lines":"319,320"}}],"payload":{"lines":"303,304","fold":1}},{"content":"Outil recommandé (La Debugbar)","children":[{"content":"\n<p data-lines=\"323,325\">Installer la debugbar, active qu'en développement<br>\n(Dans ./<strong>.env</strong> : <strong>APP_DEBUG = true</strong>) :</p>\n<pre><code class=\"language-bash\">  composer require barryvdh/laravel-debugbar --dev\n</code></pre>","children":[],"payload":{"lines":"323,330"}},{"content":"\n<p data-lines=\"330,331\"><em>Restart</em> ([Re]démarrer) les serveurs</p>","children":[],"payload":{"lines":"330,332"}}],"payload":{"lines":"321,322","fold":1}},{"content":"Package des langues","children":[{"content":"\n<pre><code class=\"language-bash\">  composer require --dev laravel-lang/common\n  php artisan lang:update\n</code></pre>","children":[],"payload":{"lines":"334,339"}},{"content":"\n<p data-lines=\"339,340\">Et modifier dans le fichier généré: lang/<strong>fr.Json</strong> :</p>\n<pre><code class=\"language-json\">  <span class=\"hljs-attr\">\"Home\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Maison\"</span><span class=\"hljs-punctuation\">,</span>\n</code></pre>","children":[],"payload":{"lines":"339,345"}},{"content":"\n<p data-lines=\"345,346\">en :</p>\n<pre><code class=\"language-json\">  <span class=\"hljs-attr\">\"Home\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Accueil\"</span><span class=\"hljs-punctuation\">,</span>\n</code></pre>","children":[],"payload":{"lines":"345,351"}}],"payload":{"lines":"332,333","fold":1}},{"content":"Les données","children":[{"content":"Tables users","children":[{"content":"database/migrations/<strong>0001_01_01_000000_create_users_table.php</strong>","children":[{"content":"<pre><code class=\"language-php\">  public function up(): void {\n    Schema::create('users', function (Blueprint $table) {\n      $table-&gt;id();\n      $table-&gt;string('name');\n      $table-&gt;string('email')-&gt;unique();\n      $table-&gt;string('password');\n      $table-&gt;enum('role', ['user', 'redac', 'admin'])-&gt;default('user');\n      $table-&gt;boolean('valid')-&gt;default(false);\n      $table-&gt;rememberToken();\n      $table-&gt;timestamps();\n    });\n    ...\n  }\n</code></pre>","children":[]}],"payload":{"lines":"355,356","fold":1}},{"content":"database/factories/<strong>UserFactory.php</strong>","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">UserFactory</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Factory</span> </span>{\n  <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-built_in\">static</span> ?<span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$password</span>;\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">definition</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">array</span> </span>{\n  [<span class=\"hljs-variable\">$name</span>, <span class=\"hljs-variable\">$email</span>] = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">uniqueUsersEmail</span>();\n      <span class=\"hljs-keyword\">return</span> [\n          <span class=\"hljs-string\">'name'</span>           =&gt; <span class=\"hljs-variable\">$name</span>,\n          <span class=\"hljs-string\">'email'</span>          =&gt; <span class=\"hljs-variable\">$email</span>,\n          <span class=\"hljs-string\">'password'</span>       =&gt; <span class=\"hljs-built_in\">static</span>::<span class=\"hljs-variable\">$password</span> ??= <span class=\"hljs-title class_\">Hash</span>::<span class=\"hljs-title function_ invoke__\">make</span>(<span class=\"hljs-string\">'password'</span>),\n          <span class=\"hljs-string\">'remember_token'</span> =&gt; <span class=\"hljs-title class_\">Str</span>::<span class=\"hljs-title function_ invoke__\">random</span>(<span class=\"hljs-number\">10</span>),\n          <span class=\"hljs-string\">'valid'</span>          =&gt; <span class=\"hljs-literal\">true</span>,\n      ];\n  }\n  \n  <span class=\"hljs-comment\">/**\n   * Indicate that the model's email address should be unverified.\n   */</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">unverified</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">static</span> </span>{\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">state</span>(fn (<span class=\"hljs-keyword\">array</span> <span class=\"hljs-variable\">$attributes</span>) =&gt; [\n          <span class=\"hljs-string\">'email_verified_at'</span> =&gt; <span class=\"hljs-literal\">null</span>,\n      ]);\n  }\n  \n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">uniqueUsersEmail</span>(<span class=\"hljs-params\"></span>) </span>{\n    <span class=\"hljs-built_in\">static</span> <span class=\"hljs-variable\">$names</span>;\n\n    <span class=\"hljs-variable\">$name</span> = <span class=\"hljs-title function_ invoke__\">fake</span>(<span class=\"hljs-string\">'fr_FR'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">lastname</span>();\n    <span class=\"hljs-comment\">// $name = $this-&gt;fakeFakes();</span>\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-keyword\">isset</span>(<span class=\"hljs-variable\">$names</span>[<span class=\"hljs-variable\">$name</span>])) {\n      <span class=\"hljs-variable\">$names</span>[<span class=\"hljs-variable\">$name</span>] = <span class=\"hljs-number\">1</span>;\n      <span class=\"hljs-built_in\">self</span>::<span class=\"hljs-variable\">$users</span>[] = <span class=\"hljs-variable\">$pseudo</span> = <span class=\"hljs-variable\">$name</span>;\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-variable\">$names</span>[<span class=\"hljs-variable\">$name</span>]++;\n      <span class=\"hljs-variable\">$pseudo</span> = <span class=\"hljs-built_in\">self</span>::<span class=\"hljs-variable\">$users</span>[] = <span class=\"hljs-variable\">$name</span> . <span class=\"hljs-string\">'-'</span> . (<span class=\"hljs-variable\">$names</span>[<span class=\"hljs-variable\">$name</span>] - <span class=\"hljs-number\">1</span>);\n    }\n    <span class=\"hljs-variable\">$email</span> = <span class=\"hljs-title function_ invoke__\">strtolower</span>(<span class=\"hljs-title function_ invoke__\">str_replace</span>(<span class=\"hljs-string\">' '</span>, <span class=\"hljs-string\">'_'</span>, <span class=\"hljs-variable\">$pseudo</span>) ) . <span class=\"hljs-string\">'@example.com'</span>;\n\n    <span class=\"hljs-keyword\">return</span> [<span class=\"hljs-variable\">$name</span>, <span class=\"hljs-variable\">$email</span>];\n  }\n\n<span class=\"hljs-comment\">// private function fakeFakes() {</span>\n<span class=\"hljs-comment\">//   static $n  = 0;</span>\n<span class=\"hljs-comment\">//   $fakeFakes = ['a', 'b', 'a', 'b', 'd', 'a', 'e'];</span>\n\n<span class=\"hljs-comment\">//   return $fakeFakes[$n++ % count($fakeFakes)];</span>\n<span class=\"hljs-comment\">// }</span>\n}\n</code></pre>","children":[]}],"payload":{"lines":"373,374","fold":1}},{"content":"app/Models/<strong>User.php</strong>","children":[{"content":"<pre><code class=\"language-php\">  ...\n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">User</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Authenticatable</span> </span>{   \n    ...\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$fillable</span> = [<span class=\"hljs-string\">'name'</span>, <span class=\"hljs-string\">'email'</span>, <span class=\"hljs-string\">'password'</span>, <span class=\"hljs-string\">'role'</span>, <span class=\"hljs-string\">'valid'</span>];\n  }\n</code></pre>","children":[]}],"payload":{"lines":"425,426","fold":1}}],"payload":{"lines":"353,354","fold":1}},{"content":"Tables categories","children":[{"content":"Model &amp; migration des categories","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:model Category --migration\n</code></pre>","children":[]}],"payload":{"lines":"437,438","fold":1}},{"content":"Migrations des categories","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">up</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'categories'</span>, function (Blueprint <span class=\"hljs-variable\">$table</span>) {\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'title'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">unique</span>();\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'slug'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">unique</span>();\n    });\n  }\n</code></pre>","children":[]}],"payload":{"lines":"443,444","fold":1}},{"content":"app/Models/Category","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  ...\n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Category</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-variable\">$timestamps</span> = <span class=\"hljs-literal\">false</span>;\n  \n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$fillable</span> = [<span class=\"hljs-string\">'title'</span>, <span class=\"hljs-string\">'slug'</span>];\n  }\n</code></pre>","children":[]}],"payload":{"lines":"455,456","fold":1}}],"payload":{"lines":"435,436","fold":1}},{"content":"Tables posts (Articles)","children":[{"content":"Création model &amp; migration des articles","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:model Post --migration\n</code></pre>","children":[]}],"payload":{"lines":"469,470","fold":1}},{"content":"Migration des articles","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">up</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'posts'</span>, function (Blueprint <span class=\"hljs-variable\">$table</span>) {\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">timestamps</span>();\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'title'</span>);\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'slug'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">unique</span>();\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">mediumText</span>(<span class=\"hljs-string\">'body'</span>);\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">boolean</span>(<span class=\"hljs-string\">'active'</span>)-&gt;<span class=\"hljs-keyword\">default</span>(<span class=\"hljs-literal\">false</span>);\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'image'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">nullable</span>();\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'seo_title'</span>);\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">text</span>(<span class=\"hljs-string\">'meta_description'</span>);\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">text</span>(<span class=\"hljs-string\">'meta_keywords'</span>);\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">boolean</span>(<span class=\"hljs-string\">'pinned'</span>)-&gt;<span class=\"hljs-keyword\">default</span>(<span class=\"hljs-literal\">false</span>);\n\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">foreignId</span>(<span class=\"hljs-string\">'user_id'</span>)\n      -&gt;<span class=\"hljs-title function_ invoke__\">constrained</span>()\n      -&gt;<span class=\"hljs-title function_ invoke__\">onDelete</span>(<span class=\"hljs-string\">'cascade'</span>)\n      -&gt;<span class=\"hljs-title function_ invoke__\">onUpdate</span>(<span class=\"hljs-string\">'cascade'</span>);\n\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">foreignId</span>(<span class=\"hljs-string\">'category_id'</span>)\n      -&gt;<span class=\"hljs-title function_ invoke__\">constrained</span>()\n      -&gt;<span class=\"hljs-title function_ invoke__\">onDelete</span>(<span class=\"hljs-string\">'cascade'</span>)\n      -&gt;<span class=\"hljs-title function_ invoke__\">onUpdate</span>(<span class=\"hljs-string\">'cascade'</span>);\n    });\n  }\n</code></pre>","children":[]}],"payload":{"lines":"475,476","fold":1}},{"content":"Création Factory des articles","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:factory PostFactory\n</code></pre>","children":[]}],"payload":{"lines":"505,506","fold":1}},{"content":"Code factory articles","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">definition</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">array</span> </span>{\n    <span class=\"hljs-keyword\">return</span> [\n      <span class=\"hljs-string\">'body'</span>             =&gt; <span class=\"hljs-title function_ invoke__\">fake</span>()-&gt;<span class=\"hljs-title function_ invoke__\">paragraphs</span>(<span class=\"hljs-variable\">$nb</span> = <span class=\"hljs-number\">8</span>, <span class=\"hljs-variable\">$asText</span> = <span class=\"hljs-literal\">true</span>),\n      <span class=\"hljs-string\">'meta_description'</span> =&gt; <span class=\"hljs-title function_ invoke__\">fake</span>()-&gt;<span class=\"hljs-title function_ invoke__\">sentence</span>(<span class=\"hljs-variable\">$nbWords</span> = <span class=\"hljs-number\">6</span>, <span class=\"hljs-variable\">$variableNbWords</span> = <span class=\"hljs-literal\">true</span>),\n      <span class=\"hljs-string\">'meta_keywords'</span>    =&gt; <span class=\"hljs-title function_ invoke__\">implode</span>(<span class=\"hljs-string\">','</span>, <span class=\"hljs-title function_ invoke__\">fake</span>()-&gt;<span class=\"hljs-title function_ invoke__\">words</span>(<span class=\"hljs-variable\">$nb</span> = <span class=\"hljs-number\">3</span>, <span class=\"hljs-variable\">$asText</span> = <span class=\"hljs-literal\">false</span>)),\n      <span class=\"hljs-string\">'active'</span>           =&gt; <span class=\"hljs-literal\">true</span>,\n    ];\n  }\n</code></pre>","children":[]}],"payload":{"lines":"511,512","fold":1}},{"content":"app/Models/Post","children":[{"content":"<pre><code class=\"language-php\">  ...\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Factories</span>\\<span class=\"hljs-title\">HasFactory</span>;\n  ...\n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Post</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">HasFactory</span>;\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$fillable</span> = [<span class=\"hljs-string\">'title'</span>, <span class=\"hljs-string\">'slug'</span>, <span class=\"hljs-string\">'body'</span>, <span class=\"hljs-string\">'active'</span>, <span class=\"hljs-string\">'image'</span>, <span class=\"hljs-string\">'user_id'</span>, <span class=\"hljs-string\">'category_id'</span>, <span class=\"hljs-string\">'seo_title'</span>, <span class=\"hljs-string\">'meta_description'</span>, <span class=\"hljs-string\">'meta_keywords'</span>, <span class=\"hljs-string\">'pinned'</span>];\n  }\n</code></pre>","children":[]}],"payload":{"lines":"524,525","fold":1}}],"payload":{"lines":"467,468","fold":1}},{"content":"Les relations","children":[{"content":"Les relations dans Models/Post.php","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Relations</span>\\<span class=\"hljs-title\">BelongsTo</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Post</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    ...\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">user</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">BelongsTo</span> </span>{\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">belongsTo</span>(<span class=\"hljs-title class_\">User</span>::<span class=\"hljs-variable language_\">class</span>);\n    }\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">category</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">BelongsTo</span> </span>{\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">belongsTo</span>(<span class=\"hljs-title class_\">Category</span>::<span class=\"hljs-variable language_\">class</span>);\n    }\n  }\n</code></pre>","children":[]}],"payload":{"lines":"538,539","fold":1}},{"content":"La relation dans Models/User.php","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Relations</span>\\<span class=\"hljs-title\">HasMany</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">User</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Authenticatable</span> </span>{\n    ...\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">posts</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">HasMany</span> </span>{\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">hasMany</span>(<span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-variable language_\">class</span>);\n    }\n    ...\n  }\n</code></pre>","children":[]}],"payload":{"lines":"554,555","fold":1}},{"content":"La relation dans Models/Category.php","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Relations</span>\\<span class=\"hljs-title\">HasMany</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Category</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    ...\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">posts</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">HasMany</span> </span>{\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">hasMany</span>(<span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-variable language_\">class</span>);\n    }\n  }\n</code></pre>","children":[]}],"payload":{"lines":"568,569","fold":1}}],"payload":{"lines":"536,537","fold":1}},{"content":"Exécution des migrations","children":[{"content":"<strong><a href=\"https://laravel.sillo.org/storage/photos/2024/08/XIVfqMqmJ7OUNl9kwGWNk5duv0U0nweTIz2nbI1E.png\" title=\"Voir les détails\" target=\"_blank\">Voir diagramme UML des 3 tables</a></strong>","children":[],"payload":{"lines":"587,588"}}],"payload":{"lines":"581,582","fold":1}},{"content":"Population de users","children":[{"content":"Création du seeder User","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:seeder UserSeeder\n</code></pre>","children":[]}],"payload":{"lines":"591,592"}},{"content":"Code du seeder des fake users","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">Database</span>\\<span class=\"hljs-title class_\">Seeders</span>;\n  \n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Carbon</span>\\<span class=\"hljs-title\">Carbon</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\<span class=\"hljs-title\">User</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">UserSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>) </span>{\n      <span class=\"hljs-variable\">$users</span> = [\n        [\n            <span class=\"hljs-string\">'name'</span>       =&gt; <span class=\"hljs-string\">'Admin'</span>,\n            <span class=\"hljs-string\">'email'</span>      =&gt; <span class=\"hljs-string\">'admin@example.com'</span>,\n            <span class=\"hljs-string\">'role'</span>       =&gt; <span class=\"hljs-string\">'admin'</span>,\n            <span class=\"hljs-string\">'created_at'</span> =&gt; <span class=\"hljs-title class_\">Carbon</span>::<span class=\"hljs-title function_ invoke__\">now</span>()-&gt;<span class=\"hljs-title function_ invoke__\">subYears</span>(<span class=\"hljs-number\">3</span>),\n            <span class=\"hljs-string\">'updated_at'</span> =&gt; <span class=\"hljs-title class_\">Carbon</span>::<span class=\"hljs-title function_ invoke__\">now</span>()-&gt;<span class=\"hljs-title function_ invoke__\">subYears</span>(<span class=\"hljs-number\">3</span>),\n        ],\n        [\n            <span class=\"hljs-string\">'name'</span>       =&gt; <span class=\"hljs-string\">'Redac'</span>,\n            <span class=\"hljs-string\">'email'</span>      =&gt; <span class=\"hljs-string\">'redac@example.com'</span>,\n            <span class=\"hljs-string\">'role'</span>       =&gt; <span class=\"hljs-string\">'redac'</span>,\n            <span class=\"hljs-string\">'created_at'</span> =&gt; <span class=\"hljs-title class_\">Carbon</span>::<span class=\"hljs-title function_ invoke__\">now</span>()-&gt;<span class=\"hljs-title function_ invoke__\">subYears</span>(<span class=\"hljs-number\">3</span>),\n            <span class=\"hljs-string\">'updated_at'</span> =&gt; <span class=\"hljs-title class_\">Carbon</span>::<span class=\"hljs-title function_ invoke__\">now</span>()-&gt;<span class=\"hljs-title function_ invoke__\">subYears</span>(<span class=\"hljs-number\">3</span>),\n        ],\n        [\n            <span class=\"hljs-string\">'name'</span>       =&gt; <span class=\"hljs-string\">'User'</span>,\n            <span class=\"hljs-string\">'email'</span>      =&gt; <span class=\"hljs-string\">'user@example.com'</span>,\n            <span class=\"hljs-string\">'role'</span>       =&gt; <span class=\"hljs-string\">'user'</span>,\n            <span class=\"hljs-string\">'created_at'</span> =&gt; <span class=\"hljs-title class_\">Carbon</span>::<span class=\"hljs-title function_ invoke__\">now</span>()-&gt;<span class=\"hljs-title function_ invoke__\">subYears</span>(<span class=\"hljs-number\">2</span>),\n            <span class=\"hljs-string\">'updated_at'</span> =&gt; <span class=\"hljs-title class_\">Carbon</span>::<span class=\"hljs-title function_ invoke__\">now</span>()-&gt;<span class=\"hljs-title function_ invoke__\">subYears</span>(<span class=\"hljs-number\">2</span>),\n        ],\n        [\n            <span class=\"hljs-string\">'name'</span>       =&gt; <span class=\"hljs-title function_ invoke__\">env</span>(<span class=\"hljs-string\">'MAIL_FROM_USER'</span>, <span class=\"hljs-string\">'Moi'</span>),\n            <span class=\"hljs-string\">'email'</span>      =&gt; <span class=\"hljs-title function_ invoke__\">env</span>(<span class=\"hljs-string\">'MAIL_FROM_ADDRESS'</span>, <span class=\"hljs-string\">'moi@example.com'</span>),\n            <span class=\"hljs-string\">'role'</span>       =&gt; <span class=\"hljs-string\">'admin'</span>,\n            <span class=\"hljs-string\">'created_at'</span> =&gt; <span class=\"hljs-title class_\">Carbon</span>::<span class=\"hljs-title function_ invoke__\">now</span>()-&gt;<span class=\"hljs-title function_ invoke__\">subYears</span>(<span class=\"hljs-number\">3</span>),\n            <span class=\"hljs-string\">'updated_at'</span> =&gt; <span class=\"hljs-title class_\">Carbon</span>::<span class=\"hljs-title function_ invoke__\">now</span>()-&gt;<span class=\"hljs-title function_ invoke__\">subYears</span>(<span class=\"hljs-number\">3</span>),\n        ],\n      ];\n      <span class=\"hljs-keyword\">foreach</span> (<span class=\"hljs-variable\">$users</span> <span class=\"hljs-keyword\">as</span> <span class=\"hljs-variable\">$userData</span>) {\n        <span class=\"hljs-title class_\">User</span>::<span class=\"hljs-title function_ invoke__\">factory</span>()-&gt;<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-variable\">$userData</span>);\n      }\n      <span class=\"hljs-title class_\">User</span>::<span class=\"hljs-title function_ invoke__\">factory</span>(<span class=\"hljs-number\">3</span>)-&gt;<span class=\"hljs-title function_ invoke__\">create</span>();\n\n      <span class=\"hljs-variable\">$u</span> = <span class=\"hljs-title class_\">User</span>::<span class=\"hljs-title function_ invoke__\">find</span>(<span class=\"hljs-number\">6</span>);\n      <span class=\"hljs-variable\">$u</span>-&gt;valid = <span class=\"hljs-literal\">false</span>;\n      <span class=\"hljs-variable\">$u</span>-&gt;<span class=\"hljs-title function_ invoke__\">save</span>()\n    }\n  }\n</code></pre>","children":[]}],"payload":{"lines":"597,598"}}],"payload":{"lines":"589,590","fold":1}},{"content":"Population de categories","children":[{"content":"Création du seeder Category","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:seeder CategorySeeder\n</code></pre>","children":[]}],"payload":{"lines":"653,654"}},{"content":"Code du seeder des fake categories","children":[{"content":"<pre><code class=\"language-php\">...\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable\">$nbCategories</span> = <span class=\"hljs-number\">3</span>;\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-variable\">$i</span> = <span class=\"hljs-number\">1</span>; <span class=\"hljs-variable\">$i</span> &lt;= <span class=\"hljs-variable\">$nbCategories</span>; ++<span class=\"hljs-variable\">$i</span>) {\n      <span class=\"hljs-variable\">$title</span>        = <span class=\"hljs-string\">\"Catégorie <span class=\"hljs-subst\">{$i}</span>\"</span>;\n      <span class=\"hljs-variable\">$titleForSlug</span> = <span class=\"hljs-title function_ invoke__\">str_replace</span>(<span class=\"hljs-string\">'ie'</span>, <span class=\"hljs-string\">'y'</span>, <span class=\"hljs-variable\">$title</span>);\n      <span class=\"hljs-variable\">$slug</span>         = <span class=\"hljs-title class_\">Str</span>::<span class=\"hljs-title function_ invoke__\">slug</span>(<span class=\"hljs-variable\">$titleForSlug</span>);\n      <span class=\"hljs-title class_\">Category</span>::<span class=\"hljs-title function_ invoke__\">create</span>([<span class=\"hljs-string\">'title'</span> =&gt; <span class=\"hljs-variable\">$title</span>, <span class=\"hljs-string\">'slug'</span> =&gt; <span class=\"hljs-variable\">$slug</span>]);\n    }\n}\n</code></pre>","children":[]}],"payload":{"lines":"659,660"}}],"payload":{"lines":"651,652","fold":1}},{"content":"Population de posts","children":[{"content":"Créer app/<strong>helpers.php</strong>","children":[{"content":"Y copier : generateRandomDateInRange()","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_ invoke__\">function_exists</span>(<span class=\"hljs-string\">'generateRandomDateInRange'</span>)) {\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">generateRandomDateInRange</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$startDate</span>, <span class=\"hljs-variable\">$endDate</span></span>) </span>{\n      <span class=\"hljs-variable\">$start</span> = <span class=\"hljs-title class_\">Carbon\\Carbon</span>::<span class=\"hljs-title function_ invoke__\">parse</span>(<span class=\"hljs-variable\">$startDate</span>);\n      <span class=\"hljs-variable\">$end</span>   = <span class=\"hljs-title class_\">Carbon\\Carbon</span>::<span class=\"hljs-title function_ invoke__\">parse</span>(<span class=\"hljs-variable\">$endDate</span>);\n  \n      <span class=\"hljs-variable\">$difference</span> = <span class=\"hljs-variable\">$end</span>-&gt;timestamp - <span class=\"hljs-variable\">$start</span>-&gt;timestamp;\n  \n      <span class=\"hljs-variable\">$randomSeconds</span> = <span class=\"hljs-title function_ invoke__\">rand</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-variable\">$difference</span>);\n  \n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$start</span>-&gt;<span class=\"hljs-title function_ invoke__\">copy</span>()-&gt;<span class=\"hljs-title function_ invoke__\">addSeconds</span>(<span class=\"hljs-variable\">$randomSeconds</span>);\n    }\n  }\n</code></pre>","children":[]}],"payload":{"lines":"678,679"}},{"content":"Activation de ce helper dans <strong>composer.json</strong>","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-string\">\"autoload\"</span>: {\n      <span class=\"hljs-string\">\"files\"</span>: [\n        <span class=\"hljs-string\">\"app/helpers.php\"</span>\n      ],\n      ...\n  },\n</code></pre>","children":[]}],"payload":{"lines":"696,697"}},{"content":"Update de l'autoload","children":[{"content":"<pre><code class=\"language-bash\">  composer dumpautoload\n</code></pre>","children":[]}],"payload":{"lines":"707,708"}}],"payload":{"lines":"676,677","fold":1}},{"content":"Création du seeder de fake posts","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:seeder PostSeeder\n</code></pre>","children":[]}],"payload":{"lines":"713,714"}},{"content":"Code du seeder des fake posts","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">Database</span>\\<span class=\"hljs-title class_\">Seeders</span>;\n  \n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\<span class=\"hljs-title\">Post</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Str</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">PostSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-built_in\">static</span> <span class=\"hljs-variable\">$nbrPosts</span>;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>) </span>{\n      <span class=\"hljs-variable\">$nbrCategories</span> = <span class=\"hljs-number\">3</span>;\n  \n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createPost</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1</span>);\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createPost</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-title function_ invoke__\">rand</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-variable\">$nbrCategories</span>));\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createPost</span>(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">1</span>);\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createPost</span>(<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">1</span>);\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createPost</span>(<span class=\"hljs-number\">5</span>, <span class=\"hljs-title function_ invoke__\">rand</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-variable\">$nbrCategories</span>));\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createPost</span>(<span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">1</span>);\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createPost</span>(<span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">1</span>);\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createPost</span>(<span class=\"hljs-number\">8</span>, <span class=\"hljs-title function_ invoke__\">rand</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-variable\">$nbrCategories</span>));\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createPost</span>(<span class=\"hljs-number\">9</span>, <span class=\"hljs-title function_ invoke__\">rand</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-variable\">$nbrCategories</span>));\n    }\n  \n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">createPost</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$id</span>, <span class=\"hljs-variable\">$category_id</span></span>) </span>{\n      <span class=\"hljs-variable\">$months</span> = [<span class=\"hljs-string\">'03'</span>, <span class=\"hljs-string\">'03'</span>, <span class=\"hljs-string\">'03'</span>, <span class=\"hljs-string\">'04'</span>, <span class=\"hljs-string\">'04'</span>, <span class=\"hljs-string\">'06'</span>, <span class=\"hljs-string\">'06'</span>, <span class=\"hljs-string\">'06'</span>, <span class=\"hljs-string\">'06'</span>];\n  \n      <span class=\"hljs-variable\">$date</span> = <span class=\"hljs-title function_ invoke__\">generateRandomDateInRange</span>(<span class=\"hljs-string\">'2022-01-01'</span>, <span class=\"hljs-string\">'2024-11-07'</span>);\n  \n      <span class=\"hljs-variable\">$postId</span> = <span class=\"hljs-string\">\"Post <span class=\"hljs-subst\">{$id}</span>\"</span>;\n  \n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">factory</span>()-&gt;<span class=\"hljs-title function_ invoke__\">create</span>([\n        <span class=\"hljs-string\">'title'</span>       =&gt; <span class=\"hljs-variable\">$postId</span>,\n        <span class=\"hljs-string\">'seo_title'</span>   =&gt; <span class=\"hljs-variable\">$postId</span>,\n        <span class=\"hljs-string\">'slug'</span>        =&gt; <span class=\"hljs-title class_\">Str</span>::<span class=\"hljs-title function_ invoke__\">of</span>(<span class=\"hljs-variable\">$postId</span>)-&gt;<span class=\"hljs-title function_ invoke__\">slug</span>(<span class=\"hljs-string\">'-'</span>),\n        <span class=\"hljs-string\">'user_id'</span>     =&gt; <span class=\"hljs-title function_ invoke__\">rand</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>),\n        <span class=\"hljs-string\">'image'</span>       =&gt; <span class=\"hljs-string\">'2024/'</span> . <span class=\"hljs-variable\">$months</span>[<span class=\"hljs-variable\">$id</span> - <span class=\"hljs-number\">1</span>] . <span class=\"hljs-string\">'/img0'</span> . <span class=\"hljs-variable\">$id</span> . <span class=\"hljs-string\">'.jpg'</span>,\n        <span class=\"hljs-string\">'category_id'</span> =&gt; <span class=\"hljs-variable\">$category_id</span>,\n        <span class=\"hljs-string\">'created_at'</span>  =&gt; <span class=\"hljs-variable\">$date</span>,\n        <span class=\"hljs-string\">'updated_at'</span>  =&gt; <span class=\"hljs-variable\">$date</span>,\n        <span class=\"hljs-string\">'pinned'</span>      =&gt; <span class=\"hljs-number\">5</span> == <span class=\"hljs-variable\">$id</span>,\n      ]);\n    }\n  }\n</code></pre>","children":[]}],"payload":{"lines":"719,720"}}],"payload":{"lines":"674,675","fold":1}},{"content":"Activation des seeders","children":[{"content":"\n<p data-lines=\"770,771\">database/seeders/<strong>DatabaseSeeder.php</strong> :</p>\n<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">Database</span>\\<span class=\"hljs-title class_\">Seeders</span>;\n  \n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">DatabaseSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">call</span>([\n        <span class=\"hljs-title class_\">UserSeeder</span>::<span class=\"hljs-variable language_\">class</span>,\n        <span class=\"hljs-title class_\">CategorySeeder</span>::<span class=\"hljs-variable language_\">class</span>,\n        <span class=\"hljs-title class_\">PostSeeder</span>::<span class=\"hljs-variable language_\">class</span>,          \n      ]);\n  \n      <span class=\"hljs-title function_ invoke__\">printf</span>(<span class=\"hljs-string\">'%s%s'</span>, <span class=\"hljs-title function_ invoke__\">str_repeat</span>(<span class=\"hljs-string\">' '</span>, <span class=\"hljs-number\">2</span>), <span class=\"hljs-string\">\"Data tables properly filled.\\n\\n\"</span>);\n    }\n  }\n</code></pre>\n<pre><code class=\"language-php\">  php artisan db:seed\n<span class=\"hljs-comment\">// Ou, reset complet :</span>\n  php artisan migrate:refresh --seed\n</code></pre>","children":[],"payload":{"lines":"770,797"}}],"payload":{"lines":"768,769","fold":1}},{"content":"Les pages","children":[{"content":"Création Model &amp; migration Page","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:model Page --migration\n</code></pre>","children":[]}],"payload":{"lines":"799,800","fold":1}},{"content":"Code migration Page","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">up</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'pages'</span>, function (Blueprint <span class=\"hljs-variable\">$table</span>) {\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'slug'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'title'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">mediumText</span>(<span class=\"hljs-string\">'body'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">boolean</span>(<span class=\"hljs-string\">'active'</span>)-&gt;<span class=\"hljs-keyword\">default</span>(<span class=\"hljs-literal\">false</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'seo_title'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">text</span>(<span class=\"hljs-string\">'meta_description'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">text</span>(<span class=\"hljs-string\">'meta_keywords'</span>);\n    });\n  }\n</code></pre>","children":[]}],"payload":{"lines":"805,806","fold":1}},{"content":"Code app/models/Page","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">App</span>\\<span class=\"hljs-title class_\">Models</span>;\n  \n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Model</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Factories</span>\\<span class=\"hljs-title\">HasFactory</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Page</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">HasFactory</span>;\n  \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-variable\">$timestamps</span>  = <span class=\"hljs-literal\">false</span>;\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$fillable</span> = [\n      <span class=\"hljs-string\">'title'</span>,\n      <span class=\"hljs-string\">'slug'</span>,\n      <span class=\"hljs-string\">'body'</span>,\n      <span class=\"hljs-string\">'active'</span>,\n      <span class=\"hljs-string\">'seo_title'</span>,\n      <span class=\"hljs-string\">'meta_description'</span>,\n      <span class=\"hljs-string\">'meta_keywords'</span>,\n    ];\n  }\n</code></pre>","children":[]}],"payload":{"lines":"822,823","fold":1}},{"content":"Création factory Page","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:factory PageFactory\n</code></pre>","children":[]}],"payload":{"lines":"847,848","fold":1}},{"content":"Code factory Page","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">definition</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">array</span> </span>{\n    <span class=\"hljs-keyword\">return</span> [\n      <span class=\"hljs-string\">'body'</span>             =&gt; <span class=\"hljs-title function_ invoke__\">fake</span>()-&gt;<span class=\"hljs-title function_ invoke__\">paragraph</span>(<span class=\"hljs-number\">10</span>),\n      <span class=\"hljs-string\">'meta_description'</span> =&gt; <span class=\"hljs-title function_ invoke__\">fake</span>()-&gt;<span class=\"hljs-title function_ invoke__\">sentence</span>(<span class=\"hljs-variable\">$nbWords</span> = <span class=\"hljs-number\">6</span>, <span class=\"hljs-variable\">$variableNbWords</span> = <span class=\"hljs-literal\">true</span>),\n      <span class=\"hljs-string\">'meta_keywords'</span>    =&gt; <span class=\"hljs-title function_ invoke__\">implode</span>(<span class=\"hljs-string\">','</span>, <span class=\"hljs-title function_ invoke__\">fake</span>()-&gt;<span class=\"hljs-title function_ invoke__\">words</span>(<span class=\"hljs-variable\">$nb</span> = <span class=\"hljs-number\">3</span>, <span class=\"hljs-variable\">$asText</span> = <span class=\"hljs-literal\">false</span>)),\n    ];\n  }\n</code></pre>","children":[]}],"payload":{"lines":"853,854","fold":1}},{"content":"Création seeder Page","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:seeder PageSeeder\n</code></pre>","children":[]}],"payload":{"lines":"865,866","fold":1}},{"content":"Code du seeder Page","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">Database</span>\\<span class=\"hljs-title class_\">Seeders</span>;\n  \n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\<span class=\"hljs-title\">Page</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">PageSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>) </span>{\n      <span class=\"hljs-variable\">$items</span> = [\n        [<span class=\"hljs-string\">'slug'</span> =&gt; <span class=\"hljs-string\">'terms'</span>, <span class=\"hljs-string\">'title'</span> =&gt; <span class=\"hljs-string\">'Terms'</span>],\n        [<span class=\"hljs-string\">'slug'</span> =&gt; <span class=\"hljs-string\">'privacy-policy'</span>, <span class=\"hljs-string\">'title'</span> =&gt; <span class=\"hljs-string\">'Privacy Policy'</span>],\n      ];\n  \n      <span class=\"hljs-keyword\">foreach</span> (<span class=\"hljs-variable\">$items</span> <span class=\"hljs-keyword\">as</span> <span class=\"hljs-variable\">$item</span>) {\n        <span class=\"hljs-title class_\">Page</span>::<span class=\"hljs-title function_ invoke__\">factory</span>()-&gt;<span class=\"hljs-title function_ invoke__\">create</span>([\n          <span class=\"hljs-string\">'title'</span>     =&gt; <span class=\"hljs-variable\">$item</span>[<span class=\"hljs-string\">'title'</span>],\n          <span class=\"hljs-string\">'seo_title'</span> =&gt; <span class=\"hljs-string\">'Page '</span> . <span class=\"hljs-variable\">$item</span>[<span class=\"hljs-string\">'title'</span>],\n          <span class=\"hljs-string\">'slug'</span>      =&gt; <span class=\"hljs-variable\">$item</span>[<span class=\"hljs-string\">'slug'</span>],\n          <span class=\"hljs-string\">'active'</span>    =&gt; <span class=\"hljs-literal\">true</span>,\n        ]);\n      }\n    }\n  }\n</code></pre>","children":[]}],"payload":{"lines":"871,872","fold":1}},{"content":"Ajout de ce seeder dans <strong>DatabaseSeeder.php</strong>","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">call</span>([\n      ...\n      <span class=\"hljs-title class_\">PageSeeder</span>::<span class=\"hljs-variable language_\">class</span>,   \n    ]);\n    ...\n  }\n</code></pre>","children":[]}],"payload":{"lines":"899,900","fold":1}},{"content":"Rafraîchissement de la base","children":[{"content":"<pre><code class=\"language-bash\">  php artisan migrate:fresh --seed\n</code></pre>","children":[]}],"payload":{"lines":"911,912","fold":1}}],"payload":{"lines":"797,798","fold":1}}],"payload":{"lines":"351,352","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-donnees\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-donnees</a></strong></em>","children":[],"payload":{"lines":"917,918"}}],"payload":{"lines":"245,246","fold":1}},{"content":"&nbsp;<strong>I &nbsp;/ &nbsp; F R O N T &nbsp;- &nbsp;E N D &nbsp;:</strong>","children":[],"payload":{"lines":"919,920"}},{"content":"- L'authentification","children":[{"content":"Installer MaryUI (Avec Volt et npm)","children":[{"content":"Revoir ci-avant : ' Généralités / Technos / MaryUI ' pour l'installation","children":[],"payload":{"lines":"925,926"}},{"content":"Sont alors créés (Entre autres...)","children":[{"content":"Une route (./routes/<strong>web.php</strong>)","children":[],"payload":{"lines":"929,930"}},{"content":"Un layout (./resources/views/components/layouts/<strong>app.blade.php</strong>)","children":[],"payload":{"lines":"930,931"}},{"content":"Un composant Volt (./resources/views/livewire/users/<strong>index.blade.php</strong>)","children":[],"payload":{"lines":"931,933"}}],"payload":{"lines":"927,928"}},{"content":"Rappel : Dorénavant, bien lancer aussi le serveur Vite","children":[{"content":"<strong><a href=\"http://127.0.0.1:8000\">URL du rendu</a></strong>","children":[],"payload":{"lines":"939,940"}}],"payload":{"lines":"933,934"}}],"payload":{"lines":"923,924","fold":1}},{"content":"Layout pour l'authentification","children":[{"content":"\n<p data-lines=\"943,944\">./resources/views/components/layouts/<strong>auth.blade.php</strong> :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">\"{{ str_replace('_', '-', app()-&gt;getLocale()) }}\"</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">\"utf-8\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"viewport\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"csrf-token\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"{{ csrf_token() }}\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>{{ (isset($title) ? $title . ' | ' : (View::hasSection('title') ? View::getSection('title') . ' | ' : '')) . config('app.name') }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span>\n    @vite(['resources/css/app.css', 'resources/js/app.js'])\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"min-h-screen font-sans antialiased bg-base-200/50 dark:bg-base-200\"</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-main</span> <span class=\"hljs-attr\">full-width</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n            {{ $slot }}\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-main</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-toast</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">html</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"943,971"}}],"payload":{"lines":"941,942","fold":1}},{"content":"Composants VOLT pour authentification","children":[{"content":"Composant Register","children":[{"content":"Route pour Register","children":[{"content":"\n<p data-lines=\"977,978\">./routes/<strong>web.php</strong> :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Facades</span>\\<span class=\"hljs-title\">Route</span>;\n...\n<span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'guest'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/register'</span>, <span class=\"hljs-string\">'auth.register'</span>);\n});\n</code></pre>","children":[],"payload":{"lines":"977,987"}}],"payload":{"lines":"975,976","fold":1}},{"content":"Création composant Register","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:volt auth/register --class\n</code></pre>","children":[]}],"payload":{"lines":"987,988","fold":1}},{"content":"Code register","children":[{"content":"<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;?php\n  use App\\Models\\User;\n  use Mary\\Traits\\Toast;\n  use Livewire\\Volt\\Component;\n  use Illuminate\\Support\\Facades\\Hash;\n  use App\\Notifications\\UserRegistered;\n  use Livewire\\Attributes\\{Layout, Validate, Title};\n  \n  new #[Layout('components.layouts.auth')] \n  class extends Component {\n      use Toast;\n\n    #[Validate('required|string|max:255|unique:users')]\n    public string $name = '';\n    #[Validate('required|email|unique:users')]\n    public string $email = '';\n    #[Validate('required|confirmed')]\n    public string $password = '';\n    #[Validate('required')]\n    public string $password_confirmation = '';\n    #[Validate('sometimes|nullable')]\n    public ?string $gender = null;\n\n    public function register() {\n      if ($this-&gt;gender) {\n          abort(403);\n      }\n      $data = $this-&gt;validate();\n      $user = $this-&gt;createUser($data);\n      auth()-&gt;login($user);\n      request()-&gt;session()-&gt;regenerate();\n      $this-&gt;success(__('Registration successful!'), redirectTo: '/');\n    }\n\n    protected function createUser(array $data): User {\n      $data['password'] = Hash::make($data['password']);\n      return User::create($data);\n    }\n  \n  }; ?&gt;</span>\n  @section('title', __('Register'))\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex items-center justify-center h-[96vh]\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"/\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Back to site') }}\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"items-center\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Register') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"register\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"w-full sm:min-w-[30vw]\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Name') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"name\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-user\"</span> <span class=\"hljs-attr\">inline</span> <span class=\"hljs-attr\">required</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('E-mail') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-envelope\"</span> <span class=\"hljs-attr\">inline</span> <span class=\"hljs-attr\">required</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Password') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-key\"</span> <span class=\"hljs-attr\">inline</span> <span class=\"hljs-attr\">required</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Confirm Password') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"password_confirmation\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-key\"</span> <span class=\"hljs-attr\">inline</span> <span class=\"hljs-attr\">required</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-[12px] text-right italic my-[-10px]\"</span>&gt;</span>* : {{__('Required information') }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">\"display: none;\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"gender\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Already registered?') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/login\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Register') }}\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"login\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"993,994","fold":1}},{"content":"Traduction pour formulaire Register","children":[{"content":"\n<p data-lines=\"1062,1063\">./lang/<strong>fr.json</strong> :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Password\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Mot de passe\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Confirm Password\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Confirmation du mot de passe\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Register\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Créer un compte\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Already registered?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Déjà enregistré ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Name\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Nom\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"E-mail\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Courriel\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Required information\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Information requise\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Registration successful!\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Compte créé avec succès !\"</span>\n</code></pre>","children":[],"payload":{"lines":"1062,1075"}}],"payload":{"lines":"1060,1061","fold":1}},{"content":"Particularité : Pot de miel","children":[{"content":"À noter: ∃ un champs caché (gender) pour identifier les robots...","children":[],"payload":{"lines":"1077,1078"}},{"content":"Voir dans le code du composant : <strong>if ($this-&gt;gender) abort(403);</strong>","children":[],"payload":{"lines":"1078,1080"}}],"payload":{"lines":"1075,1076","fold":1}},{"content":"<strong><a href=\"http://127.0.0.1:8000/register\">Rendu Register</a></strong> (Tester la validation des champs)","children":[],"payload":{"lines":"1080,1081"}}],"payload":{"lines":"973,974","fold":1}},{"content":"Composant Login","children":[{"content":"Route pour Login","children":[{"content":"<pre><code class=\"language-php\">...\n<span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'guest'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/login'</span>, <span class=\"hljs-string\">'auth.login'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'login'</span>);\n});\n</code></pre>","children":[]}],"payload":{"lines":"1084,1085","fold":1}},{"content":"Création composant Login","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:volt auth/login --class\n</code></pre>","children":[]}],"payload":{"lines":"1094,1095","fold":1}},{"content":"Code Login","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\n  use Livewire\\Volt\\Component;\n  use Illuminate\\Support\\Str;\n  use Illuminate\\Auth\\Events\\Lockout;\n  use Illuminate\\Support\\Facades\\Auth;\n  use Illuminate\\Support\\Facades\\RateLimiter;\n  use Illuminate\\Validation\\ValidationException;\n  use Livewire\\Attributes\\{Layout, Validate, Title};\n\n  new\n  #[Layout('components.layouts.auth')]\n  class extends Component {\n  \n    #[Validate('required|string|email')]\n    public string $email = '';\n    #[Validate('required|string')]\n    public string $password = '';\n    #[Validate('boolean')]\n    public bool $remember = false;\n\n    public function login() {\n      $this-&gt;validate();\n      $this-&gt;authenticate();\n      Session::regenerate();\n      if (auth()-&gt;user()-&gt;isAdmin()) {\n          return redirect()-&gt;intended('/admin/dashboard');\n      }\n      $this-&gt;redirectIntended(default: url('/'), navigate: true);\n    }\n  \n    public function authenticate(): void {\n      $this-&gt;ensureIsNotRateLimited();\n      if (! Auth::attempt($this-&gt;only(['email', 'password']), $this-&gt;remember)) {\n        RateLimiter::hit($this-&gt;throttleKey());\n        throw ValidationException::withMessages([\n            'email' =&gt; __('auth.failed'),\n        ]);\n      }\n      RateLimiter::clear($this-&gt;throttleKey());\n    }\n  \n    protected function ensureIsNotRateLimited(): void {\n      if (! RateLimiter::tooManyAttempts($this-&gt;throttleKey(), 5)) {\n        return;\n      }\n      event(new Lockout(request()));\n      $seconds = RateLimiter::availableIn($this-&gt;throttleKey());\n      throw ValidationException::withMessages([\n        'email' =&gt; trans('auth.throttle', [\n          'seconds' =&gt; $seconds,\n          'minutes' =&gt; ceil($seconds / 60),\n        ]),\n      ]);\n    }\n\n    protected function throttleKey(): string {\n      return Str::transliterate(Str::lower($this-&gt;email).'|'. request()-&gt;ip());\n    }\n  \n  }; ?&gt;</span>\n  \n  @section('title', __('Login'))\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex items-center justify-center h-screen\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"/\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Back to site') }}\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"items-center\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Login') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"login\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('E-mail') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-envelope\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Password') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-key\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-checkbox</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Remember me') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"remember\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-[12px] text-right italic my-[-10px]\"</span>&gt;</span>* : {{__('Required information') }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span> \n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex flex-col space-y-2 flex-end sm:flex-row sm:space-y-0 sm:space-x-2\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Login') }}\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"ml-2 btn-primary sm:order-1\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex flex-col space-y-2 flex-end sm:flex-row sm:space-y-0 sm:space-x-2\"</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Forgot your password?') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/forgot-password\"</span> /&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Register') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/register\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"1100,1101","fold":1}},{"content":"Traduction pour formulaire Login","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Forgot your password?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Mot de passe oublié ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Remember me\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Se rappeler de moi\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"1189,1190","fold":1}},{"content":"<strong><a href=\"http://127.0.0.1:8000/login\">Rendu Login</a></strong> (Tester la validation des champs)","children":[],"payload":{"lines":"1196,1197"}}],"payload":{"lines":"1082,1083","fold":1}},{"content":"Oubli et reset du mot de passe","children":[{"content":"Gestion des sessions","children":[{"content":"Création composant messages en session","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:component session-status --view\n</code></pre>","children":[]}],"payload":{"lines":"1202,1203"}},{"content":"Code composant Session","children":[{"content":"<pre><code class=\"language-html\">@props(['status'])\n\n@if ($status)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> {{ $<span class=\"hljs-attr\">attributes-</span>&gt;</span>merge(['class' =&gt; 'font-medium text-sm text-green-600']) }}&gt;\n    {{ $status }}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n@endif\n</code></pre>","children":[]}],"payload":{"lines":"1208,1209"}}],"payload":{"lines":"1200,1201","fold":1}},{"content":"Gestion de l'oubli du mot de passe","children":[{"content":"Route pour forgot-password","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'guest'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/forgot-password'</span>, <span class=\"hljs-string\">'auth.forgot-password'</span>);\n});\n</code></pre>","children":[]}],"payload":{"lines":"1222,1223","fold":1}},{"content":"Création composant oubli mot de passe","children":[{"content":"<pre><code class=\"language-bash\">php artisan   make:volt auth/forgot-password --class\n</code></pre>","children":[]}],"payload":{"lines":"1231,1232","fold":1}},{"content":"Composant forgot-password","children":[{"content":"<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;?php\n  use Livewire\\Volt\\Component;\n  use Livewire\\Attributes\\{ Layout, Title };\n  use Illuminate\\Support\\Facades\\Password;\n  \n  new\n  #[Layout('components.layouts.auth')]\n  class extends Component {\n  \n    public string $email = '';\n    public function sendPasswordResetLink(): void {\n      $this-&gt;validate([\n        'email' =&gt; ['required', 'string', 'email'],\n      ]);\n      $status = Password::sendResetLink(\n          $this-&gt;only('email')\n      );\n      if (Password::RESET_LINK_SENT != $status) {\n          $this-&gt;addError('email', __($status));\n\n          return;\n      }\n  \n      $this-&gt;reset('email');\n      session()-&gt;flash('status', __($status));\n    }\n  }; ?&gt;</span>\n  \n@section('title', __('Password renewal'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex items-center justify-center h-[96vh]\"</span> <span class=\"hljs-attr\">data-link</span>=<span class=\"hljs-string\">'/'</span> <span class=\"hljs-attr\">data-tip</span>=<span class=\"hljs-string\">\"{{  __('Back to site') }}\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Password renewal') }}\"</span> <span class=\"hljs-attr\">subtitle</span>=<span class=\"hljs-string\">\"{{ __('Forgot your password? No problem. Just let us know your email address and we will email you a password reset link that will allow you to choose a new one.') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">'my-title'</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-session-status</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-4\"</span> <span class=\"hljs-attr\">:status</span>=<span class=\"hljs-string\">\"session('status')\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"sendPasswordResetLink\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('E-mail') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-envelope\"</span> <span class=\"hljs-attr\">inline</span> <span class=\"hljs-attr\">required</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Email Password Reset Link') }}\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n  <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">'DOMContentLoaded'</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">const</span> card = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">'my-title'</span>);\n    <span class=\"hljs-keyword\">const</span> link = card.<span class=\"hljs-title function_\">getAttribute</span>(<span class=\"hljs-string\">'data-link'</span>);\n    <span class=\"hljs-keyword\">const</span> tip = card.<span class=\"hljs-title function_\">getAttribute</span>(<span class=\"hljs-string\">'data-tip'</span>);\n    <span class=\"hljs-keyword\">const</span> divs = card.<span class=\"hljs-title function_\">getElementsByTagName</span>(<span class=\"hljs-string\">'div'</span>);\n    <span class=\"hljs-comment\">// console.log(divs)</span>\n    <span class=\"hljs-keyword\">const</span> titleElement = card.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">'title'</span>);\n    <span class=\"hljs-keyword\">if</span> (divs.<span class=\"hljs-property\">length</span> &gt;= <span class=\"hljs-number\">4</span>) {\n      <span class=\"hljs-keyword\">const</span> titleElement = divs[<span class=\"hljs-number\">3</span>]; <span class=\"hljs-comment\">// Cible le quatrième &lt;div&gt;</span>\n      titleElement.<span class=\"hljs-property\">innerHTML</span> = <span class=\"hljs-string\">`&lt;a href=\"<span class=\"hljs-subst\">${link}</span>\" title=\"<span class=\"hljs-subst\">${tip}</span>\"&gt;<span class=\"hljs-subst\">${titleElement.innerHTML}</span>&lt;/a&gt;`</span>;\n    }\n  });\n  </span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"1237,1238","fold":1}},{"content":"Traduction pour forgot-password","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Password renewal\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Renouvellement du mot de passe\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Forgot your password? No problem. Just let us know your email address and we will email you a password reset link that will allow you to choose a new one.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Mot de passe oublié ? Pas de problème. Indiquez-nous simplement votre adresse courriel et nous vous enverrons par courriel un lien de réinitialisation du mot de passe pour en choisir un nouveau.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Email Password Reset Link\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Envoi du lien de renouvellement\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"1296,1297","fold":1}},{"content":"<strong><a href=\"http://127.0.0.1:8000/forgot-password\">Rendu forgot-password</a></strong> (Tester la validation du champs - <em>Ne pas soumettre le Formulaire</em>)","children":[],"payload":{"lines":"1304,1305"}}],"payload":{"lines":"1220,1221","fold":1}},{"content":"Gestion du reset du mot de passe","children":[{"content":"Route pour reset-password","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'guest'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/reset-password/{token}'</span>, <span class=\"hljs-string\">'auth.reset-password'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'password.reset'</span>);\n});\n</code></pre>","children":[]}],"payload":{"lines":"1308,1309","fold":1}},{"content":"Création composant reset-password","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt auth/reset-password --class\n</code></pre>","children":[]}],"payload":{"lines":"1317,1318","fold":1}},{"content":"Composant reset-password","children":[{"content":"<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;?php\n  use Illuminate\\Support\\Str;\n  use Livewire\\Volt\\Component;\n  use Illuminate\\Validation\\Rules;\n  use Livewire\\Attributes\\{Layout, Locked};\n  use Illuminate\\Auth\\Events\\PasswordReset;\n  use Illuminate\\Support\\Facades\\{Hash, Password, Session};\n  \n  new\n  #[Layout('components.layouts.auth')]\n  class extends Component {\n    #[Locked]\n    public string $token                 = '';\n\n    public string $email                 = '';\n    public string $password              = '';\n    public string $password_confirmation = '';\n    \n    public function mount(string $token): void {\n      $this-&gt;token = $token;\n      $this-&gt;email = request()-&gt;input('email');\n    }\n    \n    public function resetPassword(): void {\n      $this-&gt;validate([\n        'token'    =&gt; ['required'],\n        'email'    =&gt; ['required', 'string', 'email'],\n        'password' =&gt; ['required', 'string', 'confirmed', Rules\\Password::defaults()],\n      ]);\n  \n      $status = Password::reset(\n        $this-&gt;only('email', 'password', 'password_confirmation', 'token'),\n        function ($user) {\n          $user-&gt;forceFill([\n              'password'       =&gt; Hash::make($this-&gt;password),\n              'remember_token' =&gt; Str::random(60),\n          ])-&gt;save();\n          event(new PasswordReset($user));\n        }\n      );\n  \n      if (Password::PASSWORD_RESET != $status) {\n          $this-&gt;addError('email', __($status));\n\n          return;\n      }\n  \n      Session::flash('status', __($status));\n      $this-&gt;redirectRoute('login', navigate: true);\n    }\n  }; ?&gt;</span>\n  \n  @section('title', __('Reset Password'))\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex items-center justify-center h-[96vh]\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"/\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Back to site') }}\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"items-center\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{__('Reset Password')}}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-session-status</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-4\"</span> <span class=\"hljs-attr\">:status</span>=<span class=\"hljs-string\">\"session('status')\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"resetPassword\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('E-mail') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-envelope\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Password') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-key\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Confirm Password') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"password_confirmation\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-key\"</span> <span class=\"hljs-attr\">inline</span> <span class=\"hljs-attr\">required</span> <span class=\"hljs-attr\">autocomplete</span>=<span class=\"hljs-string\">\"new-password\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-[12px] text-right italic my-[-10px]\"</span>&gt;</span>* : {{__('Required information') }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Reset Password') }}\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"1323,1324","fold":1}},{"content":"Voir le email reçu","children":[{"content":"\n<p data-lines=\"1402,1403\">Par défaut: Dans storage\\logs\\laravel.log (Tout à la fin du fichier, le code HTML du courriel)</p>\n<p data-lines=\"1404,1405\">OU, pour avoir le vrai rendu de ce courriel, une très bonne solution GRATUITE est MailHog :</p>","children":[],"payload":{"lines":"1402,1406"}},{"content":"","children":[{"content":"\n<p data-lines=\"1408,1409\">- Dans .env :</p>\n<pre><code class=\"language-json\">  # Start MailHog\n  # Go to: http://localhost:8025\n  MAIL_MAILER=smtp\n  MAIL_HOST=localhost\n  MAIL_PORT=1025\n  MAIL_USERNAME=Admin\n  MAIL_PASSWORD=null\n  MAIL_ENCRYPTION=null\n  MAIL_FROM_ADDRESS=\"admin@example.com\"\n  MAIL_FROM_NAME=\"${APP_NAME}\"\n</code></pre>","children":[],"payload":{"lines":"1408,1423"}},{"content":"\n<p data-lines=\"1423,1425\">- Lancer le serveur MailHog :<br>\n&nbsp; → Exécuter le fichier exécutable récupéré</p>","children":[],"payload":{"lines":"1423,1426"}}],"payload":{"lines":"1408,1426"}}],"payload":{"lines":"1400,1401","fold":1}},{"content":"<strong><a href=\"http://127.0.0.1:8025\" title=\"Ouvrir votre messagerie locale\" target=\"_blank\">URL du rendu des courriels avec MailHog</a></strong>","children":[],"payload":{"lines":"1426,1427"}}],"payload":{"lines":"1306,1307","fold":1}}],"payload":{"lines":"1198,1199"}}],"payload":{"lines":"971,972","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-lauthentification\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-lauthentification</a></strong></em>","children":[],"payload":{"lines":"1428,1429"}}],"payload":{"lines":"921,922","fold":1}},{"content":"- La page d'accueil (<em>Homepage</em>)","children":[{"content":"Routes index &amp; category","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/'</span>, <span class=\"hljs-string\">'index'</span>);\n<span class=\"hljs-comment\">// Supprimer : Volt::route('/', 'users.index');</span>\n  <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/category/{slug}'</span>, <span class=\"hljs-string\">'index'</span>);\n</code></pre>","children":[]}],"payload":{"lines":"1432,1433","fold":1}},{"content":"Création composant index","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt index --class \n</code></pre>","children":[]}],"payload":{"lines":"1440,1441","fold":1}},{"content":"Les images","children":[{"content":"\n<pre><code class=\"language-bash\">php artisan storage:<span class=\"hljs-built_in\">link</span>\n</code></pre>\n<p data-lines=\"1452,1453\"><em>(Cela crée un lien symbolique de public/storage vers storage/app/public)</em></p>","children":[],"payload":{"lines":"1448,1453"}},{"content":"\n<p data-lines=\"1453,1454\">Pour obtenir les images par défaut : <a href=\"https://laravel.sillo.org/tuto/moncms3.zip\">Télécharger le projet</a> et copier <strong>storage/app/public/</strong>**/*.*</p>","children":[],"payload":{"lines":"1453,1454"}},{"content":"\n<p data-lines=\"1454,1457\">Pour avoir vos images dans votre dépôt git, vu que publiques, supprimer :<br>\n- storage/app/.gitignore<br>\n- storage/app/public/.gitignore</p>","children":[],"payload":{"lines":"1454,1458"}}],"payload":{"lines":"1446,1447","fold":1}},{"content":"Layout app","children":[{"content":"\n<p data-lines=\"1460,1461\">resources/components/layouts/<strong>app.blade.php</strong> :</p>\n<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">\"{{ str_replace('_', '-', app()-&gt;getLocale()) }}\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">\"utf-8\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"viewport\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"csrf-token\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"{{ csrf_token() }}\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>\n      {{ (isset($title) ? $title . ' | ' : (View::hasSection('title') ? View::getSection('title') . ' | ' : '')) . config('app.name') }}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"description\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"@yield('description')\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"keywords\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"@yield('keywords')\"</span>&gt;</span>\n    @vite(['resources/css/app.css', 'resources/js/app.js'])\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"min-h-screen font-sans antialiased bg-base-200/50 dark:bg-base-200\"</span>&gt;</span>\n    {{-- HERO --}}\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"min-h-[10vw] hero\"</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">\"background-image: url({{ asset('storage/hero.jpg') }});\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"bg-opacity-60 hero-overlay\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ '/' }}\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-center hero-content text-neutral-content\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-5 text-4xl font-bold sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl\"</span>&gt;</span>\n              Mon Titre\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-1 text-lg sm:text-xl md:text-1xl lg:text-2xl xl:text-3xl\"</span>&gt;</span>\n              Mon sous-titre\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>              \n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"1460,1498"}}],"payload":{"lines":"1458,1459","fold":1}},{"content":"La barre de navigation","children":[{"content":"La Navbar (Grand écran ou bouton burger)","children":[{"content":"Création composant navbar","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt navigation/navbar --class\n</code></pre>","children":[]}],"payload":{"lines":"1502,1503","fold":1}},{"content":"Code composant navbar","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\n  use Illuminate\\Support\\Facades\\{Auth, Session};\n  use Livewire\\Volt\\Component;\n  \n  new class extends Component {\n  \n    public function logout(): void {\n      Auth::guard('web')-&gt;logout();\n      Session::invalidate();\n      Session::regenerateToken();\n      $this-&gt;redirect('/');\n    }\n  }; ?&gt;</span>\n  \n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-nav</span> <span class=\"hljs-attr\">sticky</span> <span class=\"hljs-attr\">full-width</span> &gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:brand</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span> <span class=\"hljs-attr\">for</span>=<span class=\"hljs-string\">\"main-drawer\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mr-3 sm:hidden\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"o-bars-3\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"cursor-pointer\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:brand</span>&gt;</span>\n    \n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"hidden sm:block\"</span>&gt;</span>\n        @if ($user = auth()-&gt;user())\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-dropdown</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ $user-&gt;name }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Logout') }}\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"logout\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-dropdown</span>&gt;</span>\n          @else\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Login') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/login\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> /&gt;</span>\n        @endif\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-nav</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"1508,1509","fold":1}},{"content":"Layout pour le composant navbar","children":[{"content":"\n<p data-lines=\"1551,1553\">Attention: À ce stade, se connecter fait apparaître une erreur...<br>\n(Juste rafraîchir, et tester responsive - Ex.: Réduire la taille de l'écran...)</p>","children":[],"payload":{"lines":"1551,1554"}},{"content":"\n<p data-lines=\"1554,1555\">Dans components/layouts/<strong>app.blade.php</strong> :</p>","children":[],"payload":{"lines":"1554,1556"}},{"content":"\n<p data-lines=\"1556,1557\">Remplacer le bloc :</p>\n<pre><code class=\"language-html\">  {{-- NAVBAR mobile only --}}\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-nav</span>&gt;</span>\n    ...\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-nav</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"1556,1565"}},{"content":"\n<p data-lines=\"1565,1566\">Par :</p>\n<pre><code class=\"language-html\">  ...\n  {{-- NAVBAR --}}\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">livewire:navigation.navbar</span>/&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"1565,1574"}}],"payload":{"lines":"1549,1550","fold":1}}],"payload":{"lines":"1500,1501","fold":1}},{"content":"La Sidebar (Petit écran)","children":[{"content":"Création composant sidebar","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:volt navigation/sidebar --class\n</code></pre>","children":[]}],"payload":{"lines":"1576,1577","fold":1}},{"content":"Code composant sidebar","children":[{"content":"<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;?php\n  use Illuminate\\Support\\Facades\\{Auth, Session};\n  use Livewire\\Volt\\Component;\n  \n  new class() extends Component {\n  \n    public function logout(): void {\n      Auth::guard('web')-&gt;logout();\n      Session::invalidate();\n      Session::regenerateToken();\n      $this-&gt;redirect('/');\n    }\n  };\n  ?&gt;</span>\n  \n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu</span> <span class=\"hljs-attr\">activate-by-route</span>&gt;</span>\n      @if($user = auth()-&gt;user())\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-separator</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-list-item</span> <span class=\"hljs-attr\">:item</span>=<span class=\"hljs-string\">\"$user\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"name\"</span> <span class=\"hljs-attr\">sub-value</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">no-separator</span> <span class=\"hljs-attr\">no-hover</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"-mx-2 !-my-2 rounded\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-power\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"logout\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-circle btn-ghost btn-xs\"</span> <span class=\"hljs-attr\">tooltip-left</span>=<span class=\"hljs-string\">\"{{ __('Logout') }}\"</span> <span class=\"hljs-attr\">no-wire-navigate</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-list-item</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-separator</span> /&gt;</span>\n      @else\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Login') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/login\"</span> /&gt;</span>\n      @endif\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"1582,1583","fold":1}},{"content":"Layout pour le composant sidebar","children":[{"content":"<pre><code class=\"language-html\">  ...\n  {{-- MAIN --}}\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-main</span> <span class=\"hljs-attr\">full-width</span>&gt;</span>\n  \n    {{-- SIDEBAR --}}\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:sidebar</span> <span class=\"hljs-attr\">drawer</span>=<span class=\"hljs-string\">\"main-drawer\"</span> <span class=\"hljs-attr\">collapsible</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"bg-base-100 lg:bg-inherit lg:hidden\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">livewire:navigation.sidebar</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:sidebar</span>&gt;</span>\n\n    {{-- SLOT --}}\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n      {{ $slot }}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n  \n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-main</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"1617,1618","fold":1}}],"payload":{"lines":"1574,1575","fold":1}}],"payload":{"lines":"1498,1499","fold":1}},{"content":"Bloc central : Les articles","children":[{"content":"Création app/Repositories/<strong>PostRepository.php</strong>","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">App</span>\\<span class=\"hljs-title class_\">Repositories</span>;\n  \n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\{<span class=\"hljs-title\">Category</span>, <span class=\"hljs-title\">Post</span>};\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Builder</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Pagination</span>\\<span class=\"hljs-title\">LengthAwarePaginator</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">PostRepository</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getPostsPaginate</span>(<span class=\"hljs-params\">?Category <span class=\"hljs-variable\">$category</span></span>): <span class=\"hljs-title\">LengthAwarePaginator</span> </span>{\n      <span class=\"hljs-variable\">$query</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getBaseQuery</span>()-&gt;<span class=\"hljs-title function_ invoke__\">orderBy</span>(<span class=\"hljs-string\">'pinned'</span>, <span class=\"hljs-string\">'desc'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">latest</span>();\n      \n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable\">$category</span>) {\n        <span class=\"hljs-variable\">$query</span>-&gt;<span class=\"hljs-title function_ invoke__\">whereBelongsTo</span>(<span class=\"hljs-variable\">$category</span>);\n      }\n      \n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$query</span>-&gt;<span class=\"hljs-title function_ invoke__\">paginate</span>(<span class=\"hljs-title function_ invoke__\">config</span>(<span class=\"hljs-string\">'app.pagination'</span>));\n    }\n  \n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getBaseQuery</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">Builder</span> </span>{\n      <span class=\"hljs-variable\">$specificReqs</span> = [\n        <span class=\"hljs-string\">'mysql'</span>  =&gt; <span class=\"hljs-string\">\"LEFT(body, LOCATE(' ', body, 700))\"</span>,\n        <span class=\"hljs-string\">'sqlite'</span> =&gt; <span class=\"hljs-string\">'substr(body, 1, 700)'</span>,\n        <span class=\"hljs-string\">'pgsql'</span>  =&gt; <span class=\"hljs-string\">'substring(body from 1 for 700)'</span>,\n      ];\n      \n      <span class=\"hljs-variable\">$usedDbSystem</span> = <span class=\"hljs-title function_ invoke__\">env</span>(<span class=\"hljs-string\">'DB_CONNECTION'</span>, <span class=\"hljs-string\">'mysql'</span>);\n      \n      <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-keyword\">isset</span>(<span class=\"hljs-variable\">$specificReqs</span>[<span class=\"hljs-variable\">$usedDbSystem</span>])) {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">\\Exception</span>(<span class=\"hljs-string\">\"Base de données non supportée: <span class=\"hljs-subst\">{$usedDbSystem}</span>\"</span>);\n      }\n  \n    <span class=\"hljs-variable\">$adaptedReq</span> = <span class=\"hljs-variable\">$specificReqs</span>[<span class=\"hljs-variable\">$usedDbSystem</span>];\n    \n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">select</span>(<span class=\"hljs-string\">'id'</span>, <span class=\"hljs-string\">'slug'</span>, <span class=\"hljs-string\">'image'</span>, <span class=\"hljs-string\">'title'</span>, <span class=\"hljs-string\">'user_id'</span>, <span class=\"hljs-string\">'category_id'</span>, <span class=\"hljs-string\">'created_at'</span>, <span class=\"hljs-string\">'pinned'</span>)\n      -&gt;<span class=\"hljs-title function_ invoke__\">selectRaw</span>(<span class=\"hljs-string\">\"\n        CASE\n          WHEN LENGTH(body) &lt;= 300 THEN body\n          ELSE <span class=\"hljs-subst\">{$adaptedReq}</span>\n        END AS excerpt\n      \"</span>,)\n    -&gt;<span class=\"hljs-title function_ invoke__\">with</span>(<span class=\"hljs-string\">'user:id,name'</span>, <span class=\"hljs-string\">'category'</span>)\n    -&gt;<span class=\"hljs-title function_ invoke__\">whereActive</span>(<span class=\"hljs-literal\">true</span>);\n    }\n  }\n</code></pre>","children":[]}],"payload":{"lines":"1641,1642","fold":1}},{"content":"config/<strong>app.php</strong>","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">return</span> [\n  ...\n  <span class=\"hljs-string\">'pagination'</span>  =&gt;  <span class=\"hljs-number\">6</span>,\n  <span class=\"hljs-string\">'excerptSize'</span> =&gt; <span class=\"hljs-number\">30</span>,\n]\n</code></pre>","children":[]}],"payload":{"lines":"1690,1691","fold":1}},{"content":"Code composant index","children":[{"content":"<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;?php\n  use App\\Models\\Category;\n  use Livewire\\Volt\\Component;\n  use Livewire\\WithPagination;\n  use App\\Repositories\\PostRepository;\n  use Illuminate\\Pagination\\LengthAwarePaginator;\n  \n  new class extends Component {\n    use WithPagination;\n  \n    public ?Category $category = null;\n  \n    public function mount(string $slug = ''): void {\n      if (request()-&gt;is('category/*')) {\n        $this-&gt;category = $this-&gt;getCategoryBySlug($slug);\n      } \n    }\n  \n    public function getPosts(): LengthAwarePaginator {\n      $postRepository = new PostRepository();\n\n      return $postRepository-&gt;getPostsPaginate($this-&gt;category);\n    }\n  \n    protected function getCategoryBySlug(string $slug): ?Category {\n\n      return 'category' === request()-&gt;segment(1) ? Category::whereSlug($slug)-&gt;firstOrFail() : null;\n    }\n  \n    public function with(): array {\n\n      return ['posts' =&gt; $this-&gt;getPosts()];\n    }\n  }; ?&gt;</span>\n\n  @section('title',__('Home'))\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"relative grid items-center w-full py-5 mx-auto md:px-6 max-w-12xl\"</span>&gt;</span>\n    @if ($category)\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Posts for category ') }} {{ $category-&gt;title }}\"</span> <span class=\"hljs-attr\">size</span>=<span class=\"hljs-string\">\"text-2xl sm:text-3xl   md:text-4xl\"</span> /&gt;</span>\n    @endif\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-5 mary-table-pagination\"</span>&gt;</span>\n      {{ $posts-&gt;links() }}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"container mx-auto\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\"</span>&gt;</span>\n        @forelse($posts as $post)\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"w-full transition duration-5500 ease-in-out shadow-md shadow-gray-500 hover:shadow-xl hover:shadow-orange-400\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{!! $post-&gt;title !!}\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-justify\"</span>&gt;</span>\n              {!! str(strip_tags($post-&gt;excerpt))-&gt;words(config('app.excerptSize')) !!}\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">hr</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex justify-between\"</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-left cursor-pointer\"</span>&gt;</span>{{ $post-&gt;user-&gt;name }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-right\"</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">em</span>&gt;</span>{{ $post-&gt;created_at-&gt;isoFormat('LL') }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">em</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            @if($post-&gt;image)\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:figure</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ url('/posts/' . $post-&gt;slug) }}\"</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"{{ asset('storage/photos/' . $post-&gt;image) }}\"</span> <span class=\"hljs-attr\">alt</span>=<span class=\"hljs-string\">\"{{ $post-&gt;title }}\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:figure</span>&gt;</span>\n            @endif\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:menu</span>&gt;</span>\n              @if ($post-&gt;pinned)\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ __('Pinned') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"p-3 badge-warning\"</span> /&gt;</span>\n              @endif\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:menu</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex flex-col items-end space-y-2 sm:items-start sm:flex-row sm:space-y-0 sm:space-x-2\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ $post-&gt;category-&gt;title }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ url('/category/' . $post-&gt;category-&gt;slug) }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mt-1 btn-outline btn-sm\"</span> /&gt;</span>\n                  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                      @lang('Show this category')\n                  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Read') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ url('/posts/' . $post-&gt;slug) }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mt-1 btn-outline btn-sm\"</span> /&gt;</span>\n                  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                    @lang('Read this post')\n                  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n            @empty\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"col-span-3\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Nothing to show !') }}\"</span>&gt;</span>\n                  {{ __('No Post found with these criteria') }}\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            @endforelse\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-comment\">&lt;!-- Pagination inférieure --&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mt-5 mary-table-pagination\"</span>&gt;</span>\n      {{ $posts-&gt;links() }}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"1700,1701","fold":1}},{"content":"Traduction pour les articles","children":[{"content":"<pre><code class=\"language-json\">  <span class=\"hljs-attr\">\"Show this category\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Voir cette catégorie\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"Read this post\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Lire cet article\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"Posts for category \"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Articles pour la catégorie \"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"Read\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Lire\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"Nothing to show !\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Rien à montrer !\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"No Post found with these criteria\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Aucun article trouvé avec ces critères\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"1808,1809","fold":1}}],"payload":{"lines":"1639,1640","fold":1}},{"content":"Styles pagination &amp; popups","children":[{"content":"\n<p data-lines=\"1821,1822\">- Pour le menu pagination : ./<strong>tailwind.config.js</strong></p>\n<pre><code class=\"language-js\">  <span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> {\n    <span class=\"hljs-attr\">content</span>: [\n      ...\n      <span class=\"hljs-string\">\"./vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php\"</span>,\n    ],\n    ...\n  }\n</code></pre>","children":[],"payload":{"lines":"1821,1833"}},{"content":"\n<p data-lines=\"1833,1834\">- Pour les Popups : ./resources/css/<strong>app.css</strong> :</p>\n<pre><code class=\"language-css\">  ...\n  <span class=\"hljs-selector-class\">.pop-small</span> {\n    <span class=\"hljs-keyword\">@apply</span> !p-<span class=\"hljs-number\">1</span> !px-<span class=\"hljs-number\">2</span> text-sm border-warning text-center\n}\n</code></pre>","children":[],"payload":{"lines":"1833,1842"}}],"payload":{"lines":"1819,1820","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-la-page-daccueil\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-la-page-daccueil</a></strong></em>","children":[],"payload":{"lines":"1842,1843"}}],"payload":{"lines":"1430,1431","fold":1}},{"content":"- Les articles &amp; les pages","children":[{"content":"Composant posts.show","children":[{"content":"Route posts.show","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/posts/{slug}'</span>, <span class=\"hljs-string\">'posts.show'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'posts.show'</span>);\n</code></pre>","children":[]}],"payload":{"lines":"1848,1849","fold":1}},{"content":"PostRepository","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getPostBySlug</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$slug</span></span>): <span class=\"hljs-title\">Post</span> </span>{\n      \n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">with</span>(<span class=\"hljs-string\">'user:id,name'</span>, <span class=\"hljs-string\">'category'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">whereSlug</span>(<span class=\"hljs-variable\">$slug</span>)-&gt;<span class=\"hljs-title function_ invoke__\">firstOrFail</span>();\n  }\n</code></pre>","children":[]}],"payload":{"lines":"1854,1855","fold":1}},{"content":"Création composant posts.show","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:volt posts/show --class\n</code></pre>","children":[]}],"payload":{"lines":"1863,1864","fold":1}},{"content":"Code composant posts.show","children":[{"content":"<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;?php\n  use App\\Models\\Post;\n  use App\\Repositories\\PostRepository;\n  use Livewire\\Volt\\Component;\n  \n  new class extends Component {\n    public Post $post;\n    public function mount($slug): void {\n      $postRepository = new PostRepository();\n      $this-&gt;post     = $postRepository-&gt;getPostBySlug($slug);\n    }\n  }; ?&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    @section('title', $post-&gt;seo_title ?? $post-&gt;title)\n    @section('description', $post-&gt;meta_description)\n    @section('keywords', $post-&gt;meta_keywords)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"top\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex justify-end gap-4\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-sm\"</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ url('/category/' . $post-&gt;category-&gt;slug) }}\"</span>&gt;</span>{{ $post-&gt;category-&gt;title }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-button</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n          @lang('Show this category')\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{!! $post-&gt;title !!}\"</span> <span class=\"hljs-attr\">subtitle</span>=<span class=\"hljs-string\">\"{{ ucfirst($post-&gt;created_at-&gt;isoFormat('LLLL')) }} \"</span> <span class=\"hljs-attr\">size</span>=<span class=\"hljs-string\">\"text-2xl sm:text-3xl md:text-4xl\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"relative items-center w-full py-5 mx-auto prose md:px-12 max-w-7xl\"</span>&gt;</span>\n      @if ($post-&gt;image)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex flex-col items-center mb-4\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"{{ asset('storage/photos/' . $post-&gt;image) }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n      @endif\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-justify\"</span>&gt;</span>\n        {!! $post-&gt;body !!}\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">hr</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>@lang('By') {{ $post-&gt;user-&gt;name }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"1869,1870","fold":1}},{"content":"Traduction posts.show","children":[{"content":"<pre><code class=\"language-json\">  <span class=\"hljs-attr\">\"By\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Par\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"1917,1918","fold":1}}],"payload":{"lines":"1846,1847","fold":1}},{"content":"Dynamic Title/Description/Keywords (S.E.O.)","children":[{"content":"Dans le <strong>Layout</strong>","children":[{"content":"\n<p data-lines=\"1927,1928\">Rappel extrait title &amp; meta :</p>\n<pre><code class=\"language-html\">  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>{{ (isset($title) ? $title . ' | ' :\n  (View::hasSection('title') ? View::getSection('title') . ' | ' :\n   '')) . config('app.name') }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"description\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"@yield('description')\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"keywords\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"@yield('keywords')\"</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"1927,1937"}}],"payload":{"lines":"1925,1926"}},{"content":"Dans la <strong>Vue</strong>","children":[{"content":"Bloc PHP","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Attributes</span>\\<span class=\"hljs-title\">Title</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Repositories</span>\\<span class=\"hljs-title\">PostRepository</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Pagination</span>\\<span class=\"hljs-title\">LengthAwarePaginator</span>;\n  \n  <span class=\"hljs-keyword\">new</span> \n  <span class=\"hljs-meta\">#[Title</span>(<span class=\"hljs-string\">'Contact'</span><span class=\"hljs-meta\">]</span>\n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n    ...\n  }\n</code></pre>","children":[]}],"payload":{"lines":"1939,1940"}},{"content":"OU","children":[],"payload":{"lines":"1953,1954"}},{"content":"Bloc Blade","children":[{"content":"\n<pre><code class=\"language-html\">  @php\n    $title='TitrePage'\n  @endphp\n</code></pre>","children":[],"payload":{"lines":"1957,1963"}},{"content":"\n<p data-lines=\"1963,1964\">OU :</p>\n<pre><code class=\"language-html\">  @section('title', $post-&gt;seo_title ?? $post-&gt;title)\n  @section('description', $post-&gt;meta_description)\n  @section('keywords', $post-&gt;meta_keywords\n</code></pre>","children":[],"payload":{"lines":"1963,1971"}},{"content":"\n<p data-lines=\"1971,1973\">À noter que ces dernières méthodes permettent par exemple<br>\nde traduire le titre dans l'onglet :</p>","children":[],"payload":{"lines":"1971,1974"}},{"content":"\n<pre><code class=\"language-html\">@section('title', __('Add a post'))\n</code></pre>\n<p data-lines=\"1978,1979\">Fera apparaître : \"Ajouter un article | Mon CMS\"</p>","children":[],"payload":{"lines":"1974,1980"}}],"payload":{"lines":"1955,1956"}}],"payload":{"lines":"1937,1938"}}],"payload":{"lines":"1923,1924","fold":1}},{"content":"Typographie: Plugin <strong>prose</strong> de Tailwind","children":[{"content":"\n<pre><code class=\"language-bash\">npm install -D @tailwindcss/typography\n</code></pre>","children":[],"payload":{"lines":"1982,1986"}},{"content":"\n<p data-lines=\"1986,1987\">./<strong>tailwind.config.js</strong> :</p>\n<pre><code class=\"language-js\"><span class=\"hljs-built_in\">exports</span> <span class=\"hljs-keyword\">default</span> {\n    ...\n    <span class=\"hljs-attr\">plugins</span>: [\n        <span class=\"hljs-attr\">plugins</span>: [<span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"@tailwindcss/typography\"</span>), <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"daisyui\"</span>)],\n    ],\n}\n</code></pre>","children":[],"payload":{"lines":"1986,1997"}},{"content":"\n<p data-lines=\"1997,1998\"><em>Ex. d'utilisation : &lt;div class=\"relative items-center w-full py-5 mx-auto <strong>prose</strong> md:px-12 max-w-7xl\"&gt;</em></p>","children":[],"payload":{"lines":"1997,1999"}}],"payload":{"lines":"1980,1981","fold":1}},{"content":"Style avec Librairie <strong>prismjs</strong>","children":[{"content":"\n<p data-lines=\"2001,2004\">Configurer <strong>prism.css</strong> et <strong>prism.js</strong> : <a href=\"https://prismjs.com/download.html\">https://prismjs.com/download.html</a><br>\nOU :<br>\nRécupérer ceux du site Sillo: <a href=\"https://laravel.sillo.org/storage/css/prism.css\" title=\"pour obtenir exactement le même rendu\" target=\"_blank\">CSS</a> et <a href=\"https://laravel.sillo.org/storage/scripts/prism.js\" title=\"pour obtenir exactement le même rendu\" target=\"_blank\">JS</a></p>","children":[],"payload":{"lines":"2001,2005"}},{"content":"\n<p data-lines=\"2005,2006\">Quelque soit le choix, poser dans le layout :</p>\n<pre><code class=\"language-html\">  ...\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span>\n  ...\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">\"stylesheet\"</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ asset('storage/css/prism.css') }}\"</span>&gt;</span>\n  ... @vite(...)\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"h-[96vh] font-sans antialiased bg-base-200/50 dark:bg-base-200\"</span>&gt;</span>\n    ...\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"{{ asset('storage/scripts/prism.js') }}\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n  \\<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"2005,2020"}}],"payload":{"lines":"1999,2000","fold":1}},{"content":"Mode clair/sombre (MaryIU)","children":[{"content":"\n<p data-lines=\"2022,2023\">./<strong>tailwind.config.js</strong> :</p>\n<pre><code class=\"language-js\">  <span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> {\n    ...\n    <span class=\"hljs-attr\">theme</span>: {\n      <span class=\"hljs-attr\">extend</span>: {},\n    },\n    <span class=\"hljs-attr\">darkMode</span>: <span class=\"hljs-string\">'class'</span>,\n  }\n</code></pre>","children":[],"payload":{"lines":"2022,2034"}},{"content":"\n<p data-lines=\"2034,2035\">navigation/<strong>navbar.blade.php</strong> :</p>\n<pre><code class=\"language-html\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-theme-toggle</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Toggle theme') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"w-4 h-8\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-nav</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"2034,2042"}},{"content":"\n<p data-lines=\"2042,2043\">lang/<strong>fr.json</strong> :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Toggle theme\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Basculer le thème\"</span>\n</code></pre>","children":[],"payload":{"lines":"2042,2048"}},{"content":"\n<p data-lines=\"2048,2049\">Doc MaryUI <em><strong><a href=\"https://mary-ui.com/docs/components/theme-toggle\" title=\"Voir les détails\" target=\"_blank\">https://mary-ui.com/docs/components/theme-toggle</a></strong></em></p>","children":[],"payload":{"lines":"2048,2050"}}],"payload":{"lines":"2020,2021","fold":1}},{"content":"Search bar","children":[{"content":"La route (routes/<strong>web.php</strong>)","children":[{"content":"\n<pre><code class=\"language-php\">  <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/search/{param}'</span>, <span class=\"hljs-string\">'index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'posts.search'</span>);\n</code></pre>","children":[],"payload":{"lines":"2054,2058"}},{"content":"\n<p data-lines=\"2058,2059\">À noter sa particularité : Renvoie aussi sur la vue index</p>","children":[],"payload":{"lines":"2058,2060"}}],"payload":{"lines":"2052,2053","fold":1}},{"content":"Composant search","children":[{"content":"\n<p data-lines=\"2062,2063\">Création composant Search :</p>\n<pre><code class=\"language-bash\">  php artisan make:volt search --class\n</code></pre>","children":[],"payload":{"lines":"2062,2068"}},{"content":"\n<p data-lines=\"2068,2069\">PHP (La logique) :</p>\n<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Volt</span>\\<span class=\"hljs-title\">Component</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Attributes</span>\\<span class=\"hljs-title\">Validate</span>;\n\n  <span class=\"hljs-keyword\">new</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n\n    <span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required|string|max:100'</span>)<span class=\"hljs-meta\">]</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$search</span> = <span class=\"hljs-string\">''</span>;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">save</span>(<span class=\"hljs-params\"></span>) </span>{\n      <span class=\"hljs-variable\">$data</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">validate</span>();\n\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">redirect</span>(<span class=\"hljs-string\">'/search/'</span> . <span class=\"hljs-variable\">$data</span>[<span class=\"hljs-string\">'search'</span>]);\n    }\n  }; <span class=\"hljs-meta\">?&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"2068,2088"}},{"content":"\n<p data-lines=\"2088,2089\">HTML (Blade - La Vue) :</p>\n<pre><code class=\"language-html\">  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span> <span class=\"hljs-attr\">wire:submit.prevent</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Search') }}...\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"search\"</span> <span class=\"hljs-attr\">clearable</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-magnifying-glass\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"2088,2098"}}],"payload":{"lines":"2060,2061","fold":1}},{"content":"Vue HTML - navigation/navbar.php","children":[{"content":"<pre><code class=\"language-html\">    ...\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">livewire:search</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-nav</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"2098,2099","fold":1}},{"content":"Ajouter search() dans app/Repositories/<strong>PostRepository.php</strong>","children":[{"content":"\n<p data-lines=\"2109,2110\">search(), La fonction qui inclue la chaîne du formulaire pour gérer la recherche :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">search</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$search</span></span>): <span class=\"hljs-title\">LengthAwarePaginator</span> </span>{\n  \n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getBaseQuery</span>()\n    -&gt;<span class=\"hljs-title function_ invoke__\">latest</span>()\n    -&gt;<span class=\"hljs-title function_ invoke__\">where</span>(function (<span class=\"hljs-variable\">$query</span>) <span class=\"hljs-keyword\">use</span> ($<span class=\"hljs-title\">search</span>) {\n    $<span class=\"hljs-title\">query</span>-&gt;<span class=\"hljs-title\">where</span>('<span class=\"hljs-title\">title</span>', '<span class=\"hljs-title\">like</span>', \"%{$<span class=\"hljs-title\">search</span>}%\")\n    -&gt;<span class=\"hljs-title\">orWhere</span>('<span class=\"hljs-title\">body</span>', '<span class=\"hljs-title\">like</span>', \"%{$<span class=\"hljs-title\">search</span>}%\");\n    })\n    -&gt;<span class=\"hljs-title function_ invoke__\">paginate</span>(<span class=\"hljs-title function_ invoke__\">config</span>(<span class=\"hljs-string\">'app.pagination'</span>));\n  }\n</code></pre>","children":[],"payload":{"lines":"2109,2124"}}],"payload":{"lines":"2107,2108","fold":1}},{"content":"Composant index (Homepage (Page d'accueil))","children":[{"content":"<strong>Bloc Logique PHP</strong> : Quand on récupère les posts...","children":[{"content":"\n<p data-lines=\"2128,2130\">...On déclenche le composant search<br>\n&nbsp; &nbsp; si l'URI comporte un paramètre (function getPosts()) :</p>\n<pre><code class=\"language-php\">  ...\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$param</span> = <span class=\"hljs-string\">''</span>;\n  \n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$slug</span> = <span class=\"hljs-string\">''</span>, <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$param</span> = <span class=\"hljs-string\">''</span></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;param = <span class=\"hljs-variable\">$param</span>;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_ invoke__\">request</span>()-&gt;<span class=\"hljs-title function_ invoke__\">is</span>(<span class=\"hljs-string\">'category/*'</span>)) {\n      <span class=\"hljs-variable language_\">$this</span>-&gt;category = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getCategoryBySlug</span>(<span class=\"hljs-variable\">$slug</span>);\n    }\n  }\n  \n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getPosts</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">LengthAwarePaginator</span> </span>{\n    <span class=\"hljs-variable\">$postRepository</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">PostRepository</span>();\n\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-keyword\">empty</span>(<span class=\"hljs-variable language_\">$this</span>-&gt;param)) {\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$postRepository</span>-&gt;<span class=\"hljs-title function_ invoke__\">search</span>(<span class=\"hljs-variable\">$this</span>-&gt;param);\n    }\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$postRepository</span>-&gt;<span class=\"hljs-title function_ invoke__\">getPostsPaginate</span>(<span class=\"hljs-variable\">$this</span>-&gt;category);\n  }\n</code></pre>","children":[],"payload":{"lines":"2128,2153"}}],"payload":{"lines":"2126,2127","fold":1}},{"content":"<strong>Bloc Vue Blade</strong> : S'il y a une recherche...","children":[{"content":"\n<p data-lines=\"2155,2156\">...Alors, on affiche le titre de la page adapté :</p>\n<pre><code class=\"language-php\">  @<span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable\">$category</span>)\n    &lt;x-header title=<span class=\"hljs-string\">\"{{ __('Posts for category ') }} {{ <span class=\"hljs-subst\">$category</span>-&gt;title }}\"</span> size=<span class=\"hljs-string\">\"text-2xl sm:text-3xl md:text-4xl\"</span> /&gt;\n  @<span class=\"hljs-keyword\">elseif</span>(<span class=\"hljs-variable\">$param</span> !== <span class=\"hljs-string\">''</span>)\n    &lt;x-header title=<span class=\"hljs-string\">\"{{ __('Posts for search ') }} '{{ <span class=\"hljs-subst\">$param</span> }}'\"</span> size=<span class=\"hljs-string\">\"text-2xl sm:text-3xl md:text-4xl\"</span> /&gt;\n  @<span class=\"hljs-keyword\">endif</span>\n</code></pre>","children":[],"payload":{"lines":"2155,2165"}}],"payload":{"lines":"2153,2154","fold":1}}],"payload":{"lines":"2124,2125","fold":1}},{"content":"Traductions nécessaires (<strong>lang/fr.json</strong>)","children":[{"content":"<pre><code class=\"language-json\">  <span class=\"hljs-attr\">\"Search...\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Rechercher...\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"Posts for search \"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Articles pour la recherche\"</span><span class=\"hljs-punctuation\">,</span>\n</code></pre>","children":[]}],"payload":{"lines":"2165,2166","fold":1}}],"payload":{"lines":"2050,2051","fold":1}},{"content":"Affichage d'une page","children":[{"content":"Route pages.show","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/pages/{page:slug}'</span>, <span class=\"hljs-string\">'pages.show'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'pages.show'</span>);\n</code></pre>","children":[]}],"payload":{"lines":"2174,2175"}},{"content":"Créer composant pages.show","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:volt pages/show --class\n</code></pre>","children":[]}],"payload":{"lines":"2180,2181"}},{"content":"Composant pages.show","children":[{"content":"<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;?php\n  use App\\Models\\Page;\n  use Livewire\\Volt\\Component;\n  \n  new class extends Component {\n  public Page $page;\n  \n  public function mount(Page $page): void {\n    if (!$page-&gt;active) {\n      abort(404);\n    }\n  \n    $this-&gt;page = $page;\n  }\n  }; ?&gt;</span>\n  \n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    @section('title', $page-&gt;seo_title ?? $page-&gt;title)\n    @section('description', $page-&gt;meta_description)\n    @section('keywords', $page-&gt;meta_keywords)\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex justify-end gap-4\"</span>&gt;</span>\n      @auth\n        @if (Auth::user()-&gt;isAdmin())\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-pencil-square\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"#\"</span> <span class=\"hljs-attr\">spinner</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost btn-sm\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n              @lang('Edit this page')\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n        @endif\n      @endauth\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{!! $page-&gt;title !!}\"</span> /&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"relative items-center w-full px-5 py-5 mx-auto prose md:px-12 max-w-7xl text-justify\"</span>&gt;</span>\n      {!! $page-&gt;body !!}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"2186,2187"}},{"content":"Traduction pages.show","children":[{"content":"<pre><code class=\"language-json\">  <span class=\"hljs-attr\">\"Edit this page\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier cette page\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"2233,2234"}}],"payload":{"lines":"2172,2173","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-articles\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-articles</a></strong></em>","children":[],"payload":{"lines":"2239,2240"}},{"content":"La page Contact","children":[{"content":"Données Contact","children":[{"content":"Model &amp; Migration Contact","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:model Contact -m\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">App</span>\\<span class=\"hljs-title class_\">Models</span>;\n\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Model</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Notifications</span>\\<span class=\"hljs-title\">Notifiable</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Relations</span>\\<span class=\"hljs-title\">BelongsTo</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Factories</span>\\<span class=\"hljs-title\">HasFactory</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Contact</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">HasFactory</span>;\n    <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Notifiable</span>;\n\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$fillable</span> = [<span class=\"hljs-string\">'name'</span>, <span class=\"hljs-string\">'email'</span>, <span class=\"hljs-string\">'message'</span>, <span class=\"hljs-string\">'user_id'</span>];\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">user</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">BelongsTo</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">belongsTo</span>(<span class=\"hljs-title class_\">User</span>::<span class=\"hljs-variable language_\">class</span>);\n    }\n}\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Facades</span>\\<span class=\"hljs-title\">Schema</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Schema</span>\\<span class=\"hljs-title\">Blueprint</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Migrations</span>\\<span class=\"hljs-title\">Migration</span>;\n\n    <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">CreateContactsTable</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Migration</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">up</span>(<span class=\"hljs-params\"></span>) </span>{\n        <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'contacts'</span>, function (Blueprint <span class=\"hljs-variable\">$table</span>) {\n            <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n            <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">unsignedBigInteger</span>(<span class=\"hljs-string\">'user_id'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">nullable</span>()-&gt;<span class=\"hljs-keyword\">default</span>(<span class=\"hljs-literal\">null</span>);\n            <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'name'</span>);\n            <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'email'</span>);\n            <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">text</span>(<span class=\"hljs-string\">'message'</span>);\n            <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">boolean</span>(<span class=\"hljs-string\">'handled'</span>)-&gt;<span class=\"hljs-keyword\">default</span>(<span class=\"hljs-literal\">false</span>);\n            <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">timestamps</span>();\n        });\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">down</span>(<span class=\"hljs-params\"></span>) </span>{\n      <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">dropIfExists</span>(<span class=\"hljs-string\">'contacts'</span>);\n    }\n}\n</code></pre>","children":[]}],"payload":{"lines":"2245,2246","fold":1}},{"content":"Seeder avec Factory Contact","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:factory Contact\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">Database</span>\\<span class=\"hljs-title class_\">Factories</span>;\n\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\<span class=\"hljs-title\">Contact</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Faker</span>\\<span class=\"hljs-title\">Factory</span> <span class=\"hljs-keyword\">as</span> <span class=\"hljs-title\">Faker</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Factories</span>\\<span class=\"hljs-title\">Factory</span>;\n\n    <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">ContactFactory</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Factory</span> </span>{\n    \n        <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$model</span> = <span class=\"hljs-title class_\">Contact</span>::<span class=\"hljs-variable language_\">class</span>;\n    \n        <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">definition</span>(<span class=\"hljs-params\"></span>) </span>{\n            <span class=\"hljs-variable\">$faker</span> = <span class=\"hljs-title class_\">Faker</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'fr_FR'</span>);\n      \n            <span class=\"hljs-keyword\">return</span> [\n                <span class=\"hljs-string\">'name'</span>    =&gt; <span class=\"hljs-variable\">$faker</span>-&gt;name,\n                <span class=\"hljs-string\">'email'</span>   =&gt; <span class=\"hljs-variable\">$faker</span>-&gt;<span class=\"hljs-title function_ invoke__\">unique</span>()-&gt;safeEmail,\n                <span class=\"hljs-string\">'message'</span> =&gt; <span class=\"hljs-variable\">$faker</span>-&gt;<span class=\"hljs-title function_ invoke__\">realText</span>(<span class=\"hljs-number\">200</span>, <span class=\"hljs-number\">2</span>),\n          ];\n    }\n}  \n</code></pre>","children":[]},{"content":"<pre><code class=\"language-bash\">php artisan make:seeder ContactSeeder\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">database</span>\\<span class=\"hljs-title class_\">seeders</span>;\n\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\<span class=\"hljs-title\">Contact</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Console</span>\\<span class=\"hljs-title\">Seeds</span>\\<span class=\"hljs-title\">WithoutModelEvents</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">ContactSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n    <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">WithoutModelEvents</span>;\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>) </span>{\n        <span class=\"hljs-title class_\">Contact</span>::<span class=\"hljs-title function_ invoke__\">factory</span>()-&gt;<span class=\"hljs-title function_ invoke__\">count</span>(<span class=\"hljs-number\">5</span>)-&gt;<span class=\"hljs-title function_ invoke__\">create</span>();\n    }\n}\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">DatabaseSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n        <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">call</span>([\n            ...\n            <span class=\"hljs-title class_\">ContactSeeder</span>::<span class=\"hljs-variable language_\">class</span>,\n        ]);\n        ...\n    }\n}\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-bash\">php artisan db:seed\n</code></pre>","children":[]}],"payload":{"lines":"2297,2298","fold":1}}],"payload":{"lines":"2243,2244","fold":1}},{"content":"Route Contact","children":[{"content":"<pre><code class=\"language-php\">... /pages/{page:slug} (Ndlr: Route pages.show)\n<span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/contact'</span>, <span class=\"hljs-string\">'pages.contact'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'pages.contact'</span>);\n</code></pre>","children":[]}],"payload":{"lines":"2364,2365","fold":1}},{"content":"Composant Contact (livewire/<strong>contact.blade.php</strong>)","children":[{"content":"<pre><code class=\"language-php\">php artisan make:volt pages/contact --<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span>\n</span></code></pre>","children":[]},{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse App\\Models\\Contact;\nuse Livewire\\Volt\\Component;\nuse Livewire\\Attributes\\{Layout, Rule};\n\nnew\n#[Title('Contact')]\nclass extends Component {\n    use Toast;\n\n    #[Rule('required|string|max:255')]\n    public string $name = '';\n\n    #[Rule('required|email')]\n    public string $email = '';\n\n    #[Rule('required|max:1000')]\n    public string $message = '';\n\n    #[Rule('nullable|numeric|exists:users,id')]\n    public ?int $user_id = null;\n\n    // Méthode de montage pour pré-remplir les champs avec les informations de l'utilisateur authentifié\n    public function mount(): void {\n        if (Auth::check()) {\n            $this-&gt;name = Auth::user()-&gt;name;\n            $this-&gt;email = Auth::user()-&gt;email;\n            $this-&gt;user_id = Auth::id();\n        }\n    }\n    // Méthode pour enregistrer le formulaire de contact\n    public function save() {\n        // Validation des données du formulaire\n        $data = $this-&gt;validate();\n        // Création d'un nouveau contact avec les données validées\n        Contact::create($data);\n        // Affichage d'un message de réussite avec une redirection\n        $this-&gt;success(__('Your message has been sent!'), redirectTo: '/');\n    }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    @section('title', 'Contact')\n    <span class=\"hljs-comment\">&lt;!-- Formulaire de contact encapsulé dans une carte --&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Contact') }}\"</span> <span class=\"hljs-attr\">subtitle</span>=<span class=\"hljs-string\">\"{{ __('Use this form to contact me') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span>\n        <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n            <span class=\"hljs-comment\">&lt;!-- Affichage des champs de nom et d\\'email uniquement si \\'utilisateur n\\'est pas connecté --&gt;</span>\n            @if (!Auth()-&gt;check())\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Name') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"name\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-user\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('E-mail') }} *\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-envelope\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n            @endif\n            <span class=\"hljs-comment\">&lt;!-- Champ de message --&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-textarea</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"message\"</span> <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Max 1000 chars') }}\"</span> <span class=\"hljs-attr\">rows</span>=<span class=\"hljs-string\">\"5\"</span>\n                <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Your message...') }} *\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-[12px] text-right italic my-[-10px]\"</span>&gt;</span>* : {{ __('Required information') }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n            <span class=\"hljs-comment\">&lt;!-- Boutons d'actions --&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Cancel') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Send') }}\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span>\n                    <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"login\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"2371,2372","fold":1}},{"content":"Traductions Contact","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Use this form to contact me\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Utilisez ce formulaire pour me contacter\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Your message...\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Votre message...\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Max 1000 chars\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Max 1000 caractères\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Your message has been sent!\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Votre message a bien été envoyé !\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"2446,2447","fold":1}}],"payload":{"lines":"2241,2242","fold":1}}],"payload":{"lines":"1844,1845","fold":1}},{"content":"- Les menus &amp; le footer","children":[{"content":"Les données pour menus et footer","children":[{"content":"Structures","children":[{"content":"Model &amp; migration Menu","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:model Menu --migration\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">App</span>\\<span class=\"hljs-title class_\">Models</span>;\n  \n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Model</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Relations</span>\\<span class=\"hljs-title\">HasMany</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Menu</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-variable\">$timestamps</span> = <span class=\"hljs-literal\">false</span>;\n    \n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$fillable</span> = [\n      <span class=\"hljs-string\">'label'</span>,\n      <span class=\"hljs-string\">'link'</span>,\n      <span class=\"hljs-string\">'order'</span>,\n    ];\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">submenus</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">HasMany</span> </span>{\n      \n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">hasMany</span>(<span class=\"hljs-title class_\">Submenu</span>::<span class=\"hljs-variable language_\">class</span>);\n    }\n  }\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">up</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'menus'</span>, function (Blueprint <span class=\"hljs-variable\">$table</span>) {\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'label'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'link'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">nullable</span>();\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">integer</span>(<span class=\"hljs-string\">'order'</span>);\n    });\n  }\n</code></pre>","children":[]}],"payload":{"lines":"2461,2462","fold":1}},{"content":"Model &amp; migration Submenu","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:model Submenu --migration\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Submenu</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-variable\">$timestamps</span> = <span class=\"hljs-literal\">false</span>;\n    \n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$fillable</span> = [\n      <span class=\"hljs-string\">'label'</span>,\n      <span class=\"hljs-string\">'link'</span>,\n      <span class=\"hljs-string\">'order'</span>,\n    ];\n  }\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">up</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'submenus'</span>, function (Blueprint <span class=\"hljs-variable\">$table</span>) {\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'label'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">integer</span>(<span class=\"hljs-string\">'order'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'link'</span>)-&gt;<span class=\"hljs-keyword\">default</span>(<span class=\"hljs-string\">'#'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">foreignId</span>(<span class=\"hljs-string\">'menu_id'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">constrained</span>()-&gt;<span class=\"hljs-title function_ invoke__\">onDelete</span>(<span class=\"hljs-string\">'cascade'</span>);\n    });\n  }\n</code></pre>","children":[]}],"payload":{"lines":"2501,2502","fold":1}},{"content":"Model &amp; migration Footer","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:model Footer --migration\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Footer</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-variable\">$timestamps</span> = <span class=\"hljs-literal\">false</span>;\n\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$fillable</span> = [\n      <span class=\"hljs-string\">'label'</span>,\n      <span class=\"hljs-string\">'link'</span>,\n      <span class=\"hljs-string\">'order'</span>,\n    ];\n  }\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">up</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'footers'</span>, function (Blueprint <span class=\"hljs-variable\">$table</span>) {\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'label'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'link'</span>);\n      <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">integer</span>(<span class=\"hljs-string\">'order'</span>);\n    });\n  }\n</code></pre>","children":[]}],"payload":{"lines":"2531,2532","fold":1}}],"payload":{"lines":"2459,2460","fold":1}},{"content":"Population (Seeders)","children":[{"content":"Rappel pour créer un seeder","children":[{"content":"\n<p data-lines=\"2564,2565\">Exemple avec le seeder des menus :</p>","children":[],"payload":{"lines":"2564,2566"}},{"content":"\n<pre><code class=\"language-bash\">  php artisan make:seeder MenusSeeder\n</code></pre>","children":[],"payload":{"lines":"2566,2570"}},{"content":"\n<p data-lines=\"2570,2571\">OU :</p>","children":[],"payload":{"lines":"2570,2572"}},{"content":"\n<p data-lines=\"2572,2573\">Créer le fichier <strong>MenusSeeder.php</strong> dans database/seeders</p>","children":[],"payload":{"lines":"2572,2574"}}],"payload":{"lines":"2562,2563","fold":1}},{"content":"<strong>MenusSeeder.php</strong>","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">database</span>\\<span class=\"hljs-title class_\">seeders</span>;\n  \n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Facades</span>\\<span class=\"hljs-title\">DB</span>;\n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MenusSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span>\n  </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>) </span>{\n      <span class=\"hljs-variable\">$menus</span> = [\n          [<span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Catégorie 1'</span>, <span class=\"hljs-string\">'link'</span> =&gt; <span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">'order'</span> =&gt; <span class=\"hljs-number\">3</span>],\n          [<span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Catégorie 2'</span>, <span class=\"hljs-string\">'link'</span> =&gt; <span class=\"hljs-string\">'/category/category-2'</span>, <span class=\"hljs-string\">'order'</span> =&gt; <span class=\"hljs-number\">2</span>],\n          [<span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Catégorie 3'</span>, <span class=\"hljs-string\">'link'</span> =&gt; <span class=\"hljs-string\">'/category/category-3'</span>, <span class=\"hljs-string\">'order'</span> =&gt; <span class=\"hljs-number\">1</span>],\n      ];\n  \n      DB::<span class=\"hljs-title function_ invoke__\">table</span>(<span class=\"hljs-string\">'menus'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">insert</span>(<span class=\"hljs-variable\">$menus</span>);\n  \n      <span class=\"hljs-variable\">$submenus</span> = [\n          [<span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Post 1'</span>, <span class=\"hljs-string\">'order'</span> =&gt; <span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">'link'</span> =&gt; <span class=\"hljs-string\">'/posts/post-1'</span>, <span class=\"hljs-string\">'menu_id'</span> =&gt; <span class=\"hljs-number\">1</span>],\n          [<span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Tout'</span>, <span class=\"hljs-string\">'order'</span> =&gt; <span class=\"hljs-number\">3</span>, <span class=\"hljs-string\">'link'</span> =&gt; <span class=\"hljs-string\">'/category/category-1'</span>, <span class=\"hljs-string\">'menu_id'</span> =&gt; <span class=\"hljs-number\">1</span>],\n      ];\n  \n      DB::<span class=\"hljs-title function_ invoke__\">table</span>(<span class=\"hljs-string\">'submenus'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">insert</span>(<span class=\"hljs-variable\">$submenus</span>);\n    }\n  }\n</code></pre>","children":[]}],"payload":{"lines":"2574,2575","fold":1}},{"content":"<strong>FooterSeeder.php</strong>","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">database</span>\\<span class=\"hljs-title class_\">seeders</span>;\n  \n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Facades</span>\\<span class=\"hljs-title\">DB</span>;\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">FooterSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span>\n  </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>) </span>{\n      <span class=\"hljs-comment\">// Données des éléments du pied de page</span>\n      <span class=\"hljs-variable\">$footers</span> = [\n        [<span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Accueil'</span>, <span class=\"hljs-string\">'order'</span> =&gt; <span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">'link'</span> =&gt; <span class=\"hljs-string\">'/'</span>],\n        [<span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Terms'</span>, <span class=\"hljs-string\">'order'</span> =&gt; <span class=\"hljs-number\">3</span>, <span class=\"hljs-string\">'link'</span> =&gt; <span class=\"hljs-string\">'/pages/terms'</span>],\n        [<span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Policy'</span>, <span class=\"hljs-string\">'order'</span> =&gt; <span class=\"hljs-number\">4</span>, <span class=\"hljs-string\">'link'</span> =&gt; <span class=\"hljs-string\">'/pages/privacy-policy'</span>],\n        [<span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Contact'</span>, <span class=\"hljs-string\">'order'</span> =&gt; <span class=\"hljs-number\">5</span>, <span class=\"hljs-string\">'link'</span> =&gt; <span class=\"hljs-string\">'/contact'</span>],\n      ];\n\n      <span class=\"hljs-comment\">// Insérer les données dans la table footers</span>\n      DB::<span class=\"hljs-title function_ invoke__\">table</span>(<span class=\"hljs-string\">'footers'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">insert</span>(<span class=\"hljs-variable\">$footers</span>);\n    }\n  }\n</code></pre>","children":[]}],"payload":{"lines":"2602,2603","fold":1}},{"content":"<strong>DatabaseSeeder.php</strong>","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">call</span>([\n      ...\n      <span class=\"hljs-title class_\">MenusSeeder</span>::<span class=\"hljs-variable language_\">class</span>,\n      <span class=\"hljs-title class_\">FooterSeeder</span>::<span class=\"hljs-variable language_\">class</span>, \n    ]);\n  }\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-bash\">  php artisan migrate:fresh --seed\n</code></pre>","children":[]}],"payload":{"lines":"2628,2629","fold":1}}],"payload":{"lines":"2560,2561","fold":1}},{"content":"Nouveauté : app/Providers/<strong>AppServiceProvider.php</strong>","children":[{"content":"\n<p data-lines=\"2646,2647\">Parce que les menus et submenus sont appelés systématiquement :</p>\n<pre><code class=\"language-php\">  ...\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\<span class=\"hljs-title\">Menu</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">View</span>\\<span class=\"hljs-title\">View</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\{<span class=\"hljs-title\">Facades</span>, <span class=\"hljs-title\">ServiceProvider</span>};\n  \n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">AppServiceProvider</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">ServiceProvider</span> </span>{\n    ...\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">boot</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n      <span class=\"hljs-title class_\">Facades\\View</span>::<span class=\"hljs-title function_ invoke__\">composer</span>([<span class=\"hljs-string\">'components.layouts.app'</span>], function (View <span class=\"hljs-variable\">$view</span>) {\n        <span class=\"hljs-variable\">$view</span>-&gt;<span class=\"hljs-title function_ invoke__\">with</span>(\n          <span class=\"hljs-string\">'menus'</span>,\n          <span class=\"hljs-title class_\">Menu</span>::<span class=\"hljs-title function_ invoke__\">with</span>([<span class=\"hljs-string\">'submenus'</span> =&gt; function (<span class=\"hljs-variable\">$query</span>) {\n            <span class=\"hljs-variable\">$query</span>-&gt;<span class=\"hljs-title function_ invoke__\">orderBy</span>(<span class=\"hljs-string\">'order'</span>);\n          }])-&gt;<span class=\"hljs-title function_ invoke__\">orderBy</span>(<span class=\"hljs-string\">'order'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">get</span>()\n        );\n      });\n    }\n  }\n</code></pre>","children":[],"payload":{"lines":"2646,2669"}}],"payload":{"lines":"2644,2645","fold":1}}],"payload":{"lines":"2457,2458","fold":1}},{"content":"Affichages des menus","children":[{"content":"Ajouter <em><strong>:$menus</strong></em> dans layouts/<strong>app.blade.php</strong>","children":[{"content":"<pre><code class=\"language-html\">  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">livewire:navigation.navbar</span> <span class=\"hljs-attr\">:</span>$<span class=\"hljs-attr\">menus</span> /&gt;</span>\n  ...\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">livewire:navigation.sidebar</span> <span class=\"hljs-attr\">:</span>$<span class=\"hljs-attr\">menus</span> /&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"2671,2672","fold":1}},{"content":"Barres de Navigation","children":[{"content":"navigation/<strong>navbar.blade.php</strong>","children":[{"content":"\n<p data-lines=\"2683,2684\">Bloc PHP :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Collection</span>;\n\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n    \n    <span class=\"hljs-keyword\">public</span> Collection <span class=\"hljs-variable\">$menus</span>;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\">Collection <span class=\"hljs-variable\">$menus</span></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;menus = <span class=\"hljs-variable\">$menus</span>;\n    }\n    ...\n}\n</code></pre>","children":[],"payload":{"lines":"2683,2699"}},{"content":"\n<p data-lines=\"2699,2700\">Bloc Blade :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"hidden sm:block\"</span>&gt;</span>\n    @foreach ($menus as $menu)\n    @if ($menu-&gt;submenus-&gt;isNotEmpty())\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-dropdown</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ $menu-&gt;label }}\"</span>  <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n        @foreach ($menu-&gt;submenus as $submenu)\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ $submenu-&gt;label }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ $submenu-&gt;link }}\"</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">\"min-width: max-content;\"</span> /&gt;</span>\n        @endforeach\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-dropdown</span>&gt;</span>\n    @else\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ $menu-&gt;label }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ $menu-&gt;link }}\"</span> <span class=\"hljs-attr\">:external</span>=<span class=\"hljs-string\">\"Str::startsWith($menu-&gt;link, 'http')\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> /&gt;</span>\n    @endif\n    @endforeach\n    ...\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"2699,2721"}}],"payload":{"lines":"2681,2682","fold":1}},{"content":"navigation/<strong>sidebar.blade.php</strong>","children":[{"content":"<pre><code class=\"language-html\">...\nuse Illuminate\\Support\\Collection;\n\nnew class extends Component {\n\n    public Collection $menus;\n\n    public function mount(Collection $menus): void {\n    $this-&gt;menus = $menus;\n    }\n    ...\n};\n...\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu</span> <span class=\"hljs-attr\">activate-by-route</span>&gt;</span>\n    ... // Ici suppression du separator reporté ci-dessous\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-list-item</span>&gt;</span>\n    @else\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Login') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/login\"</span> /&gt;</span>\n    @endif\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-separator</span> /&gt;</span>\n    @foreach ($menus as $menu)\n    @if($menu-&gt;submenus-&gt;isNotEmpty())\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-sub</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ $menu-&gt;label }}\"</span>&gt;</span>\n        @foreach ($menu-&gt;submenus as $submenu)\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ $submenu-&gt;label }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ $submenu-&gt;link }}\"</span> /&gt;</span>\n        @endforeach\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu-sub</span>&gt;</span>\n    @else\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ $menu-&gt;label }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ $menu-&gt;link }}\"</span> /&gt;</span>\n    @endif\n    @endforeach\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"2721,2722","fold":1}}],"payload":{"lines":"2679,2680"}},{"content":"Menu Pied de page","children":[{"content":"\n<p data-lines=\"2760,2761\">Composant navigation/<strong>footer.blade.php</strong> :</p>\n<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;?php\n  use App\\Models\\Footer;\n  use Livewire\\Volt\\Component;\n  \n  new class() extends Component {\n  \n    public function with(): array {\n  \n      return [\n        'footers' =&gt; Footer::orderBy('order')-&gt;get(),\n    ];\n  }\n  };\n?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">footer</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"p-10 rounded footer footer-center bg-base-200 text-base-content\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">nav</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"grid grid-flow-col gap-4\"</span>&gt;</span>\n    @foreach ($footers as $footer)\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ $footer-&gt;link }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"link link-hover\"</span>&gt;</span>\n        @lang($footer-&gt;label)\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n    @endforeach\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">nav</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">nav</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"grid grid-flow-col gap-4\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"https://github.com/bestmomo/sillo\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\" {{ __('Go to the GitHub repository and... Fork it!') }} ! target=\"</span><span class=\"hljs-attr\">_blank</span>\"&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">svg</span> <span class=\"hljs-attr\">xmlns</span>=<span class=\"hljs-string\">\"http://www.w3.org/2000/svg\"</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">\"24\"</span> \n        <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">\"24\"</span> <span class=\"hljs-attr\">viewBox</span>=<span class=\"hljs-string\">\"0 0 24 24\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"fill-current\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">d</span>=<span class=\"hljs-string\">\"M12 0C5.372 0 0 5.372 0 12c0 5.303 3.438 9.8 8.207 11.387.6.11.793-.26.793-.577v-2.2c-3.338.726-4.033-1.415-4.033-1.415-.546-1.387-1.333-1.757-1.333-1.757-1.089-.744.083-.729.083-.729 1.204.085 1.838 1.237 1.838 1.237 1.07 1.835 2.809 1.305 3.495.998.108-.775.419-1.305.762-1.605-2.665-.305-5.466-1.335-5.466-5.93 0-1.31.467-2.38 1.235-3.22-.124-.303-.535-1.523.117-3.176 0 0 1.008-.322 3.3 1.23.957-.266 1.98-.399 3-.405 1.02.006 2.043.139 3 .405 2.29-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.873.118 3.176.77.84 1.233 1.91 1.233 3.22 0 4.61-2.804 5.62-5.475 5.92.43.37.815 1.1.815 2.22v3.293c0 .319.192.694.801.576C20.565 21.796 24 17.302 24 12c0-6.628-5.372-12-12-12z\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">svg</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"https://discord.com/channels/1258750464800063640/1258750464800063646\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\" {{ __('Go to the Discord channel') }} !\"</span> <span class=\"hljs-attr\">target</span>=<span class=\"hljs-string\">\"_blank\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">svg</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">\"25\"</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">\"28\"</span> <span class=\"hljs-attr\">viewBox</span>=<span class=\"hljs-string\">\"0 0 71 80\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"fill-current mt-[-.05rem]\"</span> <span class=\"hljs-attr\">xmlns</span>=<span class=\"hljs-string\">\"http://www.w3.org/2000/svg\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">d</span>=<span class=\"hljs-string\">\"M60.1045 13.8978C55.5792 11.8214 50.7265 10.2916 45.6527 9.41542C45.5603 9.39851 45.468 9.44077 45.4204 9.52529C44.7963 10.6353 44.105 12.0834 43.6209 13.2216C38.1637 12.4046 32.7345 12.4046 27.3892 13.2216C26.905 12.0581 26.1886 10.6353 25.5617 9.52529C25.5141 9.44359 25.4218 9.40133 25.3294 9.41542C20.2584 10.2888 15.4057 11.8186 10.8776 13.8978C10.8384 13.9147 10.8048 13.9429 10.7825 13.9795C1.57795 27.7309 -0.943561 41.1443 0.293408 54.3914C0.299005 54.4562 0.335386 54.5182 0.385761 54.5576C6.45866 59.0174 12.3413 61.7249 18.1147 63.5195C18.2071 63.5477 18.305 63.5139 18.3638 63.4378C19.7295 61.5728 20.9469 59.6063 21.9907 57.5383C22.0523 57.4172 21.9935 57.2735 21.8676 57.2256C19.9366 56.4931 18.0979 55.6 16.3292 54.5858C16.1893 54.5041 16.1781 54.304 16.3068 54.2082C16.679 53.9293 17.0513 53.6391 17.4067 53.3461C17.471 53.2926 17.5606 53.2813 17.6362 53.3151C29.2558 58.6202 41.8354 58.6202 53.3179 53.3151C53.3935 53.2785 53.4831 53.2898 53.5502 53.3433C53.9057 53.6363 54.2779 53.9293 54.6529 54.2082C54.7816 54.304 54.7732 54.5041 54.6333 54.5858C52.8646 55.6197 51.0259 56.4931 49.0921 57.2228C48.9662 57.2707 48.9102 57.4172 48.9718 57.5383C50.038 59.6034 51.2554 61.5699 52.5959 63.435C52.6519 63.5139 52.7526 63.5477 52.845 63.5195C58.6464 61.7249 64.529 59.0174 70.6019 54.5576C70.6551 54.5182 70.6887 54.459 70.6943 54.3942C72.1747 39.0791 68.2147 25.7757 60.1968 13.9823C60.1772 13.9429 60.1437 13.9147 60.1045 13.8978ZM23.7259 46.3253C20.2276 46.3253 17.3451 43.1136 17.3451 39.1693C17.3451 35.225 20.1717 32.0133 23.7259 32.0133C27.308 32.0133 30.1626 35.2532 30.1066 39.1693C30.1066 43.1136 27.28 46.3253 23.7259 46.3253ZM47.3178 46.3253C43.8196 46.3253 40.9371 43.1136 40.9371 39.1693C40.9371 35.225 43.7636 32.0133 47.3178 32.0133C50.9 32.0133 53.7545 35.2532 53.6986 39.1693C53.6986 43.1136 50.9 46.3253 47.3178 46.3253Z\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">svg</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">nav</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">aside</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>Version 0.1.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span> - © {{ date('Y') }} Moi<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">aside</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">footer</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"2760,2807"}},{"content":"\n<p data-lines=\"2807,2808\">Dans les layouts (app &amp; auth) :</p>\n<pre><code class=\"language-html\">  {{-- FOOTER --}}\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">hr</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">livewire:navigation.footer</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n  \n  {{--  TOAST area --}}\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-toast</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"{{ asset('storage/scripts/prism.js') }}\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"2807,2821"}},{"content":"\n<p data-lines=\"2821,2822\">./lang/<strong>fr.json</strong> :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Go to the GitHub repository and... Fork it\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Aller sur le dépôt GitHub et... Le cloner\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Go to the Discord channel\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Aller sur le canal Discord\"</span>\n</code></pre>","children":[],"payload":{"lines":"2821,2828"}}],"payload":{"lines":"2758,2759","fold":1}}],"payload":{"lines":"2669,2670","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-menus\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-menus</a></strong></em>","children":[],"payload":{"lines":"2828,2829"}}],"payload":{"lines":"2455,2456","fold":1}},{"content":"- Les commentaires","children":[{"content":"Model &amp; Migration et factory &amp; seeder Comment","children":[{"content":"Model Comment","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:model Comment --migration\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">App</span>\\<span class=\"hljs-title class_\">Models</span>;\n\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Model</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Notifications</span>\\<span class=\"hljs-title\">Notifiable</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Factories</span>\\<span class=\"hljs-title\">HasFactory</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Relations</span>\\{<span class=\"hljs-title\">BelongsTo</span>, <span class=\"hljs-title\">HasMany</span>};\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Comment</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">HasFactory</span>, <span class=\"hljs-title\">Notifiable</span>;\n\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$fillable</span> = [\n        <span class=\"hljs-string\">'body'</span>,\n        <span class=\"hljs-string\">'post_id'</span>,\n        <span class=\"hljs-string\">'user_id'</span>,\n        <span class=\"hljs-string\">'parent_id'</span>,\n    ];\n  \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">user</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">BelongsTo</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">belongsTo</span>(<span class=\"hljs-title class_\">User</span>::<span class=\"hljs-variable language_\">class</span>);\n    }\n  \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">post</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">BelongsTo</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">belongsTo</span>(<span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-variable language_\">class</span>);\n    }\n  \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">parent</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">BelongsTo</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">belongsTo</span>(<span class=\"hljs-title class_\">Comment</span>::<span class=\"hljs-variable language_\">class</span>, <span class=\"hljs-string\">'parent_id'</span>);\n    }\n  \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">children</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">HasMany</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">hasMany</span>(<span class=\"hljs-title class_\">Comment</span>::<span class=\"hljs-variable language_\">class</span>, <span class=\"hljs-string\">'parent_id'</span>);\n  }\n}\n</code></pre>","children":[]}],"payload":{"lines":"2834,2835","fold":1}},{"content":"Structure Comment","children":[{"content":"\n<p data-lines=\"2879,2880\">Migration de comments_table :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">up</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'comments'</span>, function (Blueprint <span class=\"hljs-variable\">$table</span>) {\n        <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n        <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">text</span>(<span class=\"hljs-string\">'body'</span>);\n        <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">foreignId</span>(<span class=\"hljs-string\">'post_id'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">constrained</span>()-&gt;<span class=\"hljs-title function_ invoke__\">onDelete</span>(<span class=\"hljs-string\">'cascade'</span>);\n        <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">foreignId</span>(<span class=\"hljs-string\">'user_id'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">constrained</span>()-&gt;<span class=\"hljs-title function_ invoke__\">onDelete</span>(<span class=\"hljs-string\">'cascade'</span>);\n        <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">unsignedBigInteger</span>(<span class=\"hljs-string\">'parent_id'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">nullable</span>()-&gt;<span class=\"hljs-keyword\">default</span>(<span class=\"hljs-literal\">null</span>);\n        <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">foreign</span>(<span class=\"hljs-string\">'parent_id'</span>)\n            -&gt;<span class=\"hljs-title function_ invoke__\">references</span>(<span class=\"hljs-string\">'id'</span>)\n            -&gt;<span class=\"hljs-title function_ invoke__\">on</span>(<span class=\"hljs-string\">'comments'</span>)\n            -&gt;<span class=\"hljs-title function_ invoke__\">onDelete</span>(<span class=\"hljs-string\">'cascade'</span>);\n        <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">timestamps</span>();\n    });\n}\n</code></pre>","children":[],"payload":{"lines":"2879,2898"}}],"payload":{"lines":"2877,2878","fold":1}},{"content":"Relations avec Comment","children":[{"content":"\n<p data-lines=\"2900,2901\">Model Post</p>","children":[],"payload":{"lines":"2900,2902"}},{"content":"\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Relations</span>\\{ <span class=\"hljs-title\">HasMany</span>, <span class=\"hljs-title\">BelongsTo</span>};\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Post</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    ...\n  \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">comments</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">HasMany</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">hasMany</span>(<span class=\"hljs-title class_\">Comment</span>::<span class=\"hljs-variable language_\">class</span>);\n    }\n  \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">validComments</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">HasMany</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">comments</span>()-&gt;<span class=\"hljs-title function_ invoke__\">whereHas</span>(<span class=\"hljs-string\">'user'</span>, function (<span class=\"hljs-variable\">$query</span>) {\n            <span class=\"hljs-variable\">$query</span>-&gt;<span class=\"hljs-title function_ invoke__\">whereValid</span>(<span class=\"hljs-literal\">true</span>);\n      });\n  }\n}\n</code></pre>","children":[],"payload":{"lines":"2902,2920"}},{"content":"\n<p data-lines=\"2920,2921\">Model User</p>","children":[],"payload":{"lines":"2920,2922"}},{"content":"\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">comments</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">HasMany</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">hasMany</span>(<span class=\"hljs-title class_\">Comment</span>::<span class=\"hljs-variable language_\">class</span>);\n}\n</code></pre>","children":[],"payload":{"lines":"2922,2928"}}],"payload":{"lines":"2898,2899","fold":1}},{"content":"Population Comment","children":[{"content":"\n<pre><code class=\"language-bash\">php artisan make:factory CommentFactory\n</code></pre>","children":[],"payload":{"lines":"2932,2936"}},{"content":"\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">definition</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">array</span> </span>{\n    <span class=\"hljs-keyword\">return</span> [\n        <span class=\"hljs-string\">'body'</span> =&gt; <span class=\"hljs-title function_ invoke__\">fake</span>()-&gt;<span class=\"hljs-title function_ invoke__\">paragraph</span>(<span class=\"hljs-number\">4</span>),\n    ];\n}\n</code></pre>","children":[],"payload":{"lines":"2936,2944"}},{"content":"\n<pre><code class=\"language-bash\">php artisan make:seeder CommentSeeder\n</code></pre>","children":[],"payload":{"lines":"2944,2948"}},{"content":"\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">Database</span>\\<span class=\"hljs-title class_\">Seeders</span>;\n\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\<span class=\"hljs-title\">Comment</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">CommentSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>) </span>{\n        <span class=\"hljs-variable\">$nbrPosts</span> = <span class=\"hljs-number\">9</span>;\n        <span class=\"hljs-variable\">$nbrUsers</span> = <span class=\"hljs-number\">3</span>;\n  \n        <span class=\"hljs-keyword\">foreach</span> (<span class=\"hljs-title function_ invoke__\">range</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-variable\">$nbrPosts</span> - <span class=\"hljs-number\">1</span>) <span class=\"hljs-keyword\">as</span> <span class=\"hljs-variable\">$i</span>) {\n            <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-variable\">$i</span>, <span class=\"hljs-title function_ invoke__\">rand</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-variable\">$nbrUsers</span>));\n        }\n  \n        <span class=\"hljs-variable\">$comment</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-variable\">$comment</span>-&gt;id);\n  \n        <span class=\"hljs-variable\">$comment</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">2</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-variable\">$comment</span>-&gt;id);\n  \n        <span class=\"hljs-variable\">$comment</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-variable\">$comment</span>-&gt;id);\n  \n        <span class=\"hljs-variable\">$comment</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-variable\">$comment</span>-&gt;id);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-variable\">$comment</span>-&gt;id);\n  \n        <span class=\"hljs-variable\">$comment</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">1</span>);\n  \n        <span class=\"hljs-variable\">$comment</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-variable\">$comment</span>-&gt;id);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-variable\">$comment</span>-&gt;id);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">createComment</span>(<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-variable\">$comment</span>-&gt;id);\n    }\n  \n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">createComment</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$post_id</span>, <span class=\"hljs-variable\">$user_id</span>, <span class=\"hljs-variable\">$id</span> = <span class=\"hljs-literal\">null</span></span>) </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Comment</span>::<span class=\"hljs-title function_ invoke__\">factory</span>()-&gt;<span class=\"hljs-title function_ invoke__\">create</span>([\n            <span class=\"hljs-string\">'post_id'</span> =&gt; <span class=\"hljs-variable\">$post_id</span>,\n            <span class=\"hljs-string\">'user_id'</span> =&gt; <span class=\"hljs-variable\">$user_id</span>,\n          <span class=\"hljs-string\">'parent_id'</span> =&gt; <span class=\"hljs-variable\">$id</span>,\n      ]);\n  }\n}\n</code></pre>","children":[],"payload":{"lines":"2948,2992"}},{"content":"\n<p data-lines=\"2992,2993\"><strong>DatabaseSeeder.php</strong> :</p>","children":[],"payload":{"lines":"2992,2994"}},{"content":"\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">call</span>([\n        ...\n        <span class=\"hljs-title class_\">CommentSeeder</span>::<span class=\"hljs-variable language_\">class</span>,\n    ]);\n}\n</code></pre>","children":[],"payload":{"lines":"2994,3003"}},{"content":"\n<pre><code class=\"language-bash\">php artisan migrate:fresh --seed\n</code></pre>","children":[],"payload":{"lines":"3003,3007"}}],"payload":{"lines":"2930,2931","fold":1}}],"payload":{"lines":"2832,2833","fold":1}},{"content":"Modifier dans PostRepository pour Comment","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getPostBySlug</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$slug</span></span>): <span class=\"hljs-title\">Post</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">with</span>(<span class=\"hljs-string\">'user:id,name'</span>, <span class=\"hljs-string\">'category'</span>)\n        -&gt;<span class=\"hljs-title function_ invoke__\">withCount</span>(<span class=\"hljs-string\">'validComments'</span>)\n        -&gt;<span class=\"hljs-title function_ invoke__\">whereSlug</span>(<span class=\"hljs-variable\">$slug</span>)-&gt;<span class=\"hljs-title function_ invoke__\">firstOrFail</span>();\n}\n</code></pre>","children":[]}],"payload":{"lines":"3007,3008","fold":1}},{"content":"Ajouter &amp; modifier dans posts.show pour Comment","children":[{"content":"\n<p data-lines=\"3019,3020\">Notons que le bouton pour voir le(s) commentaire(s) n'est pas encore opérationnel...</p>","children":[],"payload":{"lines":"3019,3021"}},{"content":"\n<pre><code class=\"language-html\">new class extends Component {\n    ...\n    public int $commentsCount;\n\n    public function mount($slug): void {\n        $postRepository = new PostRepository();\n        $this-&gt;post = $postRepository-&gt;getPostBySlug($slug);\n        $this-&gt;commentsCount = $this-&gt;post-&gt;valid_comments_count;\n    }\n}; ?&gt;\n   ...\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex justify-between\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>@lang('By ') {{ $post-&gt;user-&gt;name }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">em</span>&gt;</span>\n            @if ($commentsCount &gt; 0)\n                @lang('Number of comments: ') {{ $commentsCount }}\n            @else\n                @lang('No comments')\n            @endif\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">em</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"bottom\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"relative items-center w-full py-5 mx-auto md:px-12 max-w-7xl\"</span>&gt;</span>\n        @if ($commentsCount &gt; 0)\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex justify-center\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ $commentsCount &gt; 1 ? __('View comments') : __('View comment') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        @else\n            @auth\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">livewire:posts.commentBase</span> <span class=\"hljs-attr\">:postId</span>=<span class=\"hljs-string\">\"$post-&gt;id\"</span> /&gt;</span>\n            @endauth\n        @endif\n        @guest\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-center mt-8 italic\"</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ route('login') }}\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Click here to log in') }} !\"</span>&gt;</span>\n              {{ __('You must be logged in to comment') }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>.\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        @endguest\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"3021,3063"}},{"content":"\n<p data-lines=\"3063,3064\">Traductions Comment nécessaires dans posts.show :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Number of comments: \"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Nombre de commentaires : \"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"View comment\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Voir le commentaire\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"View comments\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Voir les commentaires\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"All comments\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Tous les commentaires\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"No comments\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Aucun commentaire\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"You must be logged in to comment\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Vous devez être connecté pour publier un commentaire\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Click here to log in\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Cliquez ici pour vous connecter\"</span>\n</code></pre>","children":[],"payload":{"lines":"3063,3075"}}],"payload":{"lines":"3017,3018","fold":1}},{"content":"Voir les commentaires dans posts.show","children":[{"content":"\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n...\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Collection</span>;\n\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n    ...\n    <span class=\"hljs-keyword\">public</span> Collection <span class=\"hljs-variable\">$comments</span>;\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">bool</span> <span class=\"hljs-variable\">$listComments</span> = <span class=\"hljs-literal\">false</span>;\n    ...\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">showComments</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n        <span class=\"hljs-variable language_\">$this</span>-&gt;listComments = <span class=\"hljs-literal\">true</span>;\n\n        <span class=\"hljs-variable language_\">$this</span>-&gt;comments = <span class=\"hljs-variable language_\">$this</span>-&gt;post\n            -&gt;<span class=\"hljs-title function_ invoke__\">validComments</span>()\n            -&gt;<span class=\"hljs-title function_ invoke__\">where</span>(<span class=\"hljs-string\">'parent_id'</span>, <span class=\"hljs-literal\">null</span>)\n            -&gt;<span class=\"hljs-title function_ invoke__\">withCount</span>([\n                <span class=\"hljs-string\">'children'</span> =&gt; function (<span class=\"hljs-variable\">$query</span>) {\n                    <span class=\"hljs-variable\">$query</span>-&gt;<span class=\"hljs-title function_ invoke__\">whereHas</span>(<span class=\"hljs-string\">'user'</span>, function (<span class=\"hljs-variable\">$q</span>) {\n                        <span class=\"hljs-variable\">$q</span>-&gt;<span class=\"hljs-title function_ invoke__\">where</span>(<span class=\"hljs-string\">'valid'</span>, <span class=\"hljs-literal\">true</span>);\n                    });\n                },\n            ])\n            -&gt;<span class=\"hljs-title function_ invoke__\">with</span>([\n                <span class=\"hljs-string\">'user'</span> =&gt; function (<span class=\"hljs-variable\">$query</span>) {\n                    <span class=\"hljs-variable\">$query</span>-&gt;<span class=\"hljs-title function_ invoke__\">select</span>(<span class=\"hljs-string\">'id'</span>, <span class=\"hljs-string\">'name'</span>, <span class=\"hljs-string\">'email'</span>, <span class=\"hljs-string\">'role'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">withCount</span>(<span class=\"hljs-string\">'comments'</span>);\n                },\n            ])\n            -&gt;<span class=\"hljs-title function_ invoke__\">latest</span>()\n            -&gt;<span class=\"hljs-title function_ invoke__\">get</span>();\n        <span class=\"hljs-title function_ invoke__\">dd</span> (<span class=\"hljs-variable\">$this</span>-&gt;comments); \n        <span class=\"hljs-comment\">// Commenter le dd() ci-dessus après avoir observé le bon contenu de $this-&gt;comments</span>\n        <span class=\"hljs-comment\">// Qui doit-être un truc style : </span>\n        <span class=\"hljs-comment\">//   Illuminate\\Database\\Eloquent\\Collection {#609 ▼ // resources\\views\\livewire\\posts\\show.blade.php:44</span>\n        <span class=\"hljs-comment\">//     #items: array:3 [▼</span>\n        <span class=\"hljs-comment\">//       0 =&gt; App\\Models\\Comment {#612 ▶}</span>\n        <span class=\"hljs-comment\">//       1 =&gt; App\\Models\\Comment {#606 ▶}</span>\n        <span class=\"hljs-comment\">//       2 =&gt; App\\Models\\Comment {#616 ▶}</span>\n        <span class=\"hljs-comment\">//     ]</span>\n        <span class=\"hljs-comment\">//     #escapeWhenCastingToString: false</span>\n        <span class=\"hljs-comment\">//   }</span>\n        <span class=\"hljs-comment\">// Supprimer ces lignes commentées après avoir observé ce résultat à partir de // Commenter...</span>\n    }\n}; <span class=\"hljs-meta\">?&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"3077,3123"}},{"content":"\n<p data-lines=\"3123,3124\">Modifier le bouton pour l'activer au click :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ $commentsCount &gt; 1 ? __('View comments') : __('View comment') }}\"</span>\n<span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"showComments\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n...\n</code></pre>","children":[],"payload":{"lines":"3123,3131"}}],"payload":{"lines":"3075,3076","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-commentaires-1-2\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-commentaires-1-2</a></strong></em>","children":[],"payload":{"lines":"3131,3132"}},{"content":"Le formulaire (Composant posts/comment-form)","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt posts/comment-form --class\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-html\">@if ($showForm)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ $formTitle }}\"</span> <span class=\"hljs-attr\">shadow</span>=<span class=\"hljs-string\">\"hidden\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"!p-0\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"{{ $formAction }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-4\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-textarea</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"message\"</span> <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Max 10000 chars') }}\"</span> <span class=\"hljs-attr\">rows</span>=<span class=\"hljs-string\">\"5\"</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Your message...') }}\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                @if ($formAction === 'updateComment')\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Cancel') }}\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"toggleModifyForm(false)\"</span>\n                        <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n                @endif\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n@else\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-4\"</span>&gt;</span>{!! $message !!}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n@endif\n</code></pre>","children":[]}],"payload":{"lines":"3133,3134","fold":1}},{"content":"Gravatar","children":[{"content":"Installer Gravatar","children":[{"content":"\n<pre><code class=\"language-bash\">composer require creativeorange/gravatar ~1.0\n</code></pre>","children":[],"payload":{"lines":"3162,3166"}},{"content":"\n<p data-lines=\"3166,3167\">Usage:</p>\n<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Gravatar</span>::<span class=\"hljs-title function_ invoke__\">get</span>(<span class=\"hljs-string\">'email@example.com'</span>);\n</code></pre>","children":[],"payload":{"lines":"3166,3172"}}],"payload":{"lines":"3160,3161"}},{"content":"<a href=\"https://gravatar.com\" title=\"Aller sur le site de Gravatar\" target=\"_blank\">Créer son Gravatar&lt;/a</a>","children":[],"payload":{"lines":"3172,3173"}}],"payload":{"lines":"3158,3159","fold":1}},{"content":"<a href=\"https://gravatar.com\" title=\"Aller sur le site de Gravatar\" target=\"_blank\">Réf.: <em><strong></strong></em></a><em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-commentaires-2-2\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-commentaires-2-2</a></strong></em>","children":[],"payload":{"lines":"3649,3650"}}],"payload":{"lines":"2830,2831","fold":1}},{"content":"- Le profil","children":[{"content":"Route du profil","children":[{"content":"\n<p data-lines=\"3655,3658\">Considérer que ce n'est que pour les <em>users</em> \"autorisés\"<br>\n→ <strong>Middleware('auth')</strong>) et comme il y aura d'autres routes<br>\npour \"eux\", en faire un <strong>group()</strong> :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/profile'</span>, <span class=\"hljs-string\">'auth.profile'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'profile'</span>);\n});\n</code></pre>","children":[],"payload":{"lines":"3655,3665"}}],"payload":{"lines":"3653,3654","fold":1}},{"content":"Liens dans les vues adhoc","children":[{"content":"\n<p data-lines=\"3667,3668\">- Pour les grands écrans, dans <strong>navigation.navbar</strong> :</p>\n<pre><code class=\"language-html\">@if ($user = auth()-&gt;user())\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-dropdown</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ $user-&gt;name }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Profile') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('profile') }}\"</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"3667,3678"}},{"content":"\n<p data-lines=\"3678,3679\">- Pour les plus petits, dans <strong>navigation.sidebar</strong> :</p>\n<pre><code class=\"language-html\">@if($user = auth()-&gt;user())\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-separator</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-list-item</span> <span class=\"hljs-attr\">:item</span>=<span class=\"hljs-string\">\"$user\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"name\"</span> <span class=\"hljs-attr\">sub-value</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">no-separator</span> <span class=\"hljs-attr\">no-hover</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"-mx-2 !-my-2 rounded\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-power\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"logout\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-circle btn-ghost btn-xs\"</span> <span class=\"hljs-attr\">tooltip-left</span>=<span class=\"hljs-string\">\"{{ __('Logout') }}\"</span> <span class=\"hljs-attr\">no-wire-navigate</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-list-item</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Profile') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-user\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('profile') }}\"</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"3678,3691"}}],"payload":{"lines":"3665,3666","fold":1}},{"content":"Composant Profile","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt auth/profile --class\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse App\\Models\\User;\nuse Mary\\Traits\\Toast;\nuse Illuminate\\Support\\Str;\nuse Livewire\\Volt\\Component;\nuse Livewire\\Attributes\\Layout;\nuse Illuminate\\Validation\\Rule;\nuse Illuminate\\Support\\Facades\\{Auth, Hash};\n\nnew #[Title('Profile')] #[Layout('components.layouts.auth')]\nclass extends Component {\n    use Toast;\n\n    public User $user;\n    public string $email = '';\n    public string $password = '';\n    public string $password_confirmation = '';\n\n    public function mount(): void {\n        $this-&gt;user = Auth::user();\n        $this-&gt;email = $this-&gt;user-&gt;email;\n    }\n\n    public function save(): void {\n        $data = $this-&gt;validate([\n            'email' =&gt; ['required', 'email', Rule::unique('users')-&gt;ignore($this-&gt;user-&gt;id)],\n            'password' =&gt; 'confirmed',\n        ]);\n\n        if (!empty($data['password'])) {\n            $data['password'] = Hash::make($data['password']);\n        }\n\n        $this-&gt;user-&gt;update($data);\n        $this-&gt;success(__('Profile updated with success.'), redirectTo: '/profile');\n    }\n\n    public function deleteAccount(): void {\n        $this-&gt;user-&gt;delete();\n        $this-&gt;success(__('Account deleted with success.'), redirectTo: '/');\n    }\n\n    public function generatePassword($length = 16): void {\n        $this-&gt;password = Str::random($length);\n        $this-&gt;password_confirmation = $this-&gt;password;\n    }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex items-center justify-center h-[96vh]\"</span>&gt;</span>\n\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"/\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Go to site') }}\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"items-center py-0\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Update profile') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span>\n                <span class=\"hljs-attr\">progress-indicator</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-avatar</span> <span class=\"hljs-attr\">:image</span>=<span class=\"hljs-string\">\"Gravatar::get($user-&gt;email)\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"!w-24\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:title</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pl-2 text-xl\"</span>&gt;</span>\n                    {{ $user-&gt;name }}\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:title</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:subtitle</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex flex-col gap-1 pl-2 mt-2 text-gray-500\"</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"o-hand-raised\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{!! __('Your name can\\'t be changed') !!}\"</span> /&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"https://fr.gravatar.com/\"</span> <span class=\"hljs-attr\">target</span>=<span class=\"hljs-string\">\"_blank\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\" {{ __('Go on Gravatar!') }} \"</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"c-user\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('You can change your profile picture on Gravatar') }}\"</span> /&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:subtitle</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-avatar</span>&gt;</span>\n\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('E-mail') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-envelope\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">hr</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Password') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-key\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Confirm Password') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"password_confirmation\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-key\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Generate a secure password') }}\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"generatePassword()\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"m-wrench\"</span>\n                <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline btn-sm\"</span> /&gt;</span>\n\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Cancel') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\" {{ __('Back to site') }} \"</span>/&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Delete account') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-hand-thumb-down\"</span>\n                    <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete your account?') }}\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"deleteAccount\"</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-warning\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"3691,3692","fold":1}},{"content":"Traductions pour Profile","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Update profile\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier le profil\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Your name can't be changed\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Votre nom ne peut pas être modifié\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"You can change your profile picture on Gravatar\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Vous pouvez changer votre image de profil sur Gravatar\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Go on Gravatar!\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Vous rendre sur Gravatar !\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Generate a secure password\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Créer un mot de passe sécurisé\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Profile updated with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Profil mis à jour avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Delete account\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Supprimer le compte\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Are you sure to delete your account?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir supprimer votre compte ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Profile\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Profil\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Go to site\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Allez sur le site\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Back to site\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Retourner sur le site\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"3788,3789","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-le-profil\">\" title=\"Voir les détails\" target=\"_blank\"&gt;https://laravel.sillo.org/posts/mon-cms-le-profil</a></strong></em>","children":[],"payload":{"lines":"3804,3805"}}],"payload":{"lines":"3651,3652","fold":1}},{"content":"- Les favoris","children":[{"content":"Fonctionnalité des Favoris","children":[{"content":"Migration Favoris","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:migration create_favorites_table\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">up</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'favorites'</span>, function (Blueprint <span class=\"hljs-variable\">$table</span>) {\n        <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n        <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">foreignId</span>(<span class=\"hljs-string\">'post_id'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">constrained</span>()-&gt;<span class=\"hljs-title function_ invoke__\">onDelete</span>(<span class=\"hljs-string\">'cascade'</span>);\n        <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">foreignId</span>(<span class=\"hljs-string\">'user_id'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">constrained</span>()-&gt;<span class=\"hljs-title function_ invoke__\">onDelete</span>(<span class=\"hljs-string\">'cascade'</span>);\n    });\n}\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-bash\">php artisan migrate\n</code></pre>","children":[]}],"payload":{"lines":"3810,3811","fold":1}},{"content":"Relation n:n (User &amp; Post)","children":[{"content":"\n<p data-lines=\"3832,3836\">À noter :<br>\nComme la convention de nommage de table pivot n'est pas respectée<br>\n(Devrait être 'posts_users' mais est 'favorites'), on doit<br>\npréciser ce nom dans les relations BelongsToMany</p>","children":[],"payload":{"lines":"3832,3837"}},{"content":"\n<p data-lines=\"3837,3838\">Models/<strong>User.php</strong> :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Relations</span>\\{ <span class=\"hljs-title\">HasMany</span>, <span class=\"hljs-title\">BelongsToMany</span> };\n...\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">favoritePosts</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">BelongsToMany</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">belongsToMany</span>(<span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-variable language_\">class</span>, <span class=\"hljs-string\">'favorites'</span>);\n}\n</code></pre>","children":[],"payload":{"lines":"3837,3847"}},{"content":"\n<p data-lines=\"3847,3848\">Models/<strong>Post.php</strong> :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Relations</span>\\{ <span class=\"hljs-title\">HasMany</span>, <span class=\"hljs-title\">BelongsTo</span>, <span class=\"hljs-title\">BelongsToMany</span> };\n...\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">favoritedByUsers</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">BelongsToMany</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">belongsToMany</span>(<span class=\"hljs-title class_\">User</span>::<span class=\"hljs-variable language_\">class</span>, <span class=\"hljs-string\">'favorites'</span>);\n}\n</code></pre>","children":[],"payload":{"lines":"3847,3857"}}],"payload":{"lines":"3830,3831","fold":1}},{"content":"PostRepository: getPostBySlug()","children":[{"content":"\n<p data-lines=\"3859,3860\">Vérifier en plus si l'user a mis le post en favori :</p>","children":[],"payload":{"lines":"3859,3861"}},{"content":"\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getPostBySlug</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$slug</span></span>): <span class=\"hljs-title\">Post</span> </span>{\n    <span class=\"hljs-variable\">$userId</span> = <span class=\"hljs-title function_ invoke__\">auth</span>()-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n  \n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">with</span>(<span class=\"hljs-string\">'user:id,name'</span>, <span class=\"hljs-string\">'category'</span>)\n        -&gt;<span class=\"hljs-title function_ invoke__\">withCount</span>(<span class=\"hljs-string\">'validComments'</span>)\n        -&gt;<span class=\"hljs-title function_ invoke__\">withExists</span>([\n            <span class=\"hljs-string\">'favoritedByUsers as is_favorited'</span> =&gt; function (<span class=\"hljs-variable\">$query</span>) <span class=\"hljs-keyword\">use</span> ($<span class=\"hljs-title\">userId</span>) {\n                $<span class=\"hljs-title\">query</span>-&gt;<span class=\"hljs-title\">where</span>('<span class=\"hljs-title\">user_id</span>', $<span class=\"hljs-title\">userId</span>);\n            },\n      ])\n      -&gt;<span class=\"hljs-title function_ invoke__\">where</span>(<span class=\"hljs-string\">'slug'</span>, <span class=\"hljs-variable\">$slug</span>)-&gt;<span class=\"hljs-title function_ invoke__\">firstOrFail</span>();\n}\n</code></pre>","children":[],"payload":{"lines":"3861,3876"}}],"payload":{"lines":"3857,3858","fold":1}},{"content":"Route Favoris","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/favorites'</span>, <span class=\"hljs-string\">'index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'posts.favorites'</span>);\n});\n</code></pre>","children":[]}],"payload":{"lines":"3876,3877","fold":1}},{"content":"Lien Favoris dans posts.show","children":[{"content":"\n<p data-lines=\"3887,3888\">On affiche l'icône étoile pour mettre en favoris ou retirer l'article des favoris :</p>","children":[],"payload":{"lines":"3887,3889"}},{"content":"\n<pre><code class=\"language-html\">public function favoritePost(): void {\n    $user = auth()-&gt;user();\n\n    if ($user) {\n        $user-&gt;favoritePosts()-&gt;attach($this-&gt;post-&gt;id);\n        $this-&gt;post-&gt;is_favorited = true;\n    }\n}\n\npublic function unfavoritePost(): void {\n    $user = auth()-&gt;user();\n\n    if ($user) {\n        $user-&gt;favoritePosts()-&gt;detach($this-&gt;post-&gt;id);\n        $this-&gt;post-&gt;is_favorited = false;\n    }\n}\n...\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"top\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex justify-end gap-4\"</span>&gt;</span>\n    @auth\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                @if ($post-&gt;is_favorited)\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-star\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"unfavoritePost\"</span> <span class=\"hljs-attr\">spinner</span>\n                        <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-yellow-500 btn-ghost btn-sm\"</span> /&gt;</span>\n                @else\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-star\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"favoritePost\"</span> <span class=\"hljs-attr\">spinner</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost btn-sm\"</span> /&gt;</span>\n                @endif\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                @if ($post-&gt;is_favorited)\n                    @lang('Remove from favorites')\n                @else\n                    @lang('Bookmark this post')\n                @endif\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n    @endauth\n    ...\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"3889,3932"}},{"content":"\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Bookmark this post\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Marquer cet article dans vos favoris\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Remove from favorites\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Supprimer de vos favoris\"</span>\n</code></pre>","children":[],"payload":{"lines":"3932,3937"}}],"payload":{"lines":"3885,3886","fold":1}},{"content":"PostRepository pour \"is_favorited\"","children":[{"content":"\n<p data-lines=\"3939,3940\">Si connecté, trouver ses articles favoris :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Facades</span>\\<span class=\"hljs-title\">DB</span>;\n...\n<span class=\"hljs-keyword\">protected</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getBaseQuery</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">Builder</span> </span>{\n ...\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">select</span>(<span class=\"hljs-string\">'id'</span>, <span class=\"hljs-string\">'slug'</span>, <span class=\"hljs-string\">'image'</span>, <span class=\"hljs-string\">'title'</span>, <span class=\"hljs-string\">'user_id'</span>, <span class=\"hljs-string\">'category_id'</span>, <span class=\"hljs-string\">'created_at'</span>, <span class=\"hljs-string\">'pinned'</span>)\n    ...\n    -&gt;<span class=\"hljs-title function_ invoke__\">when</span>(<span class=\"hljs-title function_ invoke__\">auth</span>()-&gt;<span class=\"hljs-title function_ invoke__\">check</span>(), function (<span class=\"hljs-variable\">$query</span>) {\n        <span class=\"hljs-variable\">$userId</span> = <span class=\"hljs-title function_ invoke__\">auth</span>()-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n        <span class=\"hljs-variable\">$query</span>-&gt;<span class=\"hljs-title function_ invoke__\">addSelect</span>([\n            <span class=\"hljs-string\">'is_favorited'</span> =&gt; DB::<span class=\"hljs-title function_ invoke__\">table</span>(<span class=\"hljs-string\">'favorites'</span>)\n                -&gt;<span class=\"hljs-title function_ invoke__\">selectRaw</span>(<span class=\"hljs-string\">'1'</span>)\n                -&gt;<span class=\"hljs-title function_ invoke__\">whereColumn</span>(<span class=\"hljs-string\">'post_id'</span>, <span class=\"hljs-string\">'posts.id'</span>)\n                -&gt;<span class=\"hljs-title function_ invoke__\">where</span>(<span class=\"hljs-string\">'user_id'</span>, <span class=\"hljs-variable\">$userId</span>)\n                -&gt;<span class=\"hljs-title function_ invoke__\">limit</span>(<span class=\"hljs-number\">1</span>)\n        ]);\n    });\n}\n</code></pre>","children":[],"payload":{"lines":"3939,3961"}}],"payload":{"lines":"3937,3938","fold":1}},{"content":"Page d'accueil (Homepage)","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:menu</span>&gt;</span>\n    @if ($post-&gt;pinned)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ __('Pinned') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"p-3 badge-warning\"</span> /&gt;</span>\n    @endif\n    @auth\n        @if ($post-&gt;is_favorited)\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"s-star\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"w-6 h-6 text-yellow-500 cursor-pointer\"</span> /&gt;</span>\n        @endif\n    @endauth\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:menu</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"3961,3962","fold":1}},{"content":"Logique &amp; lien des favoris","children":[{"content":"\n<p data-lines=\"3978,3979\">Ajout de getFavoritePosts() dans PostRepository</p>","children":[],"payload":{"lines":"3978,3980"}},{"content":"\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\{<span class=\"hljs-title\">Category</span>, <span class=\"hljs-title\">Post</span>, <span class=\"hljs-title\">User</span>};\n...\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getFavoritePosts</span>(<span class=\"hljs-params\">User <span class=\"hljs-variable\">$user</span></span>): <span class=\"hljs-title\">LengthAwarePaginator</span> </span>{\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getBaseQuery</span>()\n        -&gt;<span class=\"hljs-title function_ invoke__\">whereHas</span>(<span class=\"hljs-string\">'favoritedByUsers'</span>, function (Builder <span class=\"hljs-variable\">$query</span>) {\n            <span class=\"hljs-variable\">$query</span>-&gt;<span class=\"hljs-title function_ invoke__\">where</span>(<span class=\"hljs-string\">'user_id'</span>, <span class=\"hljs-title function_ invoke__\">auth</span>()-&gt;<span class=\"hljs-title function_ invoke__\">id</span>());\n        })\n        -&gt;<span class=\"hljs-title function_ invoke__\">latest</span>()\n      -&gt;<span class=\"hljs-title function_ invoke__\">paginate</span>(<span class=\"hljs-title function_ invoke__\">config</span>(<span class=\"hljs-string\">'app.pagination'</span>));\n}\n</code></pre>","children":[],"payload":{"lines":"3980,3994"}},{"content":"\n<p data-lines=\"3994,3995\">Ajout du bouton des favoris éventuels de l'user dans navigation/navbar :</p>\n<pre><code class=\"language-html\">        ...\n        @auth\n            @if ($user-&gt;favoritePosts()-&gt;exists())\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Your favorites posts') }}\"</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ route('posts.favorites') }}\"</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"s-star\"</span>\n                        <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"w-7 h-7\"</span> /&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n            @endif\n        @endauth\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-theme-toggle</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Toggle theme') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"w-4 h-8\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">livewire:search</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-nav</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"3994,4010"}}],"payload":{"lines":"3976,3977","fold":1}},{"content":"Afficher la page Favoris","children":[{"content":"\n<p data-lines=\"4012,4013\">Composant index :</p>","children":[],"payload":{"lines":"4012,4014"}},{"content":"\n<pre><code class=\"language-markdown\"><span class=\"hljs-bullet\">-</span> On défini une nouvelle propriété $favorites\n<span class=\"hljs-bullet\">-</span> mount() : On gère le cas où la requête est \"/favorites\" (On met la propriété favorites à true)\n<span class=\"hljs-bullet\">-</span> getPosts() : Si la propriété favorites est à true, on appelle getFavoritePosts(auth()-&gt;user()) \n<span class=\"hljs-bullet\">-</span> Pour le HTML, on adapte alors le titre de la page :\n</code></pre>","children":[],"payload":{"lines":"4014,4021"}},{"content":"\n<pre><code class=\"language-html\">public bool $favorites = false;\n\npublic function mount(string $slug = '', string $param = ''): void {\n    $this-&gt;param = $param;\n  \n    if (request()-&gt;is('category/*')) {\n        $this-&gt;category = $this-&gt;getCategoryBySlug($slug);\n    } elseif (request()-&gt;is('favorites')) {\n        $this-&gt;favorites = true;\n    }\n}\n...\npublic function getPosts(): LengthAwarePaginator {\n    ...\n    if ($this-&gt;favorites) {\n        return $postRepository-&gt;getFavoritePosts(auth()-&gt;user());\n    }     \n    return $postRepository-&gt;getPostsPaginate($this-&gt;category);\n}\n...\n@if ($category)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Posts for category ') }} {{ $category-&gt;title }}\"</span> <span class=\"hljs-attr\">size</span>=<span class=\"hljs-string\">\"text-2xl sm:text-3xl md:text-4xl\"</span> /&gt;</span>\n@elseif($param !== '')\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Posts for search ') }} '{{ $param }}'\"</span> <span class=\"hljs-attr\">size</span>=<span class=\"hljs-string\">\"text-2xl sm:text-3xl md:text-4xl\"</span> /&gt;</span>\n@elseif($favorites)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Your favorites posts') }}\"</span> <span class=\"hljs-attr\">size</span>=<span class=\"hljs-string\">\"text-2xl sm:text-3xl md:text-4xl\"</span> /&gt;</span>\n@endif\n</code></pre>","children":[],"payload":{"lines":"4021,4051"}},{"content":"\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Your favorites posts\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Vos articles favoris\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Toggle theme\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Basculer le thème\"</span><span class=\"hljs-punctuation\">,</span>\n</code></pre>","children":[],"payload":{"lines":"4051,4056"}}],"payload":{"lines":"4010,4011","fold":1}}],"payload":{"lines":"3808,3809","fold":1}},{"content":"Boutons pour scroller (Aller en bas et en haut)","children":[{"content":"\n<p data-lines=\"4058,4059\">resources/css/<strong>app.css</strong> :</p>\n<pre><code class=\"language-css\"><span class=\"hljs-selector-tag\">html</span> {\n    scroll-behavior: smooth;\n}\n</code></pre>","children":[],"payload":{"lines":"4058,4066"}},{"content":"\n<p data-lines=\"4066,4067\">posts.show :</p>\n<pre><code class=\"language-html\">  ...\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"top\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex justify-end gap-4\"</span>&gt;</span>\n\n      .... (Nouveau x-popover :)\n\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"#bottom\"</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"c-arrow-long-down\"</span> /&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n              @lang('To bottom')\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n  ... (Nouveau div :)\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"bottom\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"relative flex justify-end w-full py-5 mx-auto md:px-12 max-w-7xl\"</span>&gt;</span>\n      ...\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"#top\"</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"c-arrow-long-up\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n              @lang('To up')\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"4066,4102"}},{"content":"\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"To up\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Vers le haut\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"To bottom\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Vers le bas\"</span>\n</code></pre>","children":[],"payload":{"lines":"4102,4107"}}],"payload":{"lines":"4056,4057","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-favoris\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-favoris</a></strong></em>","children":[],"payload":{"lines":"4107,4108"}}],"payload":{"lines":"3806,3807","fold":1}},{"content":"&nbsp;<strong>II &nbsp;/ &nbsp; B A C K &nbsp;- &nbsp;O F F I C E &nbsp;:</strong>","children":[],"payload":{"lines":"4109,4110"}},{"content":"- L'administration","children":[{"content":"Gestion des rôles","children":[{"content":"Model User : Admin ou Redac","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">isAdmin</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">bool</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">'admin'</span> === <span class=\"hljs-variable language_\">$this</span>-&gt;role;\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">isRedac</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">bool</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">'redac'</span> === <span class=\"hljs-variable language_\">$this</span>-&gt;role;\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">isAdminOrRedac</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">bool</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">'admin'</span> === <span class=\"hljs-variable language_\">$this</span>-&gt;role || <span class=\"hljs-string\">'redac'</span> === <span class=\"hljs-variable language_\">$this</span>-&gt;role;\n}\n</code></pre>","children":[]}],"payload":{"lines":"4115,4116","fold":1}},{"content":"Middlewares","children":[{"content":"<strong>admin</strong>","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:middleware IsAdmin\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">handle</span>(<span class=\"hljs-params\">Request <span class=\"hljs-variable\">$request</span>, <span class=\"hljs-built_in\">Closure</span> <span class=\"hljs-variable\">$next</span></span>): <span class=\"hljs-title\">Response</span> </span>{\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_ invoke__\">auth</span>()-&gt;<span class=\"hljs-title function_ invoke__\">user</span>()-&gt;<span class=\"hljs-title function_ invoke__\">isAdmin</span>()) {\n        <span class=\"hljs-title function_ invoke__\">abort</span>(<span class=\"hljs-number\">403</span>);\n    }\n  \n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$next</span>(<span class=\"hljs-variable\">$request</span>);\n}\n</code></pre>","children":[]}],"payload":{"lines":"4133,4134"}},{"content":"<strong>adminOrRedac</strong>","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:middleware IsAdminOrRedac\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">handle</span>(<span class=\"hljs-params\">Request <span class=\"hljs-variable\">$request</span>, <span class=\"hljs-built_in\">Closure</span> <span class=\"hljs-variable\">$next</span></span>): <span class=\"hljs-title\">Response</span> </span>{\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_ invoke__\">auth</span>()-&gt;<span class=\"hljs-title function_ invoke__\">user</span>()-&gt;<span class=\"hljs-title function_ invoke__\">isAdmin</span>() &amp;&amp; !<span class=\"hljs-title function_ invoke__\">auth</span>()-&gt;<span class=\"hljs-title function_ invoke__\">user</span>()-&gt;<span class=\"hljs-title function_ invoke__\">isRedac</span>()) {\n        <span class=\"hljs-title function_ invoke__\">abort</span>(<span class=\"hljs-number\">403</span>);\n    }\n  \n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$next</span>(<span class=\"hljs-variable\">$request</span>);\n}\n</code></pre>","children":[]}],"payload":{"lines":"4149,4150"}}],"payload":{"lines":"4131,4132","fold":1}}],"payload":{"lines":"4113,4114"}},{"content":"Tableau de Bord","children":[{"content":"Route","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Http</span>\\<span class=\"hljs-title\">Middleware</span>\\<span class=\"hljs-title\">IsAdminOrRedac</span>;\n...\n<span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdminOrRedac</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">prefix</span>(<span class=\"hljs-string\">'admin'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n        <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/'</span>, <span class=\"hljs-string\">'admin.index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'admin.root'</span>);        \n        <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/dashboard'</span>, <span class=\"hljs-string\">'admin.index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'admin'</span>);\n\n    });\n});\n</code></pre>","children":[]}],"payload":{"lines":"4167,4168","fold":1}},{"content":"SideBar","children":[{"content":"Création Sidebar de l'admin","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/sidebar --class\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Livewire\\Volt\\Component;\nuse Illuminate\\Support\\Facades\\{Auth, Session};\n\nnew class() extends Component {\n  public function logout(): void {\n    Auth::guard('web')-&gt;logout();\n  \n    Session::invalidate();\n    Session::regenerateToken();\n  \n    $this-&gt;redirect('/');\n  }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu</span> <span class=\"hljs-attr\">activate-by-route</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-separator</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-list-item</span> <span class=\"hljs-attr\">:item</span>=<span class=\"hljs-string\">\"Auth::user()\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"name\"</span> <span class=\"hljs-attr\">sub-value</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">no-separator</span> <span class=\"hljs-attr\">no-hover</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"-mx-2 !-my-2 rounded\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-power\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"logout\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-circle btn-ghost btn-xs\"</span>\n                    <span class=\"hljs-attr\">tooltip-left</span>=<span class=\"hljs-string\">\"{{ __('Logout') }}\"</span> <span class=\"hljs-attr\">no-wire-navigate</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-list-item</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-separator</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>      \n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"m-arrow-right-end-on-rectangle\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Go to site') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-theme-toggle</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu-item</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"4184,4185"}}],"payload":{"lines":"4182,4183","fold":1}},{"content":"Layout","children":[{"content":"\n<p data-lines=\"4227,4228\">Créer views/layouts/admin.blade.php :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">\"{{ str_replace('_', '-', app()-&gt;getLocale()) }}\"</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">\"utf-8\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"viewport\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"csrf-token\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"{{ csrf_token() }}\"</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>\n      {{ (isset($title) ? $title . ' | ' : (View::hasSection('title') ? View::getSection('title') . ' | ' : '')) . config('app.name') }}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span>\n\n    @vite(['resources/css/app.css', 'resources/js/app.js'])\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"min-h-screen font-sans antialiased bg-base-200/50 dark:bg-base-200\"</span>&gt;</span>\n\n    {{-- MAIN --}}\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-main</span> <span class=\"hljs-attr\">full-width</span>&gt;</span>\n\n        {{-- SIDEBAR --}}\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:sidebar</span> <span class=\"hljs-attr\">drawer</span>=<span class=\"hljs-string\">\"main-drawer\"</span> <span class=\"hljs-attr\">collapsible</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"bg-base-100\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">livewire:admin.sidebar</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:sidebar</span>&gt;</span>\n\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n            <span class=\"hljs-comment\">&lt;!-- Drawer toggle for \"main-drawer\" --&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span> <span class=\"hljs-attr\">for</span>=<span class=\"hljs-string\">\"main-drawer\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mr-3 lg:hidden\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"o-bars-3\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"cursor-pointer\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span>\n            {{ $slot }}\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-main</span>&gt;</span>\n\n    {{--  TOAST area --}}\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-toast</span> /&gt;</span>\n\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">html</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"4227,4273"}}],"payload":{"lines":"4225,4226","fold":1}},{"content":"Composant","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/index --class\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse Livewire\\Volt\\Component;\nuse Illuminate\\Support\\Facades\\Auth;\nuse Livewire\\Attributes\\{Layout, Title};\nuse Illuminate\\Database\\Eloquent\\Builder;\nuse App\\Models\\{Comment, Page, Post, User};\n\nnew #[Title('Dashboard')] #[Layout('components.layouts.admin')] class extends Component {\n    use Toast;\n  \n    public array $headersPosts;\n    public bool $openGlance = true;\n  \n    public function mount(): void {\n        $this-&gt;headersPosts = [['key' =&gt; 'date', 'label' =&gt; __('Date')], ['key' =&gt; 'title', 'label' =&gt; __('Title')]];\n    }\n  \n    public function deleteComment(Comment $comment): void {\n        $comment-&gt;delete();\n  \n        $this-&gt;warning('Comment deleted', __('Good bye!'), position: 'toast-bottom');\n    }\n  \n    public function with(): array {\n        $user    = Auth::user();\n        $isRedac = $user-&gt;isRedac();\n        $userId  = $user-&gt;id;\n  \n        return [\n            'pages'          =&gt; Page::select('id', 'title', 'slug')-&gt;get(),\n            'posts'          =&gt; Post::select('id', 'title', 'slug', 'user_id', 'created_at', 'updated_at')-&gt;when($isRedac, fn (Builder $q) =&gt; $q-&gt;where('user_id', $userId))-&gt;latest()-&gt;get(),\n            'commentsNumber' =&gt; Comment::when($isRedac, fn (Builder $q) =&gt; $q-&gt;whereRelation('post', 'user_id', $userId))-&gt;count(),\n            'comments'       =&gt; Comment::with('user', 'post:id,title,slug')-&gt;when($isRedac, fn (Builder $q) =&gt; $q-&gt;whereRelation('post', 'user_id', $userId))-&gt;latest()-&gt;take(5)-&gt;get(),\n            'users'          =&gt; User::count(),\n        ];\n    }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"openGlance\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-md\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n            @lang('In a glance')\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex flex-wrap gap-4\"</span>&gt;</span>\n\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"#\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex-grow\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-stat</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Posts') }}\"</span> <span class=\"hljs-attr\">description</span>=<span class=\"hljs-string\">\"\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $posts-&gt;count() }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document-text\"</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-hover\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n\n            @if (Auth::user()-&gt;isAdmin())\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"#\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex-grow\"</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-stat</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Pages') }}\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $pages-&gt;count() }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document\"</span>\n                        <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-hover\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"#\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex-grow\"</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-stat</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Users') }}\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $users }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-user\"</span>\n                        <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-hover\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n            @endif\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"#\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex-grow\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-stat</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Comments') }}\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $commentsNumber }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-chat-bubble-left\"</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-hover\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n\n    @foreach ($comments as $comment)\n        @if (!$comment-&gt;user-&gt;valid)\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-alert</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{!! __('Comment to valid from ') . $comment-&gt;user-&gt;name !!}\"</span> <span class=\"hljs-attr\">description</span>=<span class=\"hljs-string\">\"{!! $comment-&gt;body !!}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-chat-bubble-left\"</span>\n                <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-md alert-warning\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"#\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{!! __('Show the comments') !!}\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-alert</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n        @endif\n    @endforeach\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-md\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n            @lang('Recent posts')\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-table</span> <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">\"$headersPosts\"</span> <span class=\"hljs-attr\">:rows</span>=<span class=\"hljs-string\">\"$posts-&gt;take(5)\"</span> <span class=\"hljs-attr\">striped</span>&gt;</span>\n                @scope('cell_date', $post)\n                    @lang('Created') {{ $post-&gt;created_at-&gt;diffForHumans() }}\n                    @if ($post-&gt;updated_at != $post-&gt;created_at)\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n                        @lang('Updated') {{ $post-&gt;updated_at-&gt;diffForHumans() }}\n                    @endif\n                @endscope\n                @scope('actions', $post)\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document-text\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('posts.show', $post-&gt;slug) }}\"</span> <span class=\"hljs-attr\">spinner</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost btn-sm\"</span> /&gt;</span>                          \n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                            @lang('Show post')\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                @endscope\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-table</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-md\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n            @lang('Recent Comments')\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n            @foreach ($comments as $comment)\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-list-item</span> <span class=\"hljs-attr\">:item</span>=<span class=\"hljs-string\">\"$comment\"</span> <span class=\"hljs-attr\">no-separator</span> <span class=\"hljs-attr\">no-hover</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:avatar</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-avatar</span> <span class=\"hljs-attr\">:image</span>=<span class=\"hljs-string\">\"Gravatar::get($comment-&gt;user-&gt;email)\"</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:title</span>&gt;</span>\n                                {{ $comment-&gt;user-&gt;name }}\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:title</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-avatar</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:avatar</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:value</span>&gt;</span>\n                        @lang ('in post:') {{ $comment-&gt;post-&gt;title }}\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:value</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-eye\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"#\"</span> <span class=\"hljs-attr\">spinner</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost btn-sm\"</span> /&gt;</span>                       \n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                                @lang('Edit or answer')\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document-text\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('posts.show', $comment-&gt;post-&gt;slug) }}\"</span> <span class=\"hljs-attr\">spinner</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost btn-sm\"</span> /&gt;</span>                     \n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                                @lang('Show post')\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-trash\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"deleteComment({{ $comment-&gt;id }})\"</span>\n                                    <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete this comment?') }}\"</span> \n                                    <span class=\"hljs-attr\">spinner</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>                 \n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                                @lang('Delete')\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-list-item</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"ml-16\"</span>&gt;</span>{!! Str::words(nl2br($comment-&gt;body), 20, ' ...') !!}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n            @endforeach\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"4273,4274","fold":1}},{"content":"Traductions Dashboard","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"In a glance\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"En un coup d'oeil\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Recent posts\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Articles récents\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Show post\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Afficher l'article\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"in post:\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"dans l'article :\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Users\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Utilisateurs\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Dashboard\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Tableau de bord\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Edit or answer\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier ou répondre\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Posts\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Articles\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Recent Comments\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Commentaires récents\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Comment to valid from \"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Commentaire à valider de \"</span>\n</code></pre>","children":[]}],"payload":{"lines":"4445,4446","fold":1}},{"content":"Style Valeurs dans les pavés du <em>Dashboard</em>","children":[{"content":"<pre><code class=\"language-css\"><span class=\"hljs-selector-class\">.shadow-hover</span> {\n    <span class=\"hljs-keyword\">@apply</span> transition duration-<span class=\"hljs-number\">500</span> ease-in-out shadow shadow-gray-<span class=\"hljs-number\">500</span>\n    <span class=\"hljs-attribute\">hover</span>:shadow-md <span class=\"hljs-attribute\">hover</span>:shadow-gray-<span class=\"hljs-number\">500</span> <span class=\"hljs-attribute\">hover</span>:text-orange-<span class=\"hljs-number\">500</span>;\n}\n</code></pre>","children":[]}],"payload":{"lines":"4460,4461","fold":1}},{"content":"Lien dans les menus","children":[{"content":"Dans navigation.navbar","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"hidden sm:block\"</span>&gt;</span>\n        ...\n        @if ($user = auth()-&gt;user())\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-dropdown</span>&gt;</span>\n                ...User name\n                @if ($user-&gt;isAdminOrRedac())\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Administration') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n                @endif\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-separator</span> /&gt;</span>\n                ... Profile\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-separator</span> /&gt;</span>\n                ... Logout\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-dropdown</span>&gt;</span>\n        @else ...\n</code></pre>","children":[]}],"payload":{"lines":"4471,4472"}},{"content":"Dans navigation.sidebar","children":[{"content":"<pre><code class=\"language-html\">    ... Logout\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-list-item</span>&gt;</span>\n    @if ($user-&gt;isAdminOrRedac())\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Administration') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n    @endif\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-separator</span> /&gt;</span>\n    ... Profile\n</code></pre>","children":[]}],"payload":{"lines":"4491,4492"}}],"payload":{"lines":"4469,4470","fold":1}},{"content":"Redac &amp; Admin: Redirection lors du login","children":[{"content":"\n<p data-lines=\"4505,4506\">Composant auth.login :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">login</span>(<span class=\"hljs-params\"></span>) </span>{\n    ...\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_ invoke__\">auth</span>()-&gt;<span class=\"hljs-title function_ invoke__\">user</span>()-&gt;<span class=\"hljs-title function_ invoke__\">isAdmin</span>()) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">redirect</span>()-&gt;<span class=\"hljs-title function_ invoke__\">intended</span>(<span class=\"hljs-string\">'/admin/dashboard'</span>);\n    }\n    ... <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">redirectIntended</span>()...\n}\n</code></pre>","children":[],"payload":{"lines":"4505,4517"}}],"payload":{"lines":"4503,4504","fold":1}}],"payload":{"lines":"4165,4166"}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-ladministration\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-ladministration</a></strong></em>","children":[],"payload":{"lines":"4517,4518"}}],"payload":{"lines":"4111,4112","fold":1}},{"content":"- Les Articles","children":[{"content":"Tableau des articles","children":[{"content":"Route Articles","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdminOrRedac</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">prefix</span>(<span class=\"hljs-string\">'admin'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n        ...\n        <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/posts/index'</span>, <span class=\"hljs-string\">'admin.posts.index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'posts.index'</span>);\n  });\n});\n</code></pre>","children":[]}],"payload":{"lines":"4523,4524","fold":1}},{"content":"Navigation Articles","children":[{"content":"\n<p data-lines=\"4537,4538\">Lien des articles dans dashboard (Pavé 'En un coup d'oeil') :</p>\n<pre><code class=\"language-html\">... admin.index, pavé Posts\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ route('posts.index') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex-grow\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('All posts') }}\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-stat</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Posts') }}\"</span> <span class=\"hljs-attr\">description</span>=<span class=\"hljs-string\">\"\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $posts-&gt;count() }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document-text\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-hover\"</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"4537,4546"}},{"content":"\n<p data-lines=\"4546,4547\">Lien des articles dans admin/sidebar :</p>\n<pre><code class=\"language-html\">... Lien Dashboard\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-sub</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Posts') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document-text\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('All posts') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('posts.index') }}\"</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu-sub</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"4546,4555"}},{"content":"\n<p data-lines=\"4555,4556\">lang/<strong>fr.json</strong> :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"All posts\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Tous les articles\"</span><span class=\"hljs-punctuation\">,</span>\n</code></pre>","children":[],"payload":{"lines":"4555,4561"}}],"payload":{"lines":"4535,4536","fold":1}},{"content":"Composant Articles","children":[{"content":"CLI","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/posts/index --class\n</code></pre>","children":[]}],"payload":{"lines":"4563,4564"}},{"content":"Code admin.posts.index","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse Livewire\\Volt\\Component;\nuse Livewire\\WithPagination;\nuse Livewire\\Attributes\\Layout;\nuse App\\Models\\{Post, Category};\nuse Illuminate\\Support\\Facades\\Auth;\nuse App\\Repositories\\PostRepository;\nuse Illuminate\\Pagination\\LengthAwarePaginator;\nuse Illuminate\\Database\\Eloquent\\{Builder, Collection};\n\nnew \n#[Layout('components.layouts.admin')]\nclass extends Component {\n    use Toast, WithPagination;\n\n    public string $search = '';\n    public Collection $categories;\n    public $category_id = 0;\n    public array $sortBy  = ['column' =&gt; 'created_at', 'direction' =&gt; 'desc'];\n\n    public function mount(): void {\n        $this-&gt;categories = $this-&gt;getCategories();\n    }\n\n    public function getCategories(): Collection {\n        if (Auth::user()-&gt;isAdmin()) {\n            return Category::all();\n        }\n\n        return Category::whereHas('posts', fn (Builder $q) =&gt; $q-&gt;where('user_id', Auth::id()))-&gt;get();\n        }\n      \n    public function headers(): array {\n        $headers = [\n            ['key' =&gt; 'title', 'label' =&gt; __('Title')],\n        ];\n  \n        if (Auth::user()-&gt;isAdmin()) {\n            $headers = array_merge($headers, [['key' =&gt; 'user_name', 'label' =&gt; __('Author')]]);\n        }\n  \n        return array_merge($headers, [\n            ['key' =&gt; 'category_title', 'label' =&gt; __('Category')],\n            ['key' =&gt; 'comments_count', 'label' =&gt; __('')],\n            ['key' =&gt; 'active', 'label' =&gt; __('Published')],\n            ['key' =&gt; 'date', 'label' =&gt; __('Date')],\n      ]);\n      }\n\n    public function posts(): LengthAwarePaginator {\n        return Post::query()\n            -&gt;select('id', 'title', 'slug', 'category_id', 'active', 'user_id', 'created_at', 'updated_at')\n            -&gt;when(Auth::user()-&gt;isAdmin(), fn (Builder $q) =&gt; $q-&gt;withAggregate('user', 'name'))\n            -&gt;when(!Auth::user()-&gt;isAdmin(), fn (Builder $q) =&gt; $q-&gt;where('user_id', Auth::id()))\n            -&gt;withAggregate('category', 'title')\n            -&gt;withcount('comments')\n            -&gt;when($this-&gt;search, fn (Builder $q) =&gt; $q-&gt;where('title', 'like', \"%{$this-&gt;search}%\"))\n            -&gt;when($this-&gt;category_id, fn (Builder $q) =&gt; $q-&gt;where('category_id', $this-&gt;category_id))\n            -&gt;when('date' === $this-&gt;sortBy['column'], fn (Builder $q) =&gt; $q-&gt;orderBy('created_at', $this-&gt;sortBy['direction']), fn (Builder $q) =&gt; $q-&gt;orderBy($this-&gt;sortBy['column'], $this-&gt;sortBy['direction']))\n            -&gt;latest()\n            -&gt;paginate(6);\n    }\n\n    public function deletePost(int $postId): void {\n        $post = Post::findOrFail($postId);\n        $post-&gt;delete();\n        $this-&gt;success(\"{$post-&gt;title} \" . __('deleted'));\n    }\n\n    public function clonePost(int $postId): void {\n        $originalPost       = Post::findOrFail($postId);\n        $clonedPost         = $originalPost-&gt;replicate();\n        $postRepository     = new PostRepository();\n        $clonedPost-&gt;slug   = $postRepository-&gt;generateUniqueSlug($originalPost-&gt;slug);\n        $clonedPost-&gt;active = false;\n        $clonedPost-&gt;save();\n  \n        // Ici on redirigera vers le formulaire de modification de l'article cloné\n    }\n      \n    public function with(): array {\n        return [\n            'headers' =&gt; $this-&gt;headers(),\n            'posts'   =&gt; $this-&gt;posts(),\n        ];\n    }\n}; ?&gt;</span>\n\n@section('title', __('Posts'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:title</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"/\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Go to site') }}\"</span>&gt;</span>{{ __('Posts') }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:title</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Search...') }}\"</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"search\"</span> <span class=\"hljs-attr\">clearable</span>\n              <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-magnifying-glass\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Add a post') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline lg:hidden\"</span>\n              <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('posts.create') }}\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline lg:hidden\"</span>\n              <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>@lang(__('Filters'))<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-select</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Category') }}\"</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$categories\"</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Select a category') }}\"</span>\n                <span class=\"hljs-attr\">option-label</span>=<span class=\"hljs-string\">\"title\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"category_id\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n  \n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n\n    @if ($posts-&gt;count() &gt; 0)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-table</span> <span class=\"hljs-attr\">striped</span> <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">\"$headers\"</span> <span class=\"hljs-attr\">:rows</span>=<span class=\"hljs-string\">\"$posts\"</span> <span class=\"hljs-attr\">:sort-by</span>=<span class=\"hljs-string\">\"$sortBy\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"#\"</span> <span class=\"hljs-attr\">with-pagination</span>&gt;</span>\n\n                @scope('header_comments_count', $header)\n                    {{ $header['label'] }}\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"c-chat-bubble-left\"</span> /&gt;</span>\n                @endscope\n\n                @scope('cell_comments_count', $post)\n                    @if ($post-&gt;comments_count &gt; 0)\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $post-&gt;comments_count }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"badge-primary\"</span> /&gt;</span>\n                    @endif\n                @endscope\n\n                @scope('cell_active', $post)\n                    @if ($post-&gt;active)\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"o-check-circle\"</span> /&gt;</span>\n                    @endif\n                @endscope\n\n                @scope('cell_date', $post)\n                    @lang('Created') {{ $post-&gt;created_at-&gt;diffForHumans() }}\n                    @if ($post-&gt;updated_at != $post-&gt;created_at)\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n                        @lang('Updated') {{ $post-&gt;updated_at-&gt;diffForHumans() }}\n                    @endif\n                @endscope\n\n                @scope('actions', $post)\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex\"</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex\"</span>&gt;</span>\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-finger-print\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"clonePost({{ $post-&gt;id }})\"</span> <span class=\"hljs-attr\">spinner</span>\n                                        <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost btn-sm\"</span> /&gt;</span>\n                                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                                    @lang('Clone')\n                                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-trash\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"deletePost({{ $post-&gt;id }})\"</span>\n                                    <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete this post?') }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>@lang('Delete')<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n                @endscope\n\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-table</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n    @endif\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"4570,4571","fold":1}},{"content":"Dans PostRepository","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">generateUniqueSlug</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$slug</span></span>): <span class=\"hljs-title\">string</span> </span>{\n    <span class=\"hljs-variable\">$newSlug</span> = <span class=\"hljs-variable\">$slug</span>;\n    <span class=\"hljs-variable\">$counter</span> = <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">where</span>(<span class=\"hljs-string\">'slug'</span>, <span class=\"hljs-variable\">$newSlug</span>)-&gt;<span class=\"hljs-title function_ invoke__\">exists</span>()) {\n        <span class=\"hljs-variable\">$newSlug</span> = <span class=\"hljs-variable\">$slug</span> . <span class=\"hljs-string\">'-'</span> . <span class=\"hljs-variable\">$counter</span>;\n        ++<span class=\"hljs-variable\">$counter</span>;\n  }\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$newSlug</span>;\n}\n</code></pre>","children":[]}],"payload":{"lines":"4744,4745","fold":1}},{"content":"Traductions admin posts list","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Titre\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Author\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Auteur\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Updated\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Mis à jour\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Category\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Catégorie\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Published\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Publié\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Add a post\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Ajouter un article\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Are you sure to delete this post?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir supprimer cet article ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"deleted\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"supprimé\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Clone\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Dupliquer\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Filters\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Filtres\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"4758,4759","fold":1}}],"payload":{"lines":"4561,4562","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-tableau-des-articles\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-tableau-des-articles</a></strong></em>","children":[],"payload":{"lines":"4773,4774"}}],"payload":{"lines":"4521,4522","fold":1}},{"content":"Créer un article","children":[{"content":"Route admin/posts/create","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdminOrRedac</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">prefix</span>(<span class=\"hljs-string\">'admin'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n        ...\n        <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/posts/create'</span>, <span class=\"hljs-string\">'admin.posts.create'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'posts.create'</span>);\n  });\n});\n</code></pre>","children":[]}],"payload":{"lines":"4777,4778","fold":1}},{"content":"Menu (admin.sidebar)","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-sub</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Posts') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document-text\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('All posts') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('posts.index') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Add a post') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('posts.create') }}\"</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu-sub</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"4789,4790","fold":1}},{"content":"Composant (Formulaire)","children":[{"content":"CLI admin.posts.create","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/posts/create --class\n</code></pre>","children":[]}],"payload":{"lines":"4800,4801","fold":1}},{"content":"Code Création article","children":[{"content":"Base du code","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse App\\Models\\Category;\nuse Livewire\\Volt\\Component;\nuse Livewire\\Attributes\\Layout;\n\nnew #[Layout('components.layouts.admin')] \nclass extends Component {\n    public function with(): array {\n      return [\n        'categories' =&gt; Category::orderBy('title')-&gt;get(),\n    ];}\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Add a post') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline lg:hidden\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-select</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Category') }}\"</span> <span class=\"hljs-attr\">option-label</span>=<span class=\"hljs-string\">\"title\"</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$categories\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"category_id\"</span>\n                <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex gap-6\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-checkbox</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Published') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"active\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-checkbox</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Pinned') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"pinned\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"title\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span>\n                <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Enter the title') }}\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"slug\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Slug') }}\"</span> /&gt;</span>\n            {{-- <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-editor</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"body\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Content') }}\"</span> <span class=\"hljs-attr\">:config</span>=<span class=\"hljs-string\">\"config('tinymce.config')\"</span>\n                <span class=\"hljs-attr\">folder</span>=<span class=\"hljs-string\">\"{{ 'photos/' . now()-&gt;format('Y/m') }}\"</span> /&gt;</span> --}}\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('SEO') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"seo_title\"</span> <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Max 70 chars') }}\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-textarea</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('META Description') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"meta_description\"</span>\n                    <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Max 160 chars') }}\"</span> <span class=\"hljs-attr\">rows</span>=<span class=\"hljs-string\">\"2\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-textarea</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('META Keywords') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"meta_keywords\"</span>\n                    <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Keywords separated by comma') }}\"</span> <span class=\"hljs-attr\">rows</span>=<span class=\"hljs-string\">\"1\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"4808,4809","fold":1}},{"content":"Propriétés - Validation","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Attributes</span>\\{<span class=\"hljs-title\">Layout</span>, <span class=\"hljs-title\">Validate</span>};\n...\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$category_id</span>;\n\n<span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required|string|max:16777215'</span>)<span class=\"hljs-meta\">]</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$body</span> = <span class=\"hljs-string\">''</span>;\n\n<span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required|string|max:255'</span>)<span class=\"hljs-meta\">]</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$title</span> = <span class=\"hljs-string\">''</span>;\n\n<span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required|max:255|unique:posts,slug|regex:/^[a-z0-9]+(?:-[a-z0-9]+)*$/'</span>)<span class=\"hljs-meta\">]</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$slug</span> = <span class=\"hljs-string\">''</span>;\n\n<span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required'</span>)<span class=\"hljs-meta\">]</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">bool</span> <span class=\"hljs-variable\">$active</span> = <span class=\"hljs-literal\">false</span>;\n\n<span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required'</span>)<span class=\"hljs-meta\">]</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">bool</span> <span class=\"hljs-variable\">$pinned</span> = <span class=\"hljs-literal\">false</span>;\n\n<span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required|max:70'</span>)<span class=\"hljs-meta\">]</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$seo_title</span> = <span class=\"hljs-string\">''</span>;\n\n<span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required|max:160'</span>)<span class=\"hljs-meta\">]</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$meta_description</span> = <span class=\"hljs-string\">''</span>;\n\n<span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required|regex:/^[A-Za-z0-9-éèàù]{1,50}?(,[A-Za-z0-9-éèàù]{1,50})*$/'</span>)<span class=\"hljs-meta\">]</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$meta_keywords</span> = <span class=\"hljs-string\">''</span>;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable\">$category</span>          = <span class=\"hljs-title class_\">Category</span>::<span class=\"hljs-title function_ invoke__\">first</span>();\n    <span class=\"hljs-variable language_\">$this</span>-&gt;category_id = <span class=\"hljs-variable\">$category</span>-&gt;id;\n}\n</code></pre>","children":[]}],"payload":{"lines":"4863,4864","fold":1}},{"content":"Update du slug du title","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">updatedTitle</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$value</span></span>) </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;slug      = <span class=\"hljs-title class_\">Str</span>::<span class=\"hljs-title function_ invoke__\">slug</span>(<span class=\"hljs-variable\">$value</span>);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;seo_title = <span class=\"hljs-variable\">$value</span>;\n}\n</code></pre>","children":[]}],"payload":{"lines":"4900,4901","fold":1}},{"content":"Enregistrement","children":[{"content":"<pre><code class=\"language-php\">...\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Mary</span>\\<span class=\"hljs-title\">Traits</span>\\<span class=\"hljs-title\">Toast</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\{<span class=\"hljs-title\">Category</span>, <span class=\"hljs-title\">Post</span>};\n\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-meta\">#[Layout</span>(<span class=\"hljs-string\">'components.layouts.admin'</span>)<span class=\"hljs-meta\">]</span> \n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n    <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Toast</span>;\n    ...\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">save</span>(<span class=\"hljs-params\"></span>) </span>{\n        <span class=\"hljs-variable\">$data</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">validate</span>();\n        <span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">create</span>(\n            <span class=\"hljs-variable\">$data</span> + [\n                <span class=\"hljs-string\">'user_id'</span>     =&gt; <span class=\"hljs-title class_\">Auth</span>::<span class=\"hljs-title function_ invoke__\">id</span>(),\n                <span class=\"hljs-string\">'category_id'</span> =&gt; <span class=\"hljs-variable\">$this</span>-&gt;category_id,\n            ],\n    );\n\n        <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Post added with success.'</span>), <span class=\"hljs-attr\">redirectTo</span>: <span class=\"hljs-string\">'/admin/posts/index'</span>);\n    }\n}\n</code></pre>","children":[]}],"payload":{"lines":"4909,4910","fold":1}}],"payload":{"lines":"4806,4807"}},{"content":"Traductions admin.posts.create","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Select a category\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Sélectionnez une catégorie\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Pinned\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Épinglé\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Content\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Contenu\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"META Keywords\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"META mots-clefs\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Keywords separated by comma\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Mots-clefs séparés par une virgule\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Max 70 chars\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Max 70 caractères\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Max 160 chars\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Max 160 caractères\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Enter the title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Entrez le titre\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Post added with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Article ajouté avec succès.\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"4934,4935","fold":1}}],"payload":{"lines":"4798,4799","fold":1}},{"content":"Éditeur (TinyMCE)","children":[{"content":"Installation hébergée (Usage Illimité → Notre choix)","children":[{"content":"<a href=\"https://www.tiny.cloud/get-tiny\" title=\"Sur le site !\" target=\"_blank\">Télécharger Free TinyMCE</a>","children":[],"payload":{"lines":"4952,4953"}},{"content":"À décompresser dans : ./storage/app/public/scripts","children":[],"payload":{"lines":"4954,4955"}},{"content":"Paramétrages","children":[{"content":"\n<p data-lines=\"4958,4959\">./config/<strong>tinymce.php</strong> :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">return</span> [\n<span class=\"hljs-string\">'config'</span> =&gt; [\n  <span class=\"hljs-string\">'language'</span>       =&gt; <span class=\"hljs-title function_ invoke__\">env</span>(<span class=\"hljs-string\">'APP_TINYMCE_LOCALE'</span>, <span class=\"hljs-string\">'en_US'</span>),\n  <span class=\"hljs-string\">'plugins'</span>        =&gt; <span class=\"hljs-string\">'codesample fullscreen'</span>,\n  <span class=\"hljs-string\">'toolbar'</span>        =&gt; <span class=\"hljs-string\">'undo redo style | fontfamily fontsize | alignleft aligncenter alignright alignjustify | bullist numlist | copy cut paste pastetext | hr | codesample | link image quicktable | fullscreen'</span>,\n  <span class=\"hljs-string\">'toolbar_sticky'</span> =&gt; <span class=\"hljs-literal\">true</span>,\n  <span class=\"hljs-string\">'min_height'</span>     =&gt; <span class=\"hljs-number\">1000</span>,\n  <span class=\"hljs-string\">'license_key'</span>    =&gt; <span class=\"hljs-string\">'gpl'</span>,\n  <span class=\"hljs-string\">'valid_elements'</span> =&gt; <span class=\"hljs-string\">'*[*]'</span>,\n  ],\n];\n</code></pre>","children":[],"payload":{"lines":"4958,4975"}},{"content":"\n<p data-lines=\"4975,4976\">Fichier ./.env :</p>\n<pre><code class=\"language-json\">APP_TINYMCE_LOCALE=fr_FR\n</code></pre>","children":[],"payload":{"lines":"4975,4981"}}],"payload":{"lines":"4956,4957"}},{"content":"Traductions TinyMCE","children":[{"content":"<a href=\"https://www.tiny.cloud/get-tiny/language-packages\" title=\"Sur le site !\" target=\"_blank\">Récupérer les fichiers de traduction</a>","children":[],"payload":{"lines":"4983,4984"}},{"content":"Les copier dans : ./storage/app/public/scripts/<strong>fr_FR.js</strong>","children":[],"payload":{"lines":"4984,4986"}}],"payload":{"lines":"4981,4982"}},{"content":"Activation de TinyMCE","children":[{"content":"\n<p data-lines=\"4988,4989\">Fichier ./resources/views/components/layouts/<strong>admin.blade.php</strong> :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"{{ asset('storage/scripts/tinymce.min.js') }}\"</span> &gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n... @vite(...)\n</code></pre>","children":[],"payload":{"lines":"4988,4995"}},{"content":"\n<p data-lines=\"4995,4996\">Dans la vue du composant admin.posts.create :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-editor</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"body\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Content') }}\"</span> <span class=\"hljs-attr\">:config</span>=<span class=\"hljs-string\">\"config('tinymce.config')\"</span> <span class=\"hljs-attr\">folder</span>=<span class=\"hljs-string\">\"{{ 'photos/' . now()-&gt;format('Y/m') }}\"</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"4995,5001"}}],"payload":{"lines":"4986,4987"}}],"payload":{"lines":"4950,4951","fold":1}},{"content":"Installation CDN (Usage limité: 1000 appels/mois - Mise à jour auto)","children":[{"content":"\n<p data-lines=\"5003,5004\">Fichier ./resources\\views\\components\\layouts*<em>admin.blade.php</em>* :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"https://cdn.tiny.cloud/1/YOUR-KEY-HERE/tinymce/6/tinymce.min.js\"</span> <span class=\"hljs-attr\">referrerpolicy</span>=<span class=\"hljs-string\">\"origin\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n... @vite(...)\n</code></pre>","children":[],"payload":{"lines":"5003,5010"}}],"payload":{"lines":"5001,5002","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://mary-ui.com/docs/components/editor\" title=\"Voir les détails\" target=\"_blank\">https://mary-ui.com/docs/components/editor</a></strong></em>","children":[],"payload":{"lines":"5010,5011"}}],"payload":{"lines":"4948,4949","fold":1}},{"content":"Gestion de l'image","children":[{"content":"Ajout du trait Livewire WithFileUploads","children":[{"content":"\n<p data-lines=\"5016,5017\">admin.posts.create :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Features</span>\\<span class=\"hljs-title\">SupportFileUploads</span>\\<span class=\"hljs-title\">TemporaryUploadedFile</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">WithFileUploads</span>;\n\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-meta\">#[Layout</span>(<span class=\"hljs-string\">'components.layouts.admin'</span>)<span class=\"hljs-meta\">]</span> \n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n    <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">WithFileUploads</span>, <span class=\"hljs-title\">Toast</span>;\n\n    <span class=\"hljs-meta\">#[Rule</span>(<span class=\"hljs-string\">'required|image|max:7000'</span>)<span class=\"hljs-meta\">]</span>\n    <span class=\"hljs-keyword\">public</span> ?TemporaryUploadedFile <span class=\"hljs-variable\">$photo</span> = <span class=\"hljs-literal\">null</span>;\n</code></pre>","children":[],"payload":{"lines":"5016,5030"}}],"payload":{"lines":"5014,5015","fold":1}},{"content":"Image / défaut","children":[{"content":"<a href=\"https://laravel.sillo.org/ask.jpg\" target=\"_blank\">Récupérer l'image</a>","children":[],"payload":{"lines":"5032,5033"}},{"content":"À poser dans : ./public/storage/<strong>ask.jpg</strong>","children":[],"payload":{"lines":"5033,5035"}}],"payload":{"lines":"5030,5031","fold":1}},{"content":"Composant de MaryUI dans le formulaire","children":[{"content":"<pre><code class=\"language-html\">            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-file</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"photo\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Featured image') }}\"</span>\n                <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Click on the image to modify') }}\"</span> <span class=\"hljs-attr\">accept</span>=<span class=\"hljs-string\">\"image/png, image/jpeg\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"{{ $photo == '' ? '/storage/ask.jpg' : $photo }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"h-40\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-file</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                ...\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5035,5036","fold":1}},{"content":"Traductions pour Image","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Featured image\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Image mise en avant\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Click on the image to modify\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Cliquez sur cette image pour la modifier\"</span><span class=\"hljs-punctuation\">,</span>\n</code></pre>","children":[]}],"payload":{"lines":"5050,5051","fold":1}},{"content":"Save Image","children":[{"content":"Url des images","children":[{"content":"\n<p data-lines=\"5083,5084\">Ajout dans app/helpers.php :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_ invoke__\">function_exists</span>(<span class=\"hljs-string\">'replaceAbsoluteUrlsWithRelative'</span>)) {\n  <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">replaceAbsoluteUrlsWithRelative</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$content</span></span>) </span>{\n      <span class=\"hljs-variable\">$baseUrl</span> = <span class=\"hljs-title function_ invoke__\">url</span>(<span class=\"hljs-string\">'/'</span>);\n  \n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">'/'</span> !== <span class=\"hljs-title function_ invoke__\">substr</span>(<span class=\"hljs-variable\">$baseUrl</span>, -<span class=\"hljs-number\">1</span>)) {\n          <span class=\"hljs-variable\">$baseUrl</span> .= <span class=\"hljs-string\">'/'</span>;\n      }\n    \n      <span class=\"hljs-variable\">$pattern</span>     = <span class=\"hljs-string\">'/&lt;img\\s+[^&gt;]*src=\"(?:https?:\\/\\/)?'</span> . <span class=\"hljs-title function_ invoke__\">preg_quote</span>(<span class=\"hljs-title function_ invoke__\">parse_url</span>(<span class=\"hljs-variable\">$baseUrl</span>, PHP_URL_HOST), <span class=\"hljs-string\">'/'</span>) . <span class=\"hljs-string\">'\\/([^\"]+)\"/i'</span>;\n      <span class=\"hljs-variable\">$replacement</span> = <span class=\"hljs-string\">'&lt;img src=\"/$1\"'</span>;\n  \n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">preg_replace</span>(<span class=\"hljs-variable\">$pattern</span>, <span class=\"hljs-variable\">$replacement</span>, <span class=\"hljs-variable\">$content</span>);\n  }\n}\n</code></pre>","children":[],"payload":{"lines":"5083,5102"}},{"content":"\n<p data-lines=\"5102,5103\">Adaptation de save() :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">save</span>(<span class=\"hljs-params\"></span>) </span>{\n   ...\n    <span class=\"hljs-variable\">$data</span>[<span class=\"hljs-string\">'body'</span>] = <span class=\"hljs-title function_ invoke__\">replaceAbsoluteUrlsWithRelative</span>(<span class=\"hljs-variable\">$data</span>[<span class=\"hljs-string\">'body'</span>]);\n \n    <span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">create</span>(\n    ...\n}\n</code></pre>","children":[],"payload":{"lines":"5102,5114"}}],"payload":{"lines":"5081,5082","fold":1}}],"payload":{"lines":"5057,5058","fold":1}}],"payload":{"lines":"5012,5013","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-creer-un-article\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-creer-un-article</a></strong></em>","children":[],"payload":{"lines":"5114,5115"}}],"payload":{"lines":"4775,4776","fold":1}},{"content":"Modifier un article","children":[{"content":"Route posts.edit","children":[{"content":"\n<p data-lines=\"5120,5121\">Dans le groupe du middleware 'IsAdminOrRedac' :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/posts/{post:slug}/edit'</span>, <span class=\"hljs-string\">'admin.posts.edit'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'posts.edit'</span>);\n</code></pre>","children":[],"payload":{"lines":"5120,5126"}}],"payload":{"lines":"5118,5119","fold":1}},{"content":"Lien dans tableau des articles (admin.posts.index)","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-table</span> <span class=\"hljs-attr\">striped</span> <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">\"$headers\"</span> <span class=\"hljs-attr\">:rows</span>=<span class=\"hljs-string\">\"$posts\"</span> <span class=\"hljs-attr\">:sort-by</span>=<span class=\"hljs-string\">\"$sortBy\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/admin/posts/{slug}/edit\"</span> <span class=\"hljs-attr\">with-pagination</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5126,5127","fold":1}},{"content":"Composant édition articles admin.posts.edit","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/posts/edit --class\n</code></pre>","children":[]}],"payload":{"lines":"5132,5133","fold":1}},{"content":"La logique admin.posts.edit","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Mary</span>\\<span class=\"hljs-title\">Traits</span>\\<span class=\"hljs-title\">Toast</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Str</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Volt</span>\\<span class=\"hljs-title\">Component</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">WithFileUploads</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Attributes</span>\\<span class=\"hljs-title\">Layout</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Validation</span>\\<span class=\"hljs-title\">Rule</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\{<span class=\"hljs-title\">Category</span>, <span class=\"hljs-title\">Post</span>};\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Collection</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Facades</span>\\<span class=\"hljs-title\">Storage</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Features</span>\\<span class=\"hljs-title\">SupportFileUploads</span>\\<span class=\"hljs-title\">TemporaryUploadedFile</span>;\n\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-meta\">#[Layout</span>(<span class=\"hljs-string\">'components.layouts.admin'</span>)<span class=\"hljs-meta\">]</span> \n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">WithFileUploads</span>, <span class=\"hljs-title\">Toast</span>;\n  \n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$postId</span>;\n  <span class=\"hljs-keyword\">public</span> ?Collection <span class=\"hljs-variable\">$categories</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$category_id</span>;\n  <span class=\"hljs-keyword\">public</span> Post <span class=\"hljs-variable\">$post</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$body</span>                  = <span class=\"hljs-string\">''</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$title</span>                 = <span class=\"hljs-string\">''</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$slug</span>                  = <span class=\"hljs-string\">''</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">bool</span> <span class=\"hljs-variable\">$active</span>                  = <span class=\"hljs-literal\">false</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">bool</span> <span class=\"hljs-variable\">$pinned</span>                  = <span class=\"hljs-literal\">false</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$seo_title</span>             = <span class=\"hljs-string\">''</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$meta_description</span>      = <span class=\"hljs-string\">''</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$meta_keywords</span>         = <span class=\"hljs-string\">''</span>;\n  <span class=\"hljs-keyword\">public</span> ?TemporaryUploadedFile <span class=\"hljs-variable\">$photo</span> = <span class=\"hljs-literal\">null</span>;\n  \n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\">Post <span class=\"hljs-variable\">$post</span></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_ invoke__\">Auth</span>()-&gt;<span class=\"hljs-title function_ invoke__\">user</span>()-&gt;<span class=\"hljs-title function_ invoke__\">isRedac</span>() &amp;&amp; <span class=\"hljs-variable\">$post</span>-&gt;user_id !== <span class=\"hljs-title function_ invoke__\">Auth</span>()-&gt;<span class=\"hljs-title function_ invoke__\">id</span>()) {\n      <span class=\"hljs-title function_ invoke__\">abort</span>(<span class=\"hljs-number\">403</span>);\n    }\n  \n    <span class=\"hljs-variable language_\">$this</span>-&gt;post = <span class=\"hljs-variable\">$post</span>;\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">fill</span>(<span class=\"hljs-variable\">$this</span>-&gt;post);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;categories = <span class=\"hljs-title class_\">Category</span>::<span class=\"hljs-title function_ invoke__\">orderBy</span>(<span class=\"hljs-string\">'title'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">get</span>();\n  }\n  \n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">updatedTitle</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$value</span></span>) </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;slug      = <span class=\"hljs-title class_\">Str</span>::<span class=\"hljs-title function_ invoke__\">slug</span>(<span class=\"hljs-variable\">$value</span>);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;seo_title = <span class=\"hljs-variable\">$value</span>;\n  }\n  \n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">save</span>(<span class=\"hljs-params\"></span>) </span>{\n    <span class=\"hljs-variable\">$data</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">validate</span>([\n      <span class=\"hljs-string\">'title'</span>            =&gt; <span class=\"hljs-string\">'required|string|max:255'</span>,\n      <span class=\"hljs-string\">'body'</span>             =&gt; <span class=\"hljs-string\">'required|string|max:16777215'</span>,\n      <span class=\"hljs-string\">'category_id'</span>      =&gt; <span class=\"hljs-string\">'required'</span>,\n      <span class=\"hljs-string\">'photo'</span>            =&gt; <span class=\"hljs-string\">'nullable|image|max:7000'</span>,\n      <span class=\"hljs-string\">'active'</span>           =&gt; <span class=\"hljs-string\">'required'</span>,\n      <span class=\"hljs-string\">'pinned'</span>           =&gt; <span class=\"hljs-string\">'required'</span>,\n      <span class=\"hljs-string\">'slug'</span>             =&gt; [<span class=\"hljs-string\">'required'</span>, <span class=\"hljs-string\">'string'</span>, <span class=\"hljs-string\">'max:255'</span>, <span class=\"hljs-string\">'regex:/^[a-z0-9]+(?:-[a-z0-9]+)*$/'</span>, <span class=\"hljs-title class_\">Rule</span>::<span class=\"hljs-title function_ invoke__\">unique</span>(<span class=\"hljs-string\">'posts'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">ignore</span>(<span class=\"hljs-variable\">$this</span>-&gt;post-&gt;id)],\n      <span class=\"hljs-string\">'seo_title'</span>        =&gt; <span class=\"hljs-string\">'required|max:70'</span>,\n      <span class=\"hljs-string\">'meta_description'</span> =&gt; <span class=\"hljs-string\">'required|max:160'</span>,\n      <span class=\"hljs-string\">'meta_keywords'</span>    =&gt; <span class=\"hljs-string\">'required|regex:/^[A-Za-z0-9-éèàù]{1,50}?(,[A-Za-z0-9-éèàù]{1,50})*$/'</span>,\n    ]);\n  \n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">$this</span>-&gt;photo) {\n      <span class=\"hljs-variable\">$date</span>          = <span class=\"hljs-title function_ invoke__\">now</span>()-&gt;<span class=\"hljs-title function_ invoke__\">format</span>(<span class=\"hljs-string\">'Y/m'</span>);\n      <span class=\"hljs-variable\">$path</span>          = <span class=\"hljs-variable\">$date</span> . <span class=\"hljs-string\">'/'</span> . <span class=\"hljs-title function_ invoke__\">basename</span>(<span class=\"hljs-variable\">$this</span>-&gt;photo-&gt;<span class=\"hljs-title function_ invoke__\">store</span>(<span class=\"hljs-string\">'photos/'</span> . <span class=\"hljs-variable\">$date</span>, <span class=\"hljs-string\">'public'</span>));\n      <span class=\"hljs-variable\">$data</span>[<span class=\"hljs-string\">'image'</span>] = <span class=\"hljs-variable\">$path</span>;\n    }\n  \n    <span class=\"hljs-variable\">$data</span>[<span class=\"hljs-string\">'body'</span>] = <span class=\"hljs-title function_ invoke__\">replaceAbsoluteUrlsWithRelative</span>(<span class=\"hljs-variable\">$data</span>[<span class=\"hljs-string\">'body'</span>]);\n  \n    <span class=\"hljs-variable language_\">$this</span>-&gt;post-&gt;<span class=\"hljs-title function_ invoke__\">update</span>(\n      <span class=\"hljs-variable\">$data</span> + [\n      <span class=\"hljs-string\">'category_id'</span> =&gt; <span class=\"hljs-variable\">$this</span>-&gt;category_id,\n      ],\n    );\n  \n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Post updated with success.'</span>));\n  }\n}; <span class=\"hljs-meta\">?&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5138,5139","fold":1}},{"content":"Formulaire d'édition","children":[{"content":"<pre><code class=\"language-html\">@section('title', __('Edit a post'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Edit a post') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline lg:hidden\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-select</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Category') }}\"</span> <span class=\"hljs-attr\">option-label</span>=<span class=\"hljs-string\">\"title\"</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$categories\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"category_id\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex gap-6\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-checkbox</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Published') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"active\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-checkbox</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Pinned') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"pinned\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"title\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span>\n                <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Enter the title') }}\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"slug\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Slug') }}\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-editor</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"body\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Content') }}\"</span> <span class=\"hljs-attr\">:config</span>=<span class=\"hljs-string\">\"config('tinymce.config')\"</span>\n                <span class=\"hljs-attr\">folder</span>=<span class=\"hljs-string\">\"{{ 'photos/' . now()-&gt;format('Y/m') }}\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('SEO') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"seo_title\"</span> <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Max 70 chars') }}\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-textarea</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('META Description') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"meta_description\"</span>\n                    <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Max 160 chars') }}\"</span> <span class=\"hljs-attr\">rows</span>=<span class=\"hljs-string\">\"2\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-textarea</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('META Keywords') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"meta_keywords\"</span>\n                    <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Keywords separated by comma') }}\"</span> <span class=\"hljs-attr\">rows</span>=<span class=\"hljs-string\">\"1\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-file</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"photo\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Featured image') }}\"</span>\n                <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Click on the image to modify') }}\"</span> <span class=\"hljs-attr\">accept</span>=<span class=\"hljs-string\">\"image/png, image/jpeg\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"{{ asset('storage/photos/' . $post-&gt;image) }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"h-40\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-file</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Preview') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"m-sun\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ '/posts/' . $post-&gt;slug }}\"</span> <span class=\"hljs-attr\">external</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5219,5220","fold":1}},{"content":"Traductions Édition","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Edit a post\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier un article\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Post updated with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Article mis à jour avec succès.\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"5268,5269","fold":1}},{"content":"Bouton édition dans le posts.show","children":[{"content":"HTML","children":[{"content":"<pre><code class=\"language-html\">@auth\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n        ...\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n    @if (Auth::user()-&gt;isAdmin() || Auth::user()-&gt;id == $post-&gt;user_id)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-pencil-square\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('posts.edit', $post) }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost btn-sm\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                @lang('Edit this post')\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n    @endif\n@endauth\n</code></pre>","children":[]}],"payload":{"lines":"5277,5278"}},{"content":"Traduction Édition du post","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Edit this post\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier cet article\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"5298,5299"}}],"payload":{"lines":"5275,5276","fold":1}},{"content":"Bouton clone dans le posts.show","children":[{"content":"HTML Clone","children":[{"content":"Traduction Clone","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Clone this post\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Dupliquer cet article\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"5325,5326","fold":1}},{"content":"Logique du clonage","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">clonePost</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$postId</span></span>): <span class=\"hljs-title\">void</span>\n</span>{\n    <span class=\"hljs-variable\">$originalPost</span> = <span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">findOrFail</span>(<span class=\"hljs-variable\">$postId</span>);\n    <span class=\"hljs-variable\">$clonedPost</span> = <span class=\"hljs-variable\">$originalPost</span>-&gt;<span class=\"hljs-title function_ invoke__\">replicate</span>();\n    <span class=\"hljs-variable\">$postRepository</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">PostRepository</span>();\n    <span class=\"hljs-variable\">$clonedPost</span>-&gt;slug = <span class=\"hljs-variable\">$postRepository</span>-&gt;<span class=\"hljs-title function_ invoke__\">generateUniqueSlug</span>(<span class=\"hljs-variable\">$originalPost</span>-&gt;slug);\n    <span class=\"hljs-variable\">$clonedPost</span>-&gt;active = <span class=\"hljs-literal\">false</span>;\n    <span class=\"hljs-variable\">$clonedPost</span>-&gt;<span class=\"hljs-title function_ invoke__\">save</span>();\n\n    <span class=\"hljs-title function_ invoke__\">redirect</span>()-&gt;<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'posts.edit'</span>, <span class=\"hljs-variable\">$clonedPost</span>-&gt;slug);\n}\n</code></pre>","children":[]}],"payload":{"lines":"5331,5332","fold":1}}],"payload":{"lines":"5306,5307","fold":1}}],"payload":{"lines":"5304,5305","fold":1}},{"content":"Réf.: ***<a href=\"https://laravel.sillo.org/posts/mon-cms-modifier-un-article\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-modifier-un-article</a>","children":[],"payload":{"lines":"5347,5348"}}],"payload":{"lines":"5116,5117","fold":1}}],"payload":{"lines":"4519,4520","fold":1}},{"content":"- Les Catégories","children":[{"content":"Route categories.index","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Http</span>\\<span class=\"hljs-title\">Middleware</span>\\{<span class=\"hljs-title\">IsAdmin</span>, <span class=\"hljs-title\">IsAdminOrRedac</span>};\n...\n<span class=\"hljs-comment\">// Dans le groupe du middleware 'IsAdminOrRedac'</span>\n<span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdmin</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/categories/index'</span>, <span class=\"hljs-string\">'admin.categories.index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'categories.index'</span>);\n});\n</code></pre>","children":[]}],"payload":{"lines":"5351,5352","fold":1}},{"content":"Item dans barre latérale","children":[{"content":"\n<p data-lines=\"5364,5365\">HTML Item dans admin.sidebar :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-sub</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Posts') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document-text\"</span>&gt;</span>\n    ...\n    @if (Auth::user()-&gt;isAdmin())\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Categories') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('categories.index') }}\"</span> /&gt;</span>\n    @endif\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu-sub</span>&gt;</span> \n</code></pre>","children":[],"payload":{"lines":"5364,5375"}},{"content":"\n<p data-lines=\"5375,5376\">Traduction Item :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Categories\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Catégories\"</span>\n</code></pre>","children":[],"payload":{"lines":"5375,5381"}}],"payload":{"lines":"5362,5363","fold":1}},{"content":"Création composant category.index","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/categories/index --class\n</code></pre>","children":[]}],"payload":{"lines":"5381,5382","fold":1}},{"content":"Code composant categories.index","children":[{"content":"Code de base","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse App\\Models\\Category;\nuse Livewire\\Volt\\Component;\nuse Livewire\\WithPagination;\nuse Livewire\\Attributes\\Layout;\n\nnew #[Layout('components.layouts.admin')] \nclass extends Component {\n    use WithPagination;\n\n    public array $sortBy = ['column' =&gt; 'title', 'direction' =&gt; 'asc'];\n\n    public function headers(): array {\n        return [['key' =&gt; 'title', 'label' =&gt; __('Title')], ['key' =&gt; 'slug', 'label' =&gt; 'Slug']];\n    }\n  \n    public function with(): array {\n        return [\n            'categories' =&gt; Category::orderBy(...array_values($this-&gt;sortBy))-&gt;paginate(10),\n            'headers'    =&gt; $this-&gt;headers(),\n        ];\n    }\n  \n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Categories') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-table</span> <span class=\"hljs-attr\">striped</span> <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">\"$headers\"</span> <span class=\"hljs-attr\">:rows</span>=<span class=\"hljs-string\">\"$categories\"</span> <span class=\"hljs-attr\">:sort-by</span>=<span class=\"hljs-string\">\"$sortBy\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"#\"</span>\n            <span class=\"hljs-attr\">with-pagination</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-table</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5389,5390","fold":1}},{"content":"Ajout bouton supprimer catégorie","children":[{"content":"HTML Supprimer catégorie","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-table</span> <span class=\"hljs-attr\">striped</span> <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">\"$headers\"</span> <span class=\"hljs-attr\">:rows</span>=<span class=\"hljs-string\">\"$categories\"</span> <span class=\"hljs-attr\">:sort-by</span>=<span class=\"hljs-string\">\"$sortBy\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"#\"</span>\n    <span class=\"hljs-attr\">with-pagination</span>&gt;</span>\n        @scope('actions', $category)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-trash\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"delete({{ $category-&gt;id }})\"</span>\n                    <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete this category?') }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                @lang('Delete')\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n    @endscope\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-table</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5434,5435"}},{"content":"Logique Supprimer catégorie","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">delete</span>(<span class=\"hljs-params\">Category <span class=\"hljs-variable\">$category</span></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable\">$category</span>-&gt;<span class=\"hljs-title function_ invoke__\">delete</span>();\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Category deleted with success.'</span>));\n}\n</code></pre>","children":[]}],"payload":{"lines":"5454,5455"}},{"content":"Traduction Supprimer catégorie","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Are you sure to delete this category?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir supprimer cette catégorie ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Category deleted with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Catégorie supprimée avec succès.\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"5463,5464"}}],"payload":{"lines":"5432,5433","fold":1}},{"content":"Formulaire catégorie","children":[{"content":"Composant formulaire creation/modification","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/categories/category-form\n</code></pre>","children":[]}],"payload":{"lines":"5472,5473"}},{"content":"HTML admin/categories/<strong>category-form.blade.php</strong>","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span> <span class=\"hljs-attr\">wire:model.debounce.500ms</span>=<span class=\"hljs-string\">\"title\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"slug\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Slug') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span>\n            <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5478,5479"}},{"content":"Ajout du formulaire Créer catégorie (categories.index)","children":[{"content":"<pre><code class=\"language-html\">    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Create a new category') }}\"</span>&gt;</span>\n        @include('livewire.admin.categories.category-form')\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5491,5492"}},{"content":"Complément logique validation catégorie","children":[{"content":"<pre><code class=\"language-php\">...\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Mary</span>\\<span class=\"hljs-title\">Traits</span>\\<span class=\"hljs-title\">Toast</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Str</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Attributes</span>\\{<span class=\"hljs-title\">Layout</span>, <span class=\"hljs-title\">Validate</span>};\n\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-meta\">#[Layout</span>(<span class=\"hljs-string\">'components.layouts.admin'</span>)<span class=\"hljs-meta\">]</span> \n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n    <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Toast</span>, <span class=\"hljs-title\">WithPagination</span>;\n    ...\n    <span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required|max:255|unique:categories,title'</span>)<span class=\"hljs-meta\">]</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$title</span> = <span class=\"hljs-string\">''</span>;\n  \n    <span class=\"hljs-meta\">#[Validate</span>(<span class=\"hljs-string\">'required|max:255|unique:posts,slug|regex:/^[a-z0-9]+(?:-[a-z0-9]+)*$/'</span>)<span class=\"hljs-meta\">]</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$slug</span> = <span class=\"hljs-string\">''</span>;\n  \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">updatedTitle</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$value</span></span>): <span class=\"hljs-title\">void</span> </span>{\n        <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">generateSlug</span>(<span class=\"hljs-variable\">$value</span>);\n    }\n  \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">generateSlug</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$title</span></span>): <span class=\"hljs-title\">void</span> </span>{\n        <span class=\"hljs-variable language_\">$this</span>-&gt;slug = <span class=\"hljs-title class_\">Str</span>::<span class=\"hljs-title function_ invoke__\">of</span>(<span class=\"hljs-variable\">$title</span>)-&gt;<span class=\"hljs-title function_ invoke__\">slug</span>(<span class=\"hljs-string\">'-'</span>);\n    }\n  \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">save</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n        <span class=\"hljs-variable\">$data</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">validate</span>();\n        <span class=\"hljs-title class_\">Category</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-variable\">$data</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Category created with success.'</span>));\n  }\n</code></pre>","children":[]}],"payload":{"lines":"5500,5501"}},{"content":"Traduction Créer catégorie","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Create a new category\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Créer une nouvelle catégorie\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Category created with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Catégorie créée avec succès.\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"5533,5534"}}],"payload":{"lines":"5470,5471","fold":1}}],"payload":{"lines":"5387,5388","fold":1}},{"content":"Modification d'une catégorie","children":[{"content":"Route pour la modification de catégorie","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdmin</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/categories/{category}/edit'</span>, <span class=\"hljs-string\">'admin.categories.edit'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'categories.edit'</span>);\n});\n</code></pre>","children":[]}],"payload":{"lines":"5542,5543"}},{"content":"Lien dans tableau des catégories","children":[{"content":"<pre><code class=\"language-html\">// admin/categories/index\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-table</span> <span class=\"hljs-attr\">striped</span> <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">\"$headers\"</span> <span class=\"hljs-attr\">:rows</span>=<span class=\"hljs-string\">\"$categories\"</span> <span class=\"hljs-attr\">:sort-by</span>=<span class=\"hljs-string\">\"$sortBy\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/admin/categories/{id}/edit\"</span> <span class=\"hljs-attr\">with-pagination</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5551,5552"}},{"content":"Création du composant modification","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/categories/edit --class\n</code></pre>","children":[]}],"payload":{"lines":"5558,5559"}},{"content":"Code du composant d'édition","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse App\\Models\\Category;\nuse Illuminate\\Support\\Str;\nuse Livewire\\Volt\\Component;\nuse Livewire\\Attributes\\Layout;\nuse Illuminate\\Validation\\Rule;\n\nnew #[Layout('components.layouts.admin')] \nclass extends Component {\n  use Toast;\n  \n  public Category $category;\n  public string $title = '';\n  public string $slug  = '';\n  \n  public function mount(Category $category): void {\n    $this-&gt;category = $category;\n    $this-&gt;fill($this-&gt;category-&gt;toArray());\n  }\n  \n  public function updatedTitle($value): void {\n    $this-&gt;generateSlug($value);\n  }\n  \n  public function save(): void {\n    $data = $this-&gt;validate($this-&gt;rules());\n    $this-&gt;category-&gt;update($data);\n    $this-&gt;success(__('Category updated successfully.'), redirectTo: '/admin/categories/index');\n  }\n  \n  protected function rules(): array {\n  return [\n      'title' =&gt; 'required|string|max:255',\n      'slug'  =&gt; ['required', 'string', 'max:255', 'regex:/^[a-z0-9]+(?:-[a-z0-9]+)*$/', Rule::unique('categories')-&gt;ignore($this-&gt;category-&gt;id)],\n  ];\n  }\n  \n  private function generateSlug(string $title): void {\n    $this-&gt;slug = Str::of($title)-&gt;slug('-');\n  }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Edit a category') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n        @include('livewire.admin.categories.category-form')\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5564,5565","fold":1}},{"content":"Traduction modification de catégorie","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Category updated successfully.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Catégorie mise à jour avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Edit a category\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier une catégorie\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"5623,5624"}}],"payload":{"lines":"5540,5541","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-categories\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-categories</a></strong></em>","children":[],"payload":{"lines":"5630,5631"}}],"payload":{"lines":"5349,5350","fold":1}},{"content":"- Les Pages","children":[{"content":"Liste des pages","children":[{"content":"Route Pages","children":[{"content":"\n<p data-lines=\"5638,5639\">Groupe middleware IsAdminOrRedac &gt; IsAdmin :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/pages/index'</span>, <span class=\"hljs-string\">'admin.pages.index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'pages.index'</span>);\n</code></pre>","children":[],"payload":{"lines":"5638,5644"}}],"payload":{"lines":"5636,5637","fold":1}},{"content":"Navigation Pages","children":[{"content":"\n<p data-lines=\"5646,5647\">Lien Pages dans le pavé en haut du dashboard (admin.index) :</p>\n<pre><code class=\"language-html\"> <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ route('pages.index') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex-grow\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('All pages') }}\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-stat</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Pages') }}\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $pages-&gt;count() }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-hover\"</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"5646,5654"}},{"content":"\n<p data-lines=\"5654,5655\">Lien Pages dans admin.sidebar :</p>\n<pre><code class=\"language-html\">...(Posts)\n@if (Auth::user()-&gt;isAdmin())\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-sub</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Pages') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('All pages') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('pages.index') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu-sub</span>&gt;</span>\n@endif\n...\n</code></pre>","children":[],"payload":{"lines":"5654,5666"}},{"content":"\n<p data-lines=\"5666,5667\">Traduction Pages :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"All pages\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Toutes les pages\"</span><span class=\"hljs-punctuation\">,</span>\n</code></pre>","children":[],"payload":{"lines":"5666,5672"}}],"payload":{"lines":"5644,5645","fold":1}},{"content":"Composant Pages","children":[{"content":"<pre><code class=\"language-php\">php artisan make:volt admin/pages/index --<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span>\n</span></code></pre>","children":[]},{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse App\\Models\\Page;\nuse Mary\\Traits\\Toast;\nuse Livewire\\Volt\\Component;\nuse Livewire\\WithPagination;\nuse Livewire\\Attributes\\Layout;\n\nnew #[Layout('components.layouts.admin')] \nclass extends Component {\n  use Toast, WithPagination;\n  \n  public function headers(): array {\n    return [\n      ['key' =&gt; 'title',  'label' =&gt; __('Title')],\n      ['key' =&gt; 'slug',   'label' =&gt; 'Slug'],\n      ['key' =&gt; 'active', 'label' =&gt; __('Published')]\n    ];\n  }\n  \n  public function deletePage(Page $page): void {\n    $page-&gt;delete();\n    $this-&gt;success(__('Page deleted'));\n  }\n  \n  public function with(): array {\n    return [\n      'pages'   =&gt; Page::select('id', 'title', 'slug', 'active')-&gt;get(),\n      'headers' =&gt; $this-&gt;headers(),\n    ];\n  }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Pages') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span> &gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-document-plus\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Add a page') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"#\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-table</span> <span class=\"hljs-attr\">striped</span> <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">\"$headers\"</span> <span class=\"hljs-attr\">:rows</span>=<span class=\"hljs-string\">\"$pages\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"#\"</span>&gt;</span>\n            @scope('cell_active', $page)\n                @if ($page-&gt;active)\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"o-check-circle\"</span> /&gt;</span>\n                @endif\n            @endscope\n            @scope('actions', $page)\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-trash\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"deletePage({{ $page-&gt;id }})\"</span>\n                            <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete this page?') }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                            <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                        @lang('Delete')\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            @endscope\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-table</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"All pages\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Toutes les pages\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Add a page\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Ajouter une page\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Are you sure to delete this page?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir supprimer cette page ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Page deleted\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Page effacée avec succès.\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"5672,5673","fold":1}}],"payload":{"lines":"5634,5635","fold":1}},{"content":"Création pages","children":[{"content":"Route Ajouter Pages","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-comment\">// Groupe middleware IsAdminOrRedac &gt; IsAdmin</span>\n<span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/pages/create'</span>, <span class=\"hljs-string\">'admin.pages.create'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'pages.create'</span>);\n</code></pre>","children":[]}],"payload":{"lines":"5754,5755","fold":1}},{"content":"Liens Ajouter Pages","children":[{"content":"\n<p data-lines=\"5763,5764\">admin.pages.index :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-document-plus\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Add a page') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('pages.create') }}\"</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"5763,5769"}},{"content":"\n<p data-lines=\"5769,5770\">admin.sidebar :</p>\n<pre><code class=\"language-html\">@if (Auth::user()-&gt;isAdmin())\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-sub</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Pages') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('All pages') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('pages.index') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Add a page') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('pages.create') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu-sub</span>&gt;</span>\n@endif\n</code></pre>","children":[],"payload":{"lines":"5769,5780"}}],"payload":{"lines":"5761,5762","fold":1}},{"content":"Formulaire Pages (Création &amp; modification)","children":[{"content":"\n<p data-lines=\"5782,5783\">Créer pages/<strong>page-form.blade.php</strong> :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"title\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span>\n            <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Enter the title') }}\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"slug\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Slug') }}\"</span> /&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-checkbox</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Published') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"active\"</span> /&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-editor</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"body\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Content') }}\"</span> <span class=\"hljs-attr\">:config</span>=<span class=\"hljs-string\">\"config('tinymce.config')\"</span>\n            <span class=\"hljs-attr\">folder</span>=<span class=\"hljs-string\">\"{{ 'photos/' . now()-&gt;format('Y/m') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('SEO') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"seo_title\"</span> <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Max 70 chars') }}\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-textarea</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('META Description') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"meta_description\"</span>\n                <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Max 160 chars') }}\"</span> <span class=\"hljs-attr\">rows</span>=<span class=\"hljs-string\">\"2\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-textarea</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('META Keywords') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"meta_keywords\"</span>\n                <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Keywords separated by comma') }}\"</span> <span class=\"hljs-attr\">rows</span>=<span class=\"hljs-string\">\"1\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span>\n                <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"5782,5810"}}],"payload":{"lines":"5780,5781","fold":1}},{"content":"CLI Creation Pages","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/pages/create --class\n</code></pre>","children":[]}],"payload":{"lines":"5810,5811","fold":1}},{"content":"Code composant Créer Pages","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse App\\Models\\Page;\nuse Mary\\Traits\\Toast;\nuse illuminate\\Support\\Str;\nuse Livewire\\Volt\\Component;\nuse Livewire\\Attributes\\{Layout, Validate, Title};\n\nnew #[Title('Create Page'), Layout('components.layouts.admin')] \nclass extends Component {\n    use Toast;\n  \n    #[Validate('required|max:65000')]\n    public string $body = '';\n  \n    #[Validate('required|max:255')]\n    public string $title = '';\n  \n    #[Validate('required|max:255|unique:posts,slug|regex:/^[a-z0-9]+(?:-[a-z0-9]+)*$/')]\n    public string $slug = '';\n  \n    #[Validate('required')]\n    public bool $active = false;\n  \n    #[Validate('required|max:70')]\n    public string $seo_title = '';\n  \n    #[Validate('required|max:160')]\n    public string $meta_description = '';\n  \n    #[Validate('required|regex:/^[A-Za-z0-9-éèàù]{1,50}(, ?[A-Za-z0-9-éèàù]{1,50})*$/')]\n    public string $meta_keywords = '';\n  \n    public function updatedTitle($value): void {\n        $this-&gt;generateSlug($value);\n        $this-&gt;seo_title = $value;\n    }\n  \n    public function save() {\n        $data = $this-&gt;validate();\n        Page::create($data);\n        $this-&gt;success(__('Page added with success.'), redirectTo: '/admin/pages/index');\n    }\n  \n    private function generateSlug(string $title): void {\n        $this-&gt;slug = Str::of($title)-&gt;slug('-');\n    }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Add a page') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n    @include('livewire.admin.pages.page-form')\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5816,5817","fold":1}},{"content":"Traduction Ajouter Pages","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Page added with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Page ajoutée avec succès.\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"5878,5879","fold":1}}],"payload":{"lines":"5752,5753","fold":1}},{"content":"Modification (→ Édition) Pages","children":[{"content":"Route Éditer Pages","children":[{"content":"\n<p data-lines=\"5888,5889\">Groupe middleware IsAdminOrRedac &gt; IsAdmin :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/pages/{page:slug}/edit'</span>, <span class=\"hljs-string\">'admin.pages.edit'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'pages.edit'</span>);\n</code></pre>","children":[],"payload":{"lines":"5888,5894"}}],"payload":{"lines":"5886,5887","fold":1}},{"content":"Lien Éditer Pages","children":[{"content":"\n<p data-lines=\"5896,5897\">admin.pages.index :</p>\n<pre><code class=\"language-php\">&lt;x-table striped :headers=<span class=\"hljs-string\">\"<span class=\"hljs-subst\">$headers</span>\"</span> :rows=<span class=\"hljs-string\">\"<span class=\"hljs-subst\">$pages</span>\"</span> link=<span class=\"hljs-string\">\"/admin/pages/{slug}/edit\"</span>&gt;\n</code></pre>","children":[],"payload":{"lines":"5896,5902"}}],"payload":{"lines":"5894,5895","fold":1}},{"content":"CLI édition Pages","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/pages/edit --class\n</code></pre>","children":[]}],"payload":{"lines":"5902,5903","fold":1}},{"content":"Code Éditer Pages","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse App\\Models\\Page;\nuse Mary\\Traits\\Toast;\nuse illuminate\\Support\\Str;\nuse Livewire\\Volt\\Component;\nuse Illuminate\\Validation\\Rule;\nuse Livewire\\Attributes\\{Layout, Title};\n\nnew #[Title('Edit Page'), Layout('components.layouts.admin')] \nclass extends Component {\n    use Toast;\n  \n    public Page $page;\n    public string $body             = '';\n    public string $title            = '';\n    public string $slug             = '';\n    public bool $active             = false;\n    public string $seo_title        = '';\n    public string $meta_description = '';\n    public string $meta_keywords    = '';\n  \n    public function mount(Page $page): void {\n        $this-&gt;page = $page;\n        $this-&gt;fill($this-&gt;page);\n    }\n  \n    public function updatedTitle($value): void {\n        $this-&gt;generateSlug($value);\n    }\n  \n    public function save() {\n        $data = $this-&gt;validate([\n            'title'            =&gt; 'required|string|max:255',\n            'body'             =&gt; 'required|max:65000',\n            'active'           =&gt; 'required',\n            'slug'             =&gt; ['required', 'string', 'max:255', 'regex:/^[a-z0-9]+(?:-[a-z0-9]+)*$/', Rule::unique('pages')-&gt;ignore($this-&gt;page-&gt;id)],\n            'seo_title'        =&gt; 'required|max:70',\n            'meta_description' =&gt; 'required|max:160',\n            'meta_keywords'    =&gt; 'required|regex:/^[A-Za-z0-9-éèàù]{1,50}?(,[A-Za-z0-9-éèàù]{1,50})*$/',\n        ]);\n  \n        $this-&gt;page-&gt;update($data);\n      \n        $this-&gt;success(__('Page edited with success.'), redirectTo: '/admin/pages/index');\n    }\n  \n    private function generateSlug(string $title): void {\n        $this-&gt;slug = Str::of($title)-&gt;slug('-');\n    }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Edit a page') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n    @include('livewire.admin.pages.page-form')\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"5908,5909","fold":1}},{"content":"Traduction Éditer Pages","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Page edited with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Page mise à jour avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Edit a page\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier une page\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"5973,5974","fold":1}}],"payload":{"lines":"5884,5885","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-pages\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-pages</a></strong></em>","children":[],"payload":{"lines":"5980,5981"}},{"content":"Liste des contacts","children":[{"content":"Route Index Contact","children":[{"content":"\n<p data-lines=\"5986,5987\">Groupe middleware IsAdminOrRedac &gt; IsAdmin :</p>\n<pre><code class=\"language-php\">... Route Catégories\n<span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/contacts/index'</span>, <span class=\"hljs-string\">'admin.contacts.index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'contacts.index'</span>);\n</code></pre>","children":[],"payload":{"lines":"5986,5993"}}],"payload":{"lines":"5984,5985","fold":1}},{"content":"Liens Index Contact","children":[{"content":"\n<p data-lines=\"5995,5996\">admin.sidebar :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-pencil-square\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Contacts') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('contacts.index') }}\"</span> /&gt;</span>\n... Liens Pages\n</code></pre>","children":[],"payload":{"lines":"5995,6002"}},{"content":"\n<p data-lines=\"6002,6003\">admin.index :</p>\n<pre><code class=\"language-html\">use App\\Models\\{Comment, Contact, Page, Post, User};\n...\nreturn [\n  'users'          =&gt; User::count(),\n  'contacts'       =&gt; Contact::whereHandled(false)-&gt;get(),\n]\n...\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n  @if (Auth::user()-&gt;isAdmin())\n    @foreach ($contacts as $contact)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-alert</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{!! __('Contact to handle from ') . html_entity_decode($contact-&gt;name) !!}\"</span> <span class=\"hljs-attr\">description</span>=<span class=\"hljs-string\">\"{!! html_entity_decode($contact-&gt;message) !!}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-pencil-square\"</span>\n            <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-md alert-info\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('contacts.index') }}\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{!! __('Show the contacts') !!}\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-alert</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n    @endforeach\n@endif\n</code></pre>","children":[],"payload":{"lines":"6002,6027"}}],"payload":{"lines":"5993,5994","fold":1}},{"content":"CLI Index Contact","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/contacts/index --class\n</code></pre>","children":[]}],"payload":{"lines":"6027,6028","fold":1}},{"content":"Code Index Contact","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse App\\Models\\Contact;\nuse Livewire\\Volt\\Component;\nuse Livewire\\WithPagination;\nuse Livewire\\Attributes\\{Layout, Title};\n\nnew #[Title('Contacts')] #[Layout('components.layouts.admin')] class extends Component {\n    use Toast;\n    use WithPagination;\n\n    // Définition des en-têtes des colonnes\n    public function headers(): array {\n        return [['key' =&gt; 'name', 'label' =&gt; __('Name')], ['key' =&gt; 'email', 'label' =&gt; __('Email')], ['key' =&gt; 'message', 'label' =&gt; __('Message')], ['key' =&gt; 'created_at', 'label' =&gt; __('Sent on')]];\n    }\n\n    // Méthode pour supprimer un contact\n    public function deleteContact(Contact $contact): void {\n        $contact-&gt;delete();\n        $this-&gt;success(__('Contact deleted'));\n    }\n\n    // Méthode pour la mise à jour du statut traité/non traité\n    public function toggleContact(Contact $contact, bool $status): void {\n        $contact-&gt;handled = $status;\n        $contact-&gt;save();\n        $message = $status ? __('Contact marked as handled') : __('Contact marked as unhandled');\n        $this-&gt;success($message);\n    }\n\n    // Méthode pour récupérer les données nécessaires à la vue\n    public function with(): array {\n        return [\n            'headers' =&gt; $this-&gt;headers(),\n            'contacts' =&gt; Contact::latest()-&gt;paginate(10),\n            'row_decoration' =&gt; ['bg-yellow-500/25' =&gt; fn(Contact $contact) =&gt; !$contact-&gt;handled],\n        ];\n    }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Contacts') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-table</span> <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">\"$headers\"</span> <span class=\"hljs-attr\">:rows</span>=<span class=\"hljs-string\">\"$contacts\"</span> <span class=\"hljs-attr\">:row-decoration</span>=<span class=\"hljs-string\">\"$row_decoration\"</span>&gt;</span>\n            @scope('cell_created_at', $contact)\n                {{ $contact-&gt;created_at-&gt;isoFormat('LL') }} {{ __('at') }}\n                {{ $contact-&gt;created_at-&gt;isoFormat('HH:mm') }}\n            @endscope\n            @scope('actions', $contact)\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex\"</span>&gt;</span>\n                    @if ($contact-&gt;handled)\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-face-smile\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"toggleContact({{ $contact-&gt;id }}, false)\"</span> <span class=\"hljs-attr\">spinner</span>\n                                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-green-500 btn-ghost btn-sm\"</span> /&gt;</span>\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                                @lang('Mark as unhandled')\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                    @else\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-face-smile\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"toggleContact({{ $contact-&gt;id }}, true)\"</span> <span class=\"hljs-attr\">spinner</span>\n                                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                                @lang('Mark as handled')\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                    @endif\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-envelope\"</span>\n                                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"mailto:{{ $contact-&gt;email }}?subject={{ __('Contact') }}&amp;body={{ $contact-&gt;message }}\"</span>\n                                <span class=\"hljs-attr\">no-wire-navigate</span> <span class=\"hljs-attr\">spinner</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-blue-500 btn-ghost btn-sm\"</span> /&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                            @lang('Answer')\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-trash\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"deleteContact({{ $contact-&gt;id }})\"</span>\n                                <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete this contact?') }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                                <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                            @lang('Delete')\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            @endscope\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-table</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"6033,6034","fold":1}},{"content":"Traductions Index Contact","children":[{"content":"<pre><code class=\"language-json\">... \"Use this form to contact me\": \"Utilisez ce formulaire pour me contacter\",\n\"Contact to handle from \": \"Contact à traiter de \",\n\"Show the contacts\": \"Voir les contacts\",\n\"Handled\": \"Traité\",\n\"Contact marked as handled\": \"Contact marqué comme traité\",\n\"Contact marked as unhandled\": \"Contact marqué comme non traité\",\n\"Mark as unhandled\": \"Marquer comme non traité\",\n\"Contact unhandled\": \"Contact non traité\",\n\"Mark as handled\": \"Marquer comme traité\",\n\"Are you sure to delete this contact?\": \"Êtes-vous sûr de vouloir supprimer ce contact ?\",\n\"Contact deleted\": \"Contact supprimé\",\n</code></pre>","children":[]}],"payload":{"lines":"6139,6140","fold":1}}],"payload":{"lines":"5982,5983","fold":1}}],"payload":{"lines":"5632,5633","fold":1}},{"content":"- Les Comptes (Users)","children":[{"content":"Liste des comptes","children":[{"content":"Route Comptes","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdmin</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/users/index'</span>, <span class=\"hljs-string\">'admin.users.index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'users.index'</span>);\n});\n</code></pre>","children":[]}],"payload":{"lines":"6159,6160","fold":1}},{"content":"Liens Comptes","children":[{"content":"\n<p data-lines=\"6170,6171\">admin.sidebar :</p>\n<pre><code class=\"language-html\">@if (Auth::user()-&gt;isAdmin())\n    ...\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-user\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Accounts') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('users.index') }}\"</span> /&gt;</span>\n    ... (Pages)\n@endif\n</code></pre>","children":[],"payload":{"lines":"6170,6180"}},{"content":"\n<p data-lines=\"6180,6181\">admin.index (Pavé) :</p>\n<pre><code class=\"language-html\">@if (Auth::user()-&gt;isAdmin())\n    ...\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ route('users.index') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex-grow\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Users list') }}\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-stat</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Users') }}\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $users }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-user\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-hover\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n@endif\n</code></pre>","children":[],"payload":{"lines":"6180,6191"}},{"content":"\n<p data-lines=\"6191,6192\">Traduction lien dans pavé :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Users list\"</span><span class=\"hljs-punctuation\">:</span><span class=\"hljs-string\">\"Tous les utilisateurs\"</span>\n</code></pre>","children":[],"payload":{"lines":"6191,6197"}}],"payload":{"lines":"6168,6169","fold":1}},{"content":"Composant Comptes","children":[{"content":"Création composant Comptes","children":[{"content":"<pre><code class=\"language-php\">php artisan make:volt admin/users/index --<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span>\n</span></code></pre>","children":[]}],"payload":{"lines":"6199,6200","fold":1}},{"content":"Code Comptes","children":[{"content":"<pre><code class=\"language-php\">&lt;?php\nuse App\\Models\\User;\nuse Mary\\Traits\\Toast;\nuse Livewire\\Volt\\Component;\nuse Livewire\\WithPagination;\nuse Livewire\\Attributes\\{Layout, Title};\nuse Illuminate\\Pagination\\LengthAwarePaginator;\n\nnew #[Title('Users'), Layout('components.layouts.admin')] class extends Component {\n    use Toast;\n    use WithPagination;\n  \n    public string $search = '';\n    public array $sortBy  = ['column' =&gt; 'name', 'direction' =&gt; 'asc'];\n    public string $role   = 'all';\n    public array $roles   = [];\n  \n    public function deleteUser(User $user): void {\n        $user-&gt;delete();\n        $this-&gt;success($user-&gt;name . ' ' . __('deleted'));\n    }\n  \n    // Définir les en-têtes de table.\n    public function headers(): array {\n        $headers = [\n            ['key' =&gt; 'name',  'label' =&gt; __('Name')],\n            ['key' =&gt; 'email', 'label' =&gt; 'E-mail'],\n            ['key' =&gt; 'role',  'label' =&gt; __('Role')],\n            ['key' =&gt; 'valid', 'label' =&gt; __('Valid')],\n        ];\n      \n        if ('user' !== $this-&gt;role) {\n            $headers = array_merge($headers, [\n                ['key' =&gt; 'posts_count', 'label' =&gt; __('Posts')],\n            ]);\n        }\n      \n        return array_merge($headers, [\n            ['key' =&gt; 'comments_count', 'label' =&gt; __('Comments')],\n            ['key' =&gt; 'created_at',     'label' =&gt; __('Registration')],\n      ]);\n    }\n  \n    public function users(): LengthAwarePaginator {\n        $query = User::query()\n            -&gt;when($this-&gt;search, fn ($q) =&gt; $q\n                -&gt;where('name', 'like', \"%{$this-&gt;search}%\")\n                -&gt;orWhere('email', 'like', \"%{$this-&gt;search}%\"))\n            -&gt;when('all' !== $this-&gt;role, fn ($q) =&gt; $q\n                -&gt;where('role', $this-&gt;role))\n            -&gt;withCount('posts', 'comments')\n            -&gt;orderBy(...array_values($this-&gt;sortBy));\n      \n        $users = $query-&gt;paginate(10);\n      \n        $userCountsByRole = User::selectRaw('role, count(*) as total')\n            -&gt;groupBy('role')\n            -&gt;pluck('total', 'role');\n      \n        $totalUsers = $userCountsByRole-&gt;sum();\n      \n        $this-&gt;roles = collect([\n            'all'   =&gt; __('All') . \" ({$totalUsers})\",\n            'admin' =&gt; __('Administrators'),\n            'redac' =&gt; __('Redactors'),\n            'user'  =&gt; __('Users'),\n        ])\n        -&gt;map(function ($roleName, $roleId) use ($userCountsByRole) {\n            $count = $userCountsByRole-&gt;get($roleId, 0);\n      \n            return [\n                'name' =&gt; 'all' === $roleId ? $roleName : \"{$roleName} ({$count})\",\n                'id'   =&gt; $roleId,\n            ];\n        })\n        -&gt;values()\n        -&gt;all();\n  \n        return $users;\n    }\n  \n        public function with(): array {\n            return [\n                'users'   =&gt; $this-&gt;users(),\n                'headers' =&gt; $this-&gt;headers(),\n        ];\n    }\n}; ?&gt;\n\n&lt;div&gt;\n    &lt;x-header separator progress-indicator&gt;\n        &lt;x-slot:title&gt;\n            &lt;a href=\"/admin/dashboard\" title=\"{{ __('Back to Dashboard') }}\"&gt;\n                {{ __('Users') }}\n            &lt;/a&gt;\n        &lt;/x-slot:title&gt;\n        &lt;x-slot:middle class=\"!justify-end\"&gt;\n            &lt;x-input placeholder=\"{{ __('Search') }}...\" wire:model.live.debounce=\"search\" clearable\n                icon=\"o-magnifying-glass\" /&gt;\n        &lt;/x-slot:middle&gt;\n    &lt;/x-header&gt;\n\n\n    &lt;x-radio inline :options=\"$roles\" wire:model=\"role\" wire:change=\"$refresh\" /&gt;\n    &lt;br&gt;\n\n    &lt;x-card&gt;\n\n        @if (count($users))\n\n            &lt;x-table striped :headers=\"$headers\" :rows=\"$users\" :sort-by=\"$sortBy\" link=\"/admin/users/{id}/edit\"\n                with-pagination&gt;\n                @scope('cell_name', $user)\n                    &lt;x-avatar :image=\"Gravatar::get($user-&gt;email)\"&gt;\n                        &lt;x-slot:title&gt;\n                            {{ $user-&gt;name }}\n                        &lt;/x-slot:title&gt;\n                    &lt;/x-avatar&gt;\n                @endscope\n                @scope('cell_valid', $user)\n                    @if ($user-&gt;valid)\n                        &lt;x-icon name=\"o-check-circle\" /&gt;\n                    @endif\n                @endscope\n                @scope('cell_role', $user)\n                    @if ($user-&gt;role === 'admin')\n                        &lt;x-badge value=\"{{ __('Administrator') }}\" class=\"badge-error\" /&gt;\n                    @elseif($user-&gt;role === 'redac')\n                        &lt;x-badge value=\"{{ __('Redactor') }}\" class=\"badge-warning\" /&gt;\n                    @elseif($user-&gt;role === 'user')\n                        {{ __('User') }}\n                    @endif\n                @endscope\n                @scope('cell_posts_count', $user)\n                    @if ($user-&gt;posts_count &gt; 0)\n                        &lt;x-badge value=\"{{ $user-&gt;posts_count }}\" class=\"badge-primary\" /&gt;\n                    @endif\n                @endscope\n                @scope('cell_comments_count', $user)\n                    @if ($user-&gt;comments_count &gt; 0)\n                        &lt;x-badge value=\"{{ $user-&gt;comments_count }}\" class=\"badge-success\" /&gt;\n                    @endif\n                @endscope\n                @scope('cell_created_at', $user)\n                    {{ $user-&gt;created_at-&gt;isoFormat('LL') }}\n                @endscope\n                @scope('actions', $user)\n                    &lt;div class=\"flex\"&gt;\n                        &lt;x-popover&gt;\n                            &lt;x-slot:trigger&gt;\n                                &lt;x-button icon=\"o-envelope\" link=\"mailto:{{ $user-&gt;email }}\" no-wire-navigate spinner\n                                    class=\"text-blue-500 btn-ghost btn-sm\" /&gt;\n                            &lt;/x-slot:trigger&gt;\n                            &lt;x-slot:content class=\"pop-small\"&gt;\n                                @lang('Send an email')\n                            &lt;/x-slot:content&gt;\n                        &lt;/x-popover&gt;\n                        &lt;x-popover&gt;\n                            &lt;x-slot:trigger&gt;\n                                &lt;x-button icon=\"o-trash\" wire:click=\"deleteUser({{ $user-&gt;id }})\"\n                                    wire:confirm=\"{{ __('Are you sure to delete this user?') }}\"\n                                    confirm-text=\"Are you sure?\" spinner class=\"text-red-500 btn-ghost btn-sm\" /&gt;\n                            &lt;/x-slot:trigger&gt;\n                            &lt;x-slot:content class=\"pop-small\"&gt;\n                                @lang('Delete')\n                            &lt;/x-slot:content&gt;\n                        &lt;/x-popover&gt;\n                    &lt;/div&gt;\n                @endscope\n            &lt;/x-table&gt;\n        @else\n            &lt;p&gt;@lang('No users with these criteria').&lt;/p&gt;\n        @endif\n\n    &lt;/x-card&gt;\n&lt;/div&gt;\n</code></pre>","children":[]}],"payload":{"lines":"6205,6206","fold":1}},{"content":"Traductions Comptes","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Accounts\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Comptes\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"No users with these criteria\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Aucun utilisateur avec ces critères\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"All\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Tous\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Users list\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Liste des utilisateurs\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Administrators\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Administrateurs\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Redactors\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Rédacteurs\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Administrator\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Administrateur\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Redactor\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Rédacteur\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Role\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Rôle\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Valid\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Valide\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Valid user\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Utilisateur validé\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Send an email\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Envoyer un email\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Are you sure to delete this user?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir supprimer cet utilisateur ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Registration\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Inscription\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Back to Dashboard\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Retour sur le Tableau de Bord\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"6386,6387","fold":1}}],"payload":{"lines":"6197,6198","fold":1}}],"payload":{"lines":"6157,6158","fold":1}},{"content":"Modification de comptes","children":[{"content":"Route Modification Comptes","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-comment\">// Groupe middleware IsAdminOrRedac &gt; IsAdmin</span>\n<span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/users/{user}/edit'</span>, <span class=\"hljs-string\">'admin.users.edit'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'users.edit'</span>);\n</code></pre>","children":[]}],"payload":{"lines":"6408,6409","fold":1}},{"content":"Lien Modification Comptes","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-comment\">// Déjà fait dans affichage de la liste (Composant Comptes) :</span>\n<span class=\"hljs-comment\">// (&lt;x-table striped :headers=\"$headers\" :rows=\"$users\" :sort-by=\"$sortBy\" link=\"/admin/users/{id}/edit\" with-pagination&gt;)</span>\n</code></pre>","children":[]}],"payload":{"lines":"6415,6416","fold":1}},{"content":"Composant Modification Comptes","children":[{"content":"CLI Modification Comptes","children":[{"content":"<pre><code class=\"language-html\">php artisan make:volt admin/users/edit --class\n</code></pre>","children":[]}],"payload":{"lines":"6424,6425","fold":1}},{"content":"Code Modification Comptes","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse App\\Models\\User;\nuse Mary\\Traits\\Toast;\nuse Livewire\\Volt\\Component;\nuse Illuminate\\Validation\\Rule;\nuse Livewire\\Attributes\\Layout;\n\nnew #[Layout('components.layouts.admin')]\nclass extends Component {\n    use Toast;\n  \n    public User $user;\n    public string $name  = '';\n    public string $email = '';\n    public string $role  = '';\n    public bool $valid   = false;\n    public bool $isStudent;\n  \n    public function mount(User $user): void {\n        $this-&gt;user = $user;\n        $this-&gt;fill($this-&gt;user);\n    }\n  \n    public function save() {\n        $data = $this-&gt;validate([\n            'name'  =&gt; ['required', 'string', 'max:255'],\n            'email' =&gt; ['required', 'email', Rule::unique('users')-&gt;ignore($this-&gt;user-&gt;id)],\n            'role'  =&gt; ['required', Rule::in(['admin', 'redac', 'user'])],\n            'valid' =&gt; ['required', 'boolean'],\n        ]);\n  \n        $this-&gt;user-&gt;update($data);\n      \n        $this-&gt;success(__('User edited with success.'), redirectTo: '/admin/users/index');\n    }\n  \n    public function with(): array {\n        return [\n            'roles' =&gt; [\n                ['name' =&gt; __('Administrator'), 'id' =&gt; 'admin'],\n                ['name' =&gt; __('Redactor'), 'id' =&gt; 'redac'],\n                ['name' =&gt; __('User'), 'id' =&gt; 'user'],\n            ],\n        ];\n    }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Edit an account') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline lg:hidden\"</span>\n        <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Name') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"name\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-user\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('E-mail') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"email\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-envelope\"</span> <span class=\"hljs-attr\">inline</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-radio</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('User role') }}\"</span> <span class=\"hljs-attr\">inline</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Select a role') }}\"</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$roles\"</span>\n        <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"role\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-toggle</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Valid user') }}\"</span> <span class=\"hljs-attr\">inline</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"valid\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-right\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"6430,6431","fold":1}},{"content":"Traduction Modification Comptes","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Edit an account\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier un compte\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Select a role\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Sélectionnez un rôle\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"User edited with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Utilisateur mis à jour avec succès.\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"6506,6507","fold":1}}],"payload":{"lines":"6422,6423","fold":1}}],"payload":{"lines":"6406,6407","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-comptes\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-comptes</a></strong></em>","children":[],"payload":{"lines":"6514,6515"}}],"payload":{"lines":"6155,6156","fold":1}},{"content":"- Les Commentaires","children":[{"content":"Liste admin.comments","children":[{"content":"Route admin.comments.index","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdminOrRedac</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">prefix</span>(<span class=\"hljs-string\">'admin'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n        ...\n        <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/comments/index'</span>, <span class=\"hljs-string\">'admin.comments.index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'comments.index'</span>);\n    })\n})\n</code></pre>","children":[]}],"payload":{"lines":"6520,6521","fold":1}},{"content":"Liens comments dans admin.sidebars","children":[{"content":"<pre><code class=\"language-html\">  ...(Posts) \n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-chat-bubble-left\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Comments') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('comments.index') }}\"</span> /&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"6532,6533","fold":1}},{"content":"Composant admin.comment","children":[{"content":"<pre><code class=\"language-php\">php artisan make:volt admin/comments/index --<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span>\n</span></code></pre>","children":[]},{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse App\\Models\\Comment;\nuse Livewire\\Volt\\Component;\nuse Livewire\\WithPagination;\nuse Livewire\\Attributes\\{Layout, Title};\nuse Illuminate\\Pagination\\LengthAwarePaginator;\n\nnew #[Title('Comments'), Layout('components.layouts.admin')] \nclass extends Component {\n    use Toast, WithPagination;\n\n    public string $search = '';\n    public array $sortBy = ['column' =&gt; 'created_at', 'direction' =&gt; 'desc'];\n    public $role = 'all';\n\n    public function deleteComment(Comment $comment): void {\n        $comment-&gt;delete();\n        $this-&gt;success(__('Comment deleted'));\n    }\n\n    public function validComment(Comment $comment): void {\n        $comment-&gt;user-&gt;valid = true;\n        $comment-&gt;user-&gt;save();\n\n        $this-&gt;success(__('Comment validated'));\n    }\n\n    public function headers(): array {\n        return [['key' =&gt; 'user_name', 'label' =&gt; __('Author')], ['key' =&gt; 'body', 'label' =&gt; __('Comment'), 'sortable' =&gt; false], ['key' =&gt; 'post_title', 'label' =&gt; __('Post')], ['key' =&gt; 'created_at', 'label' =&gt; __('Sent on')]];\n    }\n\n    public function comments(): LengthAwarePaginator {\n        return Comment::query()\n            -&gt;when($this-&gt;search, fn($q) =&gt; $q-&gt;where('body', 'like', \"%{$this-&gt;search}%\"))\n            -&gt;when('post_title' === $this-&gt;sortBy['column'], fn($q) =&gt; $q-&gt;join('posts', 'comments.post_id', '=', 'posts.id')-&gt;orderBy('posts.title', $this-&gt;sortBy['direction']), fn($q) =&gt; $q-&gt;orderBy($this-&gt;sortBy['column'], $this-&gt;sortBy['direction']))\n            -&gt;when(Auth::user()-&gt;isRedac(), fn($q) =&gt; $q-&gt;whereRelation('post', 'user_id', Auth::id()))\n            -&gt;with([\n                'user:id,name,email,valid',\n                'post:id,title,slug,user_id',\n            ])\n            -&gt;withAggregate('user', 'name')\n            -&gt;paginate(10);\n    }\n\n    public function with(): array {\n        return [\n            'headers'  =&gt; $this-&gt;headers(),\n            'comments' =&gt; $this-&gt;comments(),\n        ];\n    }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Comments') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline lg:hidden\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Search') }}...\"</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"search\"</span> <span class=\"hljs-attr\">clearable</span>\n                <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-magnifying-glass\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-table</span> <span class=\"hljs-attr\">striped</span> <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">\"$headers\"</span> <span class=\"hljs-attr\">:rows</span>=<span class=\"hljs-string\">\"$comments\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/admin/comments/{id}/edit\"</span> <span class=\"hljs-attr\">:sort-by</span>=<span class=\"hljs-string\">\"$sortBy\"</span>\n            <span class=\"hljs-attr\">with-pagination</span>&gt;</span>\n            @scope('cell_created_at', $comment)\n                {{ $comment-&gt;created_at-&gt;isoFormat('LL') }} {{ __('at') }}\n                {{ $comment-&gt;created_at-&gt;isoFormat('HH:mm') }}\n            @endscope\n            @scope('cell_body', $comment)\n                {!! nl2br($comment-&gt;body) !!}\n            @endscope\n            @scope('cell_user_name', $comment)\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-avatar</span> <span class=\"hljs-attr\">:image</span>=<span class=\"hljs-string\">\"Gravatar::get($comment-&gt;user-&gt;email)\"</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:title</span>&gt;</span>\n                        {{ $comment-&gt;user-&gt;name }}\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:title</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-avatar</span>&gt;</span>\n            @endscope\n            @scope('cell_post_title', $comment)\n                {{ $comment-&gt;post-&gt;title }}\n            @endscope\n            @scope('actions', $comment)\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex\"</span>&gt;</span>\n                    @if (!$comment-&gt;user-&gt;valid)\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-eye\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"validComment({{ $comment-&gt;id }})\"</span>\n                                    <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to validate this user for comment?') }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-yellow-500 btn-ghost btn-sm\"</span> /&gt;</span>\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                                @lang('Validate the user')\n                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                    @endif\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-document-text\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('posts.show', $comment-&gt;post-&gt;slug) }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                                <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost btn-sm\"</span> /&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                            @lang('Show post')\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-trash\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"deleteComment({{ $comment-&gt;id }})\"</span>\n                                <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete this comment?') }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                                <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                            @lang('Delete')\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            @endscope\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-table</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Comment validated\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Commentaire validé\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Comment deleted\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Commentaire supprimé\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Sent on\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Envoyé le\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Post\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Article\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Are you sure to validate this user for comment?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir valider cet utilisateur pour les commentaires ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Validate the user\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Valider l'utilisateur\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"6539,6540","fold":1}}],"payload":{"lines":"6518,6519","fold":1}},{"content":"Modifier admin.comments","children":[{"content":"Route admin.comments.edit","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdminOrRedac</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">prefix</span>(<span class=\"hljs-string\">'admin'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n        ...\n        <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/comments/{comment}/edit'</span>, <span class=\"hljs-string\">'admin.comments.edit'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'comments.edit'</span>);\n    })\n})\n</code></pre>","children":[]}],"payload":{"lines":"6679,6680","fold":1}},{"content":"Liens modif. admin. Comment","children":[{"content":"\n<p data-lines=\"6693,6694\">Pour pavé Commentaires de Dashboard :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ route('comments.index') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex-grow\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{  __('All comments') }}\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-stat</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Comments') }}\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $commentsNumber }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-chat-bubble-left\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-hover\"</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"6693,6701"}},{"content":"\n<p data-lines=\"6701,6702\">Dans la liste des commentaires récents :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-eye\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('comments.edit', $comment-&gt;id) }}\"</span> <span class=\"hljs-attr\">spinner</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-ghost btn-sm\"</span> /&gt;</span>                       \n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n        @lang('Edit or answer')\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"6701,6714"}},{"content":"\n<p data-lines=\"6714,6716\">Affichage explicite d'une alerte de commentaires à valider :<br>\n(Issu(s) d'users non validés)</p>\n<pre><code class=\"language-html\">...\n@foreach ($comments as $comment)\n    @if (!$comment-&gt;user-&gt;valid)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-alert</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{!! __('Comment to valid from ') . $comment-&gt;user-&gt;name !!}\"</span> <span class=\"hljs-attr\">description</span>=<span class=\"hljs-string\">\"{!! $comment-&gt;body !!}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-chat-bubble-left\"</span>\n            <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-md alert-warning\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('comments.index') }}\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{!! __('Show this comment') !!}\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-alert</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n    @endif\n@endforeach\n... Bloc 'Recent posts'\n</code></pre>","children":[],"payload":{"lines":"6714,6733"}}],"payload":{"lines":"6691,6692","fold":1}},{"content":"Pré-requis","children":[{"content":"\n<p data-lines=\"6735,6736\">Models/Comment - Ajout de :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getDepth</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">int</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-built_in\">parent</span> ? <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-built_in\">parent</span>-&gt;<span class=\"hljs-title function_ invoke__\">getDepth</span>() + <span class=\"hljs-number\">1</span> : <span class=\"hljs-number\">0</span>;\n}\n</code></pre>","children":[],"payload":{"lines":"6735,6743"}},{"content":"\n<p data-lines=\"6743,6744\">Fichier ./config/<strong>tinymce.php</strong> :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">return</span> [\n    <span class=\"hljs-string\">'config'</span> =&gt; [\n        ...\n    ],\n    <span class=\"hljs-string\">'config_comment'</span> =&gt; [\n        <span class=\"hljs-string\">'language'</span>       =&gt; <span class=\"hljs-title function_ invoke__\">env</span>(<span class=\"hljs-string\">'APP_TINYMCE_LOCALE'</span>, <span class=\"hljs-string\">'en_US'</span>),\n        <span class=\"hljs-string\">'plugins'</span>        =&gt; <span class=\"hljs-string\">'codesample'</span>,\n        <span class=\"hljs-string\">'toolbar'</span>        =&gt; <span class=\"hljs-string\">'undo redo | styles | copy cut paste pastetext | hr | codesample'</span>,\n        <span class=\"hljs-string\">'toolbar_sticky'</span> =&gt; <span class=\"hljs-literal\">true</span>,\n        <span class=\"hljs-string\">'min_height'</span>     =&gt; <span class=\"hljs-number\">300</span>,\n        <span class=\"hljs-string\">'license_key'</span>    =&gt; <span class=\"hljs-string\">'gpl'</span>,\n    ],\n];\n</code></pre>","children":[],"payload":{"lines":"6743,6761"}}],"payload":{"lines":"6733,6734","fold":1}},{"content":"Composant admin.comments.edit","children":[{"content":"\n<p data-lines=\"6763,6764\">Création composant admin des commentaires :</p>\n<pre><code class=\"language-bash\">php artisan make:volt admin/comments/edit --class\n</code></pre>","children":[],"payload":{"lines":"6763,6769"}},{"content":"\n<p data-lines=\"6769,6770\">Code composant admin. des modifs. :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse App\\Models\\Comment;\nuse Livewire\\Volt\\Component;\nuse Livewire\\Attributes\\{Layout, Title};\n\nnew #[Title('Edit Comment'), Layout('components.layouts.admin')] \nclass extends Component {\n    use Toast;\n  \n    public Comment $comment;\n    public string $body        = '';\n    public string $body_answer = '';\n    public int $depth          = 0;\n  \n    public function mount(Comment $comment): void {\n        $this-&gt;authorizeCommentAccess($comment);\n  \n        $this-&gt;comment = $comment;\n        $this-&gt;fill($this-&gt;comment-&gt;toArray());\n        $this-&gt;depth = $this-&gt;comment-&gt;getDepth();\n    }\n  \n    public function save() {\n        $data = $this-&gt;validate([\n            'body' =&gt; 'required|max:10000',\n        ]);\n  \n        $this-&gt;comment-&gt;update($data);\n  \n        $this-&gt;success(__('Comment edited with success.'), redirectTo: '/admin/comments/index');\n    }\n  \n    public function saveAnswer() {\n        $data = $this-&gt;validate([\n            'body_answer' =&gt; 'required|max:10000',\n        ]);\n  \n        $data['body']      = $data['body_answer'];\n        $data['user_id']   = Auth::id();\n        $data['parent_id'] = $this-&gt;comment-&gt;id;\n        $data['post_id']   = $this-&gt;comment-&gt;post_id;\n  \n        Comment::create($data);\n  \n        $this-&gt;success(__('Answer created with success.'), redirectTo: '/admin/comments/index');\n    }\n  \n    private function authorizeCommentAccess(Comment $comment): void {\n        if (auth()-&gt;user()-&gt;isRedac() &amp;&amp; $comment-&gt;post-&gt;user_id !== auth()-&gt;id()) {\n          abort(403);\n      }\n    }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Edit a comment') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-textarea</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"body\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Content') }}\"</span> <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Max 10000 chars') }}\"</span> <span class=\"hljs-attr\">rows</span>=<span class=\"hljs-string\">\"5\"</span>\n                <span class=\"hljs-attr\">inline</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Cancel') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-hand-thumb-down\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n                    <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/admin/comments/index\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n\n        @if ($depth &lt; 3)\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Your answer') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"saveAnswer\"</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-editor</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"body_answer\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Content') }}\"</span> <span class=\"hljs-attr\">:config</span>=<span class=\"hljs-string\">\"config('tinymce.config_comment')\"</span> <span class=\"hljs-attr\">folder</span>=<span class=\"hljs-string\">\"photos\"</span> /&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span>\n                            <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n        @endif\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"6769,6861"}},{"content":"\n<p data-lines=\"6861,6862\">Traductions admin. modif. des commentaires :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Edit a comment\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier un commentaire\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Your answer\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Votre réponse\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Comment edited with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Commentaire mis à jour avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Answer created with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Réponse ajoutée avec succès.\"</span>\n</code></pre>","children":[],"payload":{"lines":"6861,6870"}}],"payload":{"lines":"6761,6762","fold":1}}],"payload":{"lines":"6677,6678","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-commentaires\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-commentaires</a></strong></em>","children":[],"payload":{"lines":"6870,6871"}}],"payload":{"lines":"6516,6517","fold":1}},{"content":"- Les Menus","children":[{"content":"Liste des Menus &amp; Submenus","children":[{"content":"Route admin.menus.index","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n  ...\n  <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdminOrRedac</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">prefix</span>(<span class=\"hljs-string\">'admin'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdmin</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n      ...\n      <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/menus/index'</span>, <span class=\"hljs-string\">'admin.menus.index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'menus.index'</span>);\n    });\n  });\n});\n</code></pre>","children":[]}],"payload":{"lines":"6876,6877","fold":1}},{"content":"Lien Menus dans admin.sidebar","children":[{"content":"<pre><code class=\"language-html\">... (Pages))\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-sub</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Menus') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"m-list-bullet\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Navbar') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('menus.index') }}\"</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu-sub</span>&gt;</span>\n@endif\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Navbar\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Navigation\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"6891,6892","fold":1}},{"content":"Trait ManageMenus (Menus &amp; submenus)","children":[{"content":"\n<p data-lines=\"6907,6908\">Créer un trait ./app/Traits/<strong>ManageMenus.php</strong> :</p>\n<pre><code class=\"language-html\">&lt;?php\nnamespace App\\Traits;\n\nuse Illuminate\\Support\\Collection;\nuse App\\Models\\{Category, Page, Post};\n\ntrait ManageMenus {\n  public ?int $post_id = null;\n  public Collection $postsSearchable;\n\n  public function search(string $value = ''): void {\n    $selectedOption = Post::select('id', 'title')-&gt;where('id', $this-&gt;post_id)-&gt;get();\n\n    $this-&gt;postsSearchable = Post::query()\n      -&gt;select('id', 'title')\n      -&gt;where('title', 'like', \"%{$value}%\")\n      -&gt;orderBy('title')\n      -&gt;take(5)\n      -&gt;get()\n      -&gt;merge($selectedOption);\n  }\n\n  public function changeSelection($value): void {\n    $this-&gt;updateSubProperties(['model' =&gt; Post::class, 'route' =&gt; 'posts.show'], $value);\n  }\n\n  public function updating($property, $value): void {\n    if ('' === $value) {\n      return;\n    }\n\n    $modelMap = [\n      'subPage'     =&gt; ['model' =&gt; Page::class, 'route' =&gt; 'pages.show'],\n      'subCategory' =&gt; ['model' =&gt; Category::class, 'route' =&gt; 'category'],\n    ];\n\n    if (array_key_exists($property, $modelMap)) {\n      $this-&gt;updateSubProperties($modelMap[$property], $value);\n    } elseif ('subOption' === $property) {\n      $this-&gt;resetSubProperties();\n      $this-&gt;search();\n    }\n  }\n\n  public function with(): array {\n    return [\n      'pages'      =&gt; Page::select('id', 'title', 'slug')-&gt;get(),\n      'categories' =&gt; Category::all(),\n      'subOptions' =&gt; [['id' =&gt; 1, 'name' =&gt; __('Post')], ['id' =&gt; 2, 'name' =&gt; __('Page')], ['id' =&gt; 3, 'name' =&gt; __('Category')]],\n    ];\n  }\n\n  private function updateSubProperties($modelInfo, $value): void {\n    $model = $modelInfo['model']::find($value);\n    if ($model) {\n      $this-&gt;sublabel = $model-&gt;title;\n      $this-&gt;sublink  = 'posts.show' === $modelInfo['route'] || 'pages.show' === $modelInfo['route']\n        ? route($modelInfo['route'], $model-&gt;slug)\n        : url($modelInfo['route'] . '/' . $model-&gt;slug);\n    }\n  }\n\n  private function resetSubProperties(): void {\n    $this-&gt;sublabel    = '';\n    $this-&gt;sublink     = '';\n    $this-&gt;subPost     = 0;\n    $this-&gt;subPage     = 0;\n    $this-&gt;subCategory = 0;\n    $this-&gt;subOption   = 4;  \n  }\n}\n\n</code></pre>","children":[],"payload":{"lines":"6907,6984"}}],"payload":{"lines":"6905,6906","fold":1}},{"content":"Formulaire submenus (Création &amp; Modification)","children":[{"content":"\n<p data-lines=\"6986,6987\">Créer admin.menus.<strong>submenu-form.blade.php</strong> :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"saveSubmenu({{ $menu-&gt;id ?? 'null' }})\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-radio</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$subOptions\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"subOption\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n  @if ($subOption == 1)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-choices</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Post') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"subPost\"</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$postsSearchable\"</span> <span class=\"hljs-attr\">option-label</span>=<span class=\"hljs-string\">\"title\"</span>\n      <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Select a post, type to search') }}\"</span> <span class=\"hljs-attr\">debounce</span>=<span class=\"hljs-string\">\"300ms\"</span> <span class=\"hljs-attr\">min-chars</span>=<span class=\"hljs-string\">\"2\"</span>\n      <span class=\"hljs-attr\">no-result-text</span>=<span class=\"hljs-string\">\"{{ __('No result found!') }}\"</span> <span class=\"hljs-attr\">single</span> <span class=\"hljs-attr\">searchable</span> @<span class=\"hljs-attr\">change-selection</span>=<span class=\"hljs-string\">\"$wire.changeSelection($event.detail.value)\"</span> /&gt;</span>\n  @elseif($subOption == 2)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-select</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Page') }}\"</span> <span class=\"hljs-attr\">option-label</span>=<span class=\"hljs-string\">\"title\"</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$pages\"</span>\n      <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Select a page') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"subPage\"</span>\n      <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n  @elseif($subOption == 3)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-select</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Category') }}\"</span> <span class=\"hljs-attr\">option-label</span>=<span class=\"hljs-string\">\"title\"</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$categories\"</span>\n      <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"{{ __('Select a category') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"subCategory\"</span>\n      <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n  @endif\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"sublabel\"</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"sublink\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Link') }}\"</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span>\n    <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"6986,7013"}}],"payload":{"lines":"6984,6985","fold":1}},{"content":"Composant Liste des Menus (admin.menus.index)","children":[{"content":"Création admin.menus.index","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/menus/index --class\n</code></pre>","children":[]}],"payload":{"lines":"7015,7016","fold":1}},{"content":"Code admin.menus.index","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse App\\Traits\\ManageMenus;\nuse Livewire\\Volt\\Component;\nuse App\\Models\\{Menu, Submenu};\nuse Illuminate\\Support\\Collection;\nuse Livewire\\Attributes\\{Layout, Title, Validate};\nuse Illuminate\\Contracts\\Database\\Eloquent\\Builder;\n\nnew #[Title('Nav Menu'), Layout('components.layouts.admin')]\nclass extends Component {\n  use Toast;\n  use ManageMenus;\n  \n  public Collection $menus;\n  \n  #[Validate('required|max:255|unique:menus,label')]\n  public string $label = '';\n  \n  #[Validate('nullable|regex:/\\/([a-z0-9_-]\\/*)*[a-z0-9_-]*/')]\n  public string $link = '';\n  \n  public string $sublabel = '';\n  public string $sublink  = '';\n  public int $subPost     = 0;\n  public int $subPage     = 0;\n  public int $subCategory = 0;\n  public int $subOption   = 4;\n  \n  // Méthode appelée lors de l'initialisation du composant.\n  public function mount(): void {\n    $this-&gt;getMenus();\n    $this-&gt;search();\n  }\n  \n  // Récupérer les menus avec leurs sous-menus triés par ordre.\n  public function getMenus(): void {\n    $this-&gt;menus = Menu::with([\n      'submenus' =&gt; function (Builder $query) {\n        $query-&gt;orderBy('order');\n      },\n    ])\n      -&gt;orderBy('order')\n      -&gt;get();\n  }\n  \n  public function up(Menu $menu): void {\n    $this-&gt;move($menu, 'up');\n  }\n  \n  public function upSub(Submenu $submenu): void {\n  $this-&gt;move($submenu, 'up', true);\n  }\n  \n  public function down(Menu $menu): void {\n    $this-&gt;move($menu, 'down');\n  }\n  \n  public function downSub(Submenu $submenu): void {\n    $this-&gt;move($submenu, 'down', true);\n  }\n  \n  public function deleteMenu(Menu $menu): void {\n    $this-&gt;deleteItem($menu);\n  }\n  \n  public function deleteSubmenu(Menu $menu, Submenu $submenu): void {\n    $this-&gt;deleteItem($submenu, $menu);\n  }\n  \n  // Enregistrer un nouveau menu.\n  public function saveMenu(): void {\n    $data          = $this-&gt;validate();\n    $data['order'] = $this-&gt;menus-&gt;count() + 1;\n    Menu::create($data);\n\n    $this-&gt;success(__('Menu created with success.'), redirectTo: '/admin/menus/index');\n  }\n  \n  // Enregistrer un nouveau sous-menu.\n  public function saveSubmenu(Menu $menu): void {\n    $data = $this-&gt;validate([\n      'sublabel' =&gt; ['required', 'string', 'max:255'],\n      'sublink'  =&gt; 'required|regex:/\\/([a-z0-9_-]\\/*)*[a-z0-9_-]*/',\n    ]);\n\n    $data['order'] = $menu-&gt;submenus-&gt;count() + 1;\n    $data['label'] = $this-&gt;sublabel;\n    $data['link']  = $this-&gt;sublink;\n\n    $menu-&gt;submenus()-&gt;save(new Submenu($data));\n\n    $this-&gt;sublabel = '';\n    $this-&gt;sublink  = '';\n\n    $this-&gt;success(__('Submenu created with success.'));\n  }\n  \n  // Méthode générique pour déplacer un élément (menu ou sous-menu)\n  private function move($item, $direction, $isSubmenu = false): void {\n    $operator       = 'up' === $direction ? '&lt;' : '&gt;';\n    $orderDirection = 'up' === $direction ? 'desc' : 'asc';\n\n    $query = $isSubmenu ? Submenu::where('menu_id', $item-&gt;menu_id) : Menu::query();\n\n    $adjacentItem = $query\n      -&gt;where('order', $operator, $item-&gt;order)\n      -&gt;orderBy('order', $orderDirection)\n      -&gt;first();\n\n    if ($adjacentItem) {\n      $this-&gt;swap($item, $adjacentItem);\n    }\n  }\n  \n  private function swap($item1, $item2): void {\n    $tempOrder    = $item1-&gt;order;\n    $item1-&gt;order = $item2-&gt;order;\n    $item2-&gt;order = $tempOrder;\n\n    $item1-&gt;save();\n    $item2-&gt;save();\n\n    $this-&gt;getMenus();\n  }\n  \n  // Méthode générique pour supprimer un élément (menu ou sous-menu)\n  private function deleteItem($item, $parent = null): void {\n    $isSubmenu = null !== $parent;\n\n    $item-&gt;delete();\n\n    if ($isSubmenu) {\n      $this-&gt;reorderItems($parent-&gt;submenus());\n    } else {\n      $this-&gt;reorderItems(Menu::query());\n    }\n\n    $this-&gt;getMenus();\n    $this-&gt;success(__($isSubmenu ? 'Submenu' : 'Menu') . __(' deleted with success.'));\n  }\n  \n  // Méthode générique pour réordonner les éléments\n  private function reorderItems($query): void {\n    $items = $query-&gt;orderBy('order')-&gt;get();\n    foreach ($items as $index =&gt; $item) {\n      $item-&gt;order = $index + 1;\n      $item-&gt;save();\n    }\n  }\n};?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Navigation') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n        <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n    @foreach ($menus as $menu)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-list-item</span> <span class=\"hljs-attr\">:item</span>=<span class=\"hljs-string\">\"$menu\"</span> <span class=\"hljs-attr\">no-separator</span> <span class=\"hljs-attr\">no-hover</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:value</span>&gt;</span>\n        {{ $menu-&gt;label }}\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:value</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:sub-value</span>&gt;</span>\n        @if ($menu-&gt;link)\n        {{ $menu-&gt;link }}\n        @else\n        @lang('Root menu')\n        @endif\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:sub-value</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        @if ($menu-&gt;order &gt; 1)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-chevron-up\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"up({{ $menu-&gt;id }})\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n            @lang('Up')\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n        @endif\n        @if ($menu-&gt;order &lt; $menus-&gt;count())\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-chevron-down\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"down({{ $menu-&gt;id }})\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n              @lang('Down')\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n          @endif\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-arrow-path-rounded-square\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"#\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-blue-500 btn-ghost btn-sm\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n              @lang('Edit')\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-trash\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"deleteMenu({{ $menu-&gt;id }})\"</span>\n                <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete this menu?') }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n              @lang('Delete')\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-list-item</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span> <span class=\"hljs-attr\">collapse-plus-minus</span> <span class=\"hljs-attr\">no-icon</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"ml-8\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"o-chevron-down\"</span> /&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pl-2 text-sm\"</span>&gt;</span>{{ __('Submenus') }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n        @foreach ($menu-&gt;submenus as $submenu)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-list-item</span> <span class=\"hljs-attr\">:item</span>=<span class=\"hljs-string\">\"$menu\"</span> <span class=\"hljs-attr\">no-separator</span> <span class=\"hljs-attr\">no-hover</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:value</span>&gt;</span>\n            {{ $submenu-&gt;label }}\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:value</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:sub-value</span>&gt;</span>\n            {{ $submenu-&gt;link }}\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:sub-value</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n            @if ($submenu-&gt;order &gt; 1)\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-chevron-up\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"upSub({{ $submenu-&gt;id }})\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                @lang('Up')\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            @endif\n            @if ($submenu-&gt;order &lt; $menu-&gt;submenus-&gt;count())\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-chevron-down\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"downSub({{ $submenu-&gt;id }})\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                  @lang('Down')\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n              @endif\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-arrow-path-rounded-square\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"#\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-blue-500 btn-ghost btn-sm\"</span>\n                    <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                  @lang('Edit')\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-trash\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"deleteSubmenu({{ $menu-&gt;id }}, {{ $submenu-&gt;id }})\"</span>\n                    <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete this menu?') }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                  @lang('Delete')\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-list-item</span>&gt;</span>\n        @endforeach\n\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Create a new submenu') }}\"</span>&gt;</span>\n          @include('livewire.admin.menus.submenu-form')\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n    @endforeach\n\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Create a new menu') }}\"</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"saveMenu\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"label\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"link\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Link') }}\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"7021,7022","fold":1}},{"content":"Traductions Liste Menus","children":[{"content":"\n<p data-lines=\"7325,7326\">N.B.: <em>\"Edit\" existe déjà, mais est remplacé ici</em></p>\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Submenus\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Sous-menus\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Edit a submenu\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier un sous-menu\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Create a new menu\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Créer un nouveau menu\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Are you sure to delete this menu?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir supprimer ce menu ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Menu created with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Menu ajouté avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Menu updated with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Menu mis à jour avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Edit a menu\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier un menu\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Create a new submenu\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Créer un nouveau sous-menu\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Submenu created with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Sous-menu créé avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Other\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Autre\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Are you sure to delete this submenu?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir supprimer ce sous-menu ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\" deleted with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\" supprimé avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Select a page\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Sélectionner une page\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Root menu\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Menu racine\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Submenu\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Sous-menu\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"sublink\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Lien\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"sublabel\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Titre\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Edit\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Link\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Lien\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Select a post, type to search\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Sélectionnez un article, tapez pour rechercher\"</span>\n</code></pre>\n<br>","children":[],"payload":{"lines":"7325,7351"}},{"content":"\n<p data-lines=\"7351,7352\">Ajouter aussi dans lang/fr/<strong>validation.php</strong>, dans le tableau: 'attributes'  =&gt; [...] :</p>\n<pre><code class=\"language-json\">  \"label\"    =&gt; \"Titre\",\n  \"sublabel\" =&gt; \"Titre\",\n  \"lien\"     =&gt; \"Lien\",\n  \"sublink\"  =&gt; \"Lien\",\n</code></pre>","children":[],"payload":{"lines":"7351,7360"}}],"payload":{"lines":"7323,7324","fold":1}}],"payload":{"lines":"7013,7014","fold":1}}],"payload":{"lines":"6874,6875","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-menus-partie-1\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-menus-partie-1</a></strong></em>","children":[],"payload":{"lines":"7360,7361"}},{"content":"Modification d'un menu","children":[{"content":"Route admin.menus.edit","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n  ...\n  <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdminOrRedac</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">prefix</span>(<span class=\"hljs-string\">'admin'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdmin</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n      ...\n      <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/menus/{menu}/edit'</span>, <span class=\"hljs-string\">'admin.menus.edit'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'menus.edit'</span>);\n    });\n  });\n});\n</code></pre>","children":[]}],"payload":{"lines":"7364,7365","fold":1}},{"content":"Lien Modification de Menus dans la liste (admin.menus.index)","children":[{"content":"<pre><code class=\"language-html\">@if ($menu-&gt;order &lt; $menus-&gt;count())\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n    ...\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n@endif\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-arrow-path-rounded-square\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('menus.edit', $menu-&gt;id) }}\"</span>\n    <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-blue-500 btn-ghost btn-sm\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n  ...\n</code></pre>","children":[]}],"payload":{"lines":"7379,7380","fold":1}},{"content":"Composant modification d'un menu (admin.menus.edit)","children":[{"content":"Création admin.menus.edit","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/menus/edit --class\n</code></pre>","children":[]}],"payload":{"lines":"7396,7397","fold":1}},{"content":"Code admin.menus.edit","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse App\\Models\\Menu;\nuse Mary\\Traits\\Toast;\nuse Livewire\\Volt\\Component;\nuse Illuminate\\Validation\\Rule;\nuse Livewire\\Attributes\\{Layout, Title};\n\nnew #[Title('Edit menu'), Layout('components.layouts.admin')]\nclass extends Component {\n  use Toast;\n\n  public Menu $menu;\n  public string $label = '';\n  public ?string $link = null;\n\n  public function mount(Menu $menu): void {\n    $this-&gt;menu = $menu;\n    $this-&gt;fill($this-&gt;menu);\n  }\n\n  public function save(): void {\n    $data = $this-&gt;validate([\n      'label' =&gt; ['required', 'string', 'max:255', Rule::unique('menus')-&gt;ignore($this-&gt;menu-&gt;id)],\n      'link' =&gt; 'nullable|regex:/\\/([a-z0-9_-]\\/*)*[a-z0-9_-]*/',\n    ]);\n\n    $this-&gt;menu-&gt;update($data);\n\n    $this-&gt;success(__('Menu updated with success.'), redirectTo: '/admin/menus/index');\n  }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Edit a menu') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n        <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"label\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"link\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Link') }}\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span>\n            <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"7402,7403","fold":1}}],"payload":{"lines":"7394,7395","fold":1}}],"payload":{"lines":"7362,7363","fold":1}},{"content":"Modification d'un submenu","children":[{"content":"Route admin.menus.editsub","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/submenus/{submenu}/edit'</span>, <span class=\"hljs-string\">'admin.menus.editsub'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'submenus.edit'</span>);\n</code></pre>","children":[]}],"payload":{"lines":"7459,7460","fold":1}},{"content":"Lien Modification d'un submenu dans la liste (admin.menus.index)","children":[{"content":"<pre><code class=\"language-html\">@if ($submenu-&gt;order &lt; $menu-&gt;submenus-&gt;count())\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n    ...\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n@endif\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-arrow-path-rounded-square\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('submenus.edit', $submenu-&gt;id) }}\"</span><span class=\"hljs-attr\">...</span>(<span class=\"hljs-attr\">À</span> <span class=\"hljs-attr\">la</span> <span class=\"hljs-attr\">place</span> <span class=\"hljs-attr\">du</span> '#')\n  <span class=\"hljs-attr\">...</span>\n</span></code></pre>","children":[]}],"payload":{"lines":"7465,7466","fold":1}},{"content":"Composant modification d'un sous-menu (admin.menus.editsub)","children":[{"content":"Création admin.menus.editsub","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/menus/editsub --class\n</code></pre>","children":[]}],"payload":{"lines":"7481,7482","fold":1}},{"content":"Code admin.menus.editsub","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse App\\Models\\Submenu;\nuse App\\Traits\\ManageMenus;\nuse Livewire\\Volt\\Component;\nuse Livewire\\Attributes\\{Layout, Title};\n\nnew #[Title('Edit Submenu'), Layout('components.layouts.admin')] class extends Component {\n  use Toast, ManageMenus;\n\n  public Submenu $submenu;\n  public string $sublabel = '';\n  public string $sublink  = '';\n  public int $subPost     = 0;\n  public int $subPage     = 0;\n  public int $subCategory = 0;\n  public int $subOption   = 1;\n\n  public function mount(Submenu $submenu): void {\n    $this-&gt;submenu  = $submenu;\n    $this-&gt;sublabel = $submenu-&gt;label;\n    $this-&gt;sublink  = $submenu-&gt;link;\n    $this-&gt;search();\n  }\n\n  public function saveSubmenu($menu = null): void {\n    $data = $this-&gt;validate([\n      'sublabel' =&gt; ['required', 'string', 'max:255'],\n      'sublink'  =&gt; 'required|regex:/\\/([a-z0-9_-]\\/*)*[a-z0-9_-]*/',\n    ]);\n\n    $this-&gt;submenu-&gt;update([\n      'label' =&gt; $data['sublabel'],\n      'link'  =&gt; $data['sublink'],\n    ]);\n\n    $this-&gt;success(__('Menu updated with success.'), redirectTo: '/admin/menus/index');\n  }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Edit a submenu') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n        <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n    @include('livewire.admin.menus.submenu-form')\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"7487,7488","fold":1}}],"payload":{"lines":"7479,7480","fold":1}}],"payload":{"lines":"7457,7458","fold":1}},{"content":"Le menu du footer","children":[{"content":"Route admin.menus.footers","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/footers/index'</span>, <span class=\"hljs-string\">'admin.menus.footers'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'menus.footers'</span>);\n</code></pre>","children":[]}],"payload":{"lines":"7545,7546"}},{"content":"Lien du menu du footer dans la sidebar (admin.sidebar)","children":[{"content":"<pre><code class=\"language-html\">@if (Auth::user()-&gt;isAdmin())\n  ...\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-sub</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Menus') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"m-list-bullet\"</span>&gt;</span>\n    ...\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Footer') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('menus.footers') }}\"</span> /&gt;</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Footer\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Pied de page\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"7551,7552"}},{"content":"Composant menu du footer (admin.menus.footers)","children":[{"content":"Création admin.menus.footers","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/menus/footers --class\n</code></pre>","children":[]}],"payload":{"lines":"7567,7568","fold":1}},{"content":"Code admin.menus.footers","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse App\\Models\\{Footer};\nuse Livewire\\Volt\\Component;\nuse Illuminate\\Support\\Collection;\nuse Livewire\\Attributes\\{Layout, Validate, Title};\n\nnew #[Title('Footer Menu'), Layout('components.layouts.admin')]\nclass extends Component {\n  use Toast;\n  \n  public Collection $footers;\n  \n  #[Validate('required|max:255|unique:footers,label')]\n  public string $label = '';\n  \n  #[Validate('nullable|regex:/\\/([a-z0-9_-]\\/*)*[a-z0-9_-]*/')]\n  public string $link = '';\n  \n  public function mount(): void {\n    $this-&gt;getFooters();\n  }\n  \n  public function getFooters(): void {\n    $this-&gt;footers = Footer::orderBy('order')-&gt;get();\n  }\n  \n  public function up(Footer $footer): void {\n    $previousFooter = Footer::where('order', '&lt;', $footer-&gt;order)\n      -&gt;orderBy('order', 'desc')\n      -&gt;first();\n\n    $this-&gt;swap($footer, $previousFooter);\n  }\n  \n  public function down(Footer $footer): void {\n    $previousFooter = Footer::where('order', '&gt;', $footer-&gt;order)\n      -&gt;orderBy('order', 'asc')\n      -&gt;first();\n\n    $this-&gt;swap($footer, $previousFooter);\n  }\n  \n  public function deleteFooter(Footer $footer): void {\n    $footer-&gt;delete();\n    $this-&gt;reorderFooters();\n    $this-&gt;getFooters();\n    $this-&gt;success(__('Footer deleted with success.'));\n  }\n  \n  public function saveFooter(): void {\n    $data          = $this-&gt;validate();\n    $data['order'] = $this-&gt;footers-&gt;count() + 1;\n    $newFooter     = Footer::create($data);\n    $this-&gt;footers-&gt;push($newFooter);\n    $this-&gt;success(__('Footer created with success.'));\n  }\n  \n  private function swap(Footer $footer, Footer $previousFooter): void {\n    $tempOrder             = $footer-&gt;order;\n    $footer-&gt;order         = $previousFooter-&gt;order;\n    $previousFooter-&gt;order = $tempOrder;\n\n    $footer-&gt;save();\n    $previousFooter-&gt;save();\n    $this-&gt;getFooters();\n  }\n  \n  private function reorderFooters(): void {\n    $footers = Footer::orderBy('order')-&gt;get();\n    foreach ($footers as $index =&gt; $footer) {\n      $footer-&gt;order = $index + 1;\n      $footer-&gt;save();\n    }\n  }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Footer') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n        <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n    @foreach ($footers as $footer)\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-list-item</span> <span class=\"hljs-attr\">:item</span>=<span class=\"hljs-string\">\"$footer\"</span> <span class=\"hljs-attr\">no-separator</span> <span class=\"hljs-attr\">no-hover</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:value</span>&gt;</span>\n          {{ $footer-&gt;label }}\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:value</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:sub-value</span>&gt;</span>\n          {{ $footer-&gt;link }}\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:sub-value</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n          @if ($footer-&gt;order &gt; 1)\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-chevron-up\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"up({{ $footer-&gt;id }})\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                @lang('Up')\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n          @endif\n          @if ($footer-&gt;order &lt; $footers-&gt;count())\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-chevron-down\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"down({{ $footer-&gt;id }})\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                @lang('Down')\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n          @endif\n\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-arrow-path-rounded-square\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('footers.edit', $footer-&gt;id) }}\"</span>\n                <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-blue-500 btn-ghost   btn-sm\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n                @lang('Edit')\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-trash\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"deleteFooter({{ $footer-&gt;id }})\"</span>\n                <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete this footer?') }}\"</span> <span class=\"hljs-attr\">spinner</span>\n                <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n              @lang('Delete')\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-list-item</span>&gt;</span>\n    @endforeach\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Create a new footer') }}\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"saveFooter\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"label\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"link\"</span>\n        <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Link') }} ({{ __('i.e.') }}: /{{ __('my_page') }}, /pages/slug {{ __('or') }} /pages/{{ strtolower(__('Folder')) }}/  {{ __('my_page') }}-1)\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span>\n          <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Edit a footer\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier le pied de page\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Footer deleted with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Pied de page supprimé avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Create a new footer\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Créer un nouveau pied de page\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Are you sure to delete this footer?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir supprimer ce menu de pied de page ?\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"7573,7574","fold":1}},{"content":"Traductions admin.menus.footers","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Edit a footer\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifier le pied de page\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Footer deleted with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Pied de page supprimé avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Create a new footer\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Créer un nouveau pied de page\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Are you sure to delete this footer?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir supprimer ce menu de pied de page ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"i.e.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Ex. \"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"my_page\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"ma_page\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"or\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"ou\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Folder\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Dossier\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"7738,7739","fold":1}}],"payload":{"lines":"7565,7566"}}],"payload":{"lines":"7543,7544","fold":1}},{"content":"Modification du menu du footer","children":[{"content":"Route admin.menus.editfooter","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/footers/{footer}/edit'</span>, <span class=\"hljs-string\">'admin.menus.editfooter'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'footers.edit'</span>);\n</code></pre>","children":[]}],"payload":{"lines":"7753,7754"}},{"content":"Lien Modification d'un menu du footer dans la liste (admin.menus.footer)","children":[{"content":"\n<p data-lines=\"7761,7762\">(<em>Déjà posé dans le code</em>)</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-arrow-path-rounded-square\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('footers.edit', $footer-&gt;id) }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-blue-500 btn-ghost btn-sm\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"7761,7767"}}],"payload":{"lines":"7759,7760"}},{"content":"Composant modification d'un menu footer (admin.menus.editfooter)","children":[{"content":"Création admin.menus.editfooter","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/menus/editfooter --class\n</code></pre>","children":[]}],"payload":{"lines":"7769,7770","fold":1}},{"content":"Code admin.menus.editfooter","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse App\\Models\\Footer;\nuse Livewire\\Volt\\Component;\nuse Illuminate\\Validation\\Rule;\nuse Livewire\\Attributes\\{Layout, Title};\n\nnew #[Title('Edit Footer'), Layout('components.layouts.admin')] \nclass extends Component {\n  use Toast;\n  \n  public Footer $footer;\n  public string $label = '';\n  public string $link  = '';\n  \n  public function mount(Footer $footer): void {\n    $this-&gt;footer = $footer;\n    $this-&gt;fill($this-&gt;footer);\n  }\n  \n  public function save(): void {\n    $data = $this-&gt;validate([\n      'label' =&gt; ['required', 'string', 'max:255', Rule::unique('footers')-&gt;ignore($this-&gt;footer-&gt;id)],\n      'link'  =&gt; 'regex:/\\/([a-z0-9_-]\\/*)*[a-z0-9_-]*/',\n    ]);\n\n    $this-&gt;footer-&gt;update($data);\n\n    $this-&gt;success(__('Footer updated with success.'), redirectTo: '/admin/footers/index');\n  }\n}; ?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Edit a footer') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n        <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Title') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"label\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"link\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Link') }}\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span>\n        <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Footer updated with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Pied de page mis à jour avec succès\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"7775,7776","fold":1}}],"payload":{"lines":"7767,7768"}}],"payload":{"lines":"7751,7752","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-menus-partie-2\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-menus-partie-2</a></strong></em>","children":[],"payload":{"lines":"7834,7835"}}],"payload":{"lines":"6872,6873","fold":1}},{"content":"- Les Médias","children":[{"content":"1 ) &nbsp;Gestion des Images","children":[{"content":"Route admin.images.index","children":[{"content":"\n<p data-lines=\"7842,7844\">À noter : La route images.edit est créée 'en avance' car nécessaire dans la vue images.index<br>\n(<em>Cela évite une erreur à l'affichage si on clique maintenant sur le lien de la sidebar...</em>)</p>\n<pre><code class=\"language-php\"><span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n  ...\n  <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdminOrRedac</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">prefix</span>(<span class=\"hljs-string\">'admin'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdmin</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n      ...\n      <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/images/index'</span>, <span class=\"hljs-string\">'admin.images.index'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'images.index'</span>);\n      <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/images/{year}/{month}/{id}/edit'</span>, <span class=\"hljs-string\">'admin.images.edit'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'images.edit'</span>);\n</code></pre>","children":[],"payload":{"lines":"7842,7856"}}],"payload":{"lines":"7840,7841","fold":1}},{"content":"Lien admin.images.index dans admin.sidebar","children":[{"content":"<pre><code class=\"language-html\">    ...  \n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-menu-sub</span>&gt;</span>\n  @if (Auth::user()-&gt;isAdmin())\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-photo\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Images') }}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('images.index') }}\"</span> /&gt;</span>\n    ... (Accounts)\n  @endif\n@endif\n</code></pre>","children":[]}],"payload":{"lines":"7856,7857","fold":1}},{"content":"Composant admin.images.index","children":[{"content":"Création composant admin.images.index","children":[{"content":"<pre><code class=\"language-bash\">php artisan make:volt admin/images/index --class\n</code></pre>","children":[]}],"payload":{"lines":"7870,7871","fold":1}},{"content":"Code composant admin.images.index","children":[{"content":"À noter : La fonction \"Gérer l'image\" n'est pas encore codée","children":[],"payload":{"lines":"7878,7879"}},{"content":"<em>Le code étant un peu long, il est scindé en 2 fichiers</em> <strong>:</strong>","children":[],"payload":{"lines":"7880,7881"}},{"content":"<strong>PHP</strong> : Créer admin/images/<strong>index_images.php</strong>","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Mary</span>\\<span class=\"hljs-title\">Traits</span>\\<span class=\"hljs-title\">Toast</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Volt</span>\\<span class=\"hljs-title\">Component</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">WithPagination</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Collection</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Facades</span>\\<span class=\"hljs-title\">Storage</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Attributes</span>\\{<span class=\"hljs-title\">Layout</span>, <span class=\"hljs-title\">Title</span>};\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Pagination</span>\\<span class=\"hljs-title\">LengthAwarePaginator</span>;\n\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-meta\">#[Title</span>(<span class=\"hljs-string\">'Images'</span>)<span class=\"hljs-meta\">]</span> <span class=\"hljs-meta\">#[Layout</span>(<span class=\"hljs-string\">'components.layouts.admin'</span>)<span class=\"hljs-meta\">]</span>\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Toast</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">WithPagination</span>;\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">array</span> <span class=\"hljs-variable\">$allImages</span> = [];\n  <span class=\"hljs-keyword\">public</span> Collection <span class=\"hljs-variable\">$years</span>;\n  <span class=\"hljs-keyword\">public</span> Collection <span class=\"hljs-variable\">$months</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-variable\">$selectedYear</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-variable\">$selectedMonth</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$perPage</span> = <span class=\"hljs-number\">10</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$page</span>    = <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-variable\">$myDirectory</span>;\n\n  <span class=\"hljs-comment\">// Définir les en-têtes de table.</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">headers</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">array</span> </span>{\n    <span class=\"hljs-keyword\">return</span> [\n      [<span class=\"hljs-string\">'key'</span> =&gt; <span class=\"hljs-string\">'image'</span>, <span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Image'</span>], <span class=\"hljs-comment\">// Colonne ne correspondant pas à un champs de la BdD</span>\n      [<span class=\"hljs-string\">'key'</span> =&gt; <span class=\"hljs-string\">'path'</span>, <span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Path'</span>) . <span class=\"hljs-string\">' (/photos/)'</span>],\n      [<span class=\"hljs-string\">'key'</span> =&gt; <span class=\"hljs-string\">'actions'</span>, <span class=\"hljs-string\">'label'</span> =&gt; <span class=\"hljs-string\">'Actions'</span>, <span class=\"hljs-string\">'class'</span> =&gt; <span class=\"hljs-string\">'bg-red-500/10 text-center'</span>], <span class=\"hljs-comment\">// 3 colonnes groupées</span>\n    ];\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;years  = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getYears</span>();\n    <span class=\"hljs-variable language_\">$this</span>-&gt;months = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getMonths</span>(<span class=\"hljs-variable\">$this</span>-&gt;selectedYear);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getImages</span>();\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">updating</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$property</span>, <span class=\"hljs-variable\">$value</span></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">'selectedYear'</span> == <span class=\"hljs-variable\">$property</span>) {\n      <span class=\"hljs-variable language_\">$this</span>-&gt;months = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getMonths</span>(<span class=\"hljs-variable\">$value</span>);\n    }\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getImages</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">LengthAwarePaginator</span> </span>{\n    <span class=\"hljs-variable\">$imagesPath</span> = <span class=\"hljs-string\">\"photos/<span class=\"hljs-subst\">{$this-&gt;selectedYear}</span>/<span class=\"hljs-subst\">{$this-&gt;selectedMonth}</span>\"</span>;\n    <span class=\"hljs-variable\">$allFiles</span>   = <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">files</span>(<span class=\"hljs-variable\">$imagesPath</span>);\n\n    <span class=\"hljs-variable language_\">$this</span>-&gt;allImages = <span class=\"hljs-title function_ invoke__\">collect</span>(<span class=\"hljs-variable\">$allFiles</span>)\n      -&gt;<span class=\"hljs-title function_ invoke__\">map</span>(function (<span class=\"hljs-variable\">$file</span>) {\n        <span class=\"hljs-keyword\">return</span> [\n          <span class=\"hljs-string\">'path'</span> =&gt; (<span class=\"hljs-title function_ invoke__\">strlen</span>(<span class=\"hljs-variable\">$file</span>) &gt; <span class=\"hljs-number\">30</span>) ? <span class=\"hljs-title function_ invoke__\">substr</span>(<span class=\"hljs-variable\">$file</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">13</span>) . <span class=\"hljs-string\">' ... '</span> . <span class=\"hljs-title function_ invoke__\">substr</span>(<span class=\"hljs-variable\">$file</span>, -<span class=\"hljs-number\">9</span>) : <span class=\"hljs-title function_ invoke__\">substr</span>(<span class=\"hljs-variable\">$file</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">23</span>),\n          <span class=\"hljs-comment\">// 'path' =&gt; $file,</span>\n          <span class=\"hljs-string\">'url'</span> =&gt; <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">url</span>(<span class=\"hljs-variable\">$file</span>),\n        ];\n      })\n      -&gt;<span class=\"hljs-title function_ invoke__\">toArray</span>();\n\n    <span class=\"hljs-variable language_\">$this</span>-&gt;page = <span class=\"hljs-title class_\">LengthAwarePaginator</span>::<span class=\"hljs-title function_ invoke__\">resolveCurrentPage</span>(<span class=\"hljs-string\">'page'</span>);\n    <span class=\"hljs-variable\">$total</span>      = <span class=\"hljs-title function_ invoke__\">count</span>(<span class=\"hljs-variable\">$this</span>-&gt;allImages);\n    <span class=\"hljs-variable\">$images</span>     = <span class=\"hljs-title function_ invoke__\">array_slice</span>(<span class=\"hljs-variable\">$this</span>-&gt;allImages, (<span class=\"hljs-variable\">$this</span>-&gt;page - <span class=\"hljs-number\">1</span>) * <span class=\"hljs-variable language_\">$this</span>-&gt;perPage, <span class=\"hljs-variable language_\">$this</span>-&gt;perPage, <span class=\"hljs-literal\">true</span>);\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LengthAwarePaginator</span>(<span class=\"hljs-variable\">$images</span>, <span class=\"hljs-variable\">$total</span>, <span class=\"hljs-variable language_\">$this</span>-&gt;perPage, <span class=\"hljs-variable language_\">$this</span>-&gt;page, [\n      <span class=\"hljs-string\">'path'</span>     =&gt; <span class=\"hljs-title class_\">LengthAwarePaginator</span>::<span class=\"hljs-title function_ invoke__\">resolveCurrentPath</span>(),\n      <span class=\"hljs-string\">'pageName'</span> =&gt; <span class=\"hljs-string\">'page'</span>,\n    ]);\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">deleteImage</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$index</span></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable\">$url</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;allImages[<span class=\"hljs-variable\">$index</span>][<span class=\"hljs-string\">'url'</span>];\n\n    <span class=\"hljs-comment\">// Trouver la position de '/storage'</span>\n    <span class=\"hljs-variable\">$pos</span> = <span class=\"hljs-title function_ invoke__\">strpos</span>(<span class=\"hljs-variable\">$url</span>, <span class=\"hljs-string\">'/storage'</span>);\n    <span class=\"hljs-comment\">// Extraire la partie de l'URL après '/storage'</span>\n    <span class=\"hljs-variable\">$path</span> = <span class=\"hljs-title function_ invoke__\">substr</span>(<span class=\"hljs-variable\">$url</span>, <span class=\"hljs-variable\">$pos</span> + <span class=\"hljs-title function_ invoke__\">strlen</span>(<span class=\"hljs-string\">'/storage'</span>));\n    <span class=\"hljs-comment\">// dd($index, $url, $relativePath);</span>\n\n    <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">delete</span>(<span class=\"hljs-variable\">$path</span>);\n\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Image deleted with success.'</span>));\n\n    <span class=\"hljs-comment\">// $this-&gt;getImages();</span>\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">deleteDirectoryIfEmpty</span>();\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">deleteDirectoryIfEmpty</span>(<span class=\"hljs-params\"></span>) </span>{\n    <span class=\"hljs-variable\">$directory</span> = <span class=\"hljs-string\">\"photos/<span class=\"hljs-subst\">{$this-&gt;selectedYear}</span>/<span class=\"hljs-subst\">{$this-&gt;selectedMonth}</span>\"</span>;\n    <span class=\"hljs-variable\">$files</span>     = <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">files</span>(<span class=\"hljs-variable\">$directory</span>);\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> == <span class=\"hljs-title function_ invoke__\">count</span>(<span class=\"hljs-variable\">$files</span>)) {\n      <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">deleteDirectory</span>(<span class=\"hljs-variable\">$directory</span>);\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Image and empty directory deleted with success.'</span>));\n      <span class=\"hljs-title function_ invoke__\">redirect</span>()-&gt;<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'images.index'</span>);\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-comment\">// $this-&gt;error(__('Directory is not empty.'));</span>\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Image deleted with success.'</span>));\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getImages</span>();\n    }\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">with</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">array</span> </span>{\n    <span class=\"hljs-keyword\">return</span> [\n      <span class=\"hljs-string\">'headers'</span> =&gt; <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">headers</span>(),\n      <span class=\"hljs-string\">'images'</span>  =&gt; <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getImages</span>(),\n    ];\n  }\n\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getYears</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">Collection</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getDirectories</span>(<span class=\"hljs-string\">'photos'</span>, function (<span class=\"hljs-variable\">$years</span>) {\n      <span class=\"hljs-variable language_\">$this</span>-&gt;selectedYear = <span class=\"hljs-variable\">$years</span>-&gt;<span class=\"hljs-title function_ invoke__\">first</span>()[<span class=\"hljs-string\">'id'</span>] ?? <span class=\"hljs-literal\">null</span>;\n\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$years</span>;\n    });\n  }\n\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getMonths</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$year</span></span>): <span class=\"hljs-title\">Collection</span> </span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getDirectories</span>(<span class=\"hljs-string\">\"photos/<span class=\"hljs-subst\">{$year}</span>\"</span>, function (<span class=\"hljs-variable\">$months</span>) {\n      <span class=\"hljs-variable language_\">$this</span>-&gt;selectedMonth = <span class=\"hljs-variable\">$months</span>-&gt;<span class=\"hljs-title function_ invoke__\">first</span>()[<span class=\"hljs-string\">'id'</span>] ?? <span class=\"hljs-literal\">null</span>;\n      <span class=\"hljs-comment\">// À activer avec l'exemple de débogage à dé-commenter aussi (en fin de ce code)</span>\n      <span class=\"hljs-comment\">// IMPORTANT: Faire une copie de l'image de ce dossier 07 pour la régénérer aisément...</span>\n      <span class=\"hljs-comment\">// $this-&gt;selectedMonth = '07'; // '07' par défaut</span>\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getImages</span>();\n\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$months</span>;\n    });\n  }\n\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getDirectories</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$basePath</span>, <span class=\"hljs-built_in\">Closure</span> <span class=\"hljs-variable\">$callback</span></span>): <span class=\"hljs-title\">Collection</span> </span>{\n    <span class=\"hljs-variable\">$directories</span> = <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-  &gt;<span class=\"hljs-title function_ invoke__\">directories</span>(<span class=\"hljs-variable\">$basePath</span>);\n\n    <span class=\"hljs-variable\">$items</span> = <span class=\"hljs-title function_ invoke__\">collect</span>(<span class=\"hljs-variable\">$directories</span>)-&gt;<span class=\"hljs-title function_ invoke__\">map</span>(function (<span class=\"hljs-variable\">$path</span>) {\n      <span class=\"hljs-variable\">$name</span> = <span class=\"hljs-title function_ invoke__\">basename</span>(<span class=\"hljs-variable\">$path</span>);\n\n      <span class=\"hljs-keyword\">return</span> [<span class=\"hljs-string\">'id'</span> =&gt; <span class=\"hljs-variable\">$name</span>, <span class=\"hljs-string\">'name'</span> =&gt; <span class=\"hljs-variable\">$name</span>];\n    })-&gt;<span class=\"hljs-title function_ invoke__\">sortByDesc</span>(<span class=\"hljs-string\">'id'</span>);\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$callback</span>(<span class=\"hljs-variable\">$items</span>);\n  }\n};\n</code></pre>","children":[]}],"payload":{"lines":"7882,7883","fold":1}},{"content":"<strong>BLADE</strong> (Le fichier créé par la commande en CLI) - admin/images/<strong>index.blade.php</strong>","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\n  include_once 'index_images.php';\n?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Images') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n        <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{!! __('Select year and month') !!}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"shadow-md\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-select</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Year') }}\"</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$years\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"selectedYear\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-select</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Month') }}\"</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$months\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"selectedMonth\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-table</span> <span class=\"hljs-attr\">striped</span> <span class=\"hljs-attr\">:headers</span>=<span class=\"hljs-string\">\"$headers\"</span> <span class=\"hljs-attr\">:rows</span>=<span class=\"hljs-string\">\"$images\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"border-2 border-red-500/10\"</span> <span class=\"hljs-attr\">with-pagination</span>&gt;</span>\n      @scope('cell_image', $image)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"w-20 border-white border-[3px]\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ $image['url'] }}\"</span> <span class=\"hljs-attr\">target</span>=<span class=\"hljs-string\">\"_blank\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"{{ $image['url'] }}\"</span> <span class=\"hljs-attr\">alt</span>=<span class=\"hljs-string\">\"\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Click here to see bigger!') }}\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n          {{-- {{ dd($image) }} --}}\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      @endscope\n\n      @scope('cell_actions', $image, $selectedYear, $selectedMonth, $perPage, $page, $loop)\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex flex-nowrap justify-center text-center gap-2 h-12\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-briefcase\"</span> <span class=\"hljs-attr\">data-url</span>=<span class=\"hljs-string\">\"{{ $image['url'] }}\"</span> <span class=\"hljs-attr\">onClick</span>=<span class=\"hljs-string\">\"copyUrl(this)\"</span>\n              <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-blue-500 btn-ghost btn-sm\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n            @lang('Copy url')\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-wrench\"</span>\n                <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('images.edit', ['year' =&gt; $selectedYear, 'month' =&gt; $selectedMonth, 'id' =&gt; $loop-&gt;index + ($page - 1) * $perPage]) }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-blue-500 btn-ghost btn-sm\"</span> <span class=\"hljs-attr\">spinner</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n            @lang('Manage image')\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"border-white border-2\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-trash\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"deleteImage({{ $loop-&gt;index }})\"</span>\n              <span class=\"hljs-attr\">wire:confirm</span>=<span class=\"hljs-string\">\"{{ __('Are you sure to delete this image?') }}\"</span> <span class=\"hljs-attr\">spinner</span>\n              <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-red-500 btn-ghost btn-sm\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"pop-small\"</span>&gt;</span>\n            @lang('Delete image')\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-popover</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      @endscope\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-table</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"my-3 mb-0\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span> /&gt;</span>\n\n    {{--\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h3</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-xl font-bold\"</span>&gt;</span>Exemple de débogage rapide :<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h3</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">pre</span>&gt;</span>\n      @php\n        $imagesPath = \"photos/{$this-&gt;selectedYear}/{$this-&gt;selectedMonth}\";\n        $allFiles = Storage::disk('public')-&gt;files($imagesPath);\n        echo 'Dossier demandé : ' . $imagesPath . '<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>';\n        // var_dump($allFiles);\n        print_r($allFiles);\n        echo '<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">hr</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>';\n\n        // Exemple de l'image 2024/07 :\n        $path = '/photos/2024/07/j6pMm9U3u2VbmaHYePcDfXzeHC3hIn8fvjH7nlzo.jpg';\n        echo 'La photo : <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">b</span>&gt;</span>photos/2024/07/j6pMm9U3u2VbmaHYePcDfXzeHC3hIn8fvjH7nlzo.jpg<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">b</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n        existe t\\'elle dans 2024/07 ? <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">b</span>&gt;</span>' . (Storage::disk('public')-&gt;exists($path) ? 'Oui' : 'Non').' !<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">b</span>&gt;</span>';\n        // Attention: Dé-commenter ci-dessous effacera réellement l'image...Conserver la copie pour une restauration facile\n        // Storage::disk('public')-&gt;delete($path);\n      @endphp\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">pre</span>&gt;</span>\n    --}}\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">copyUrl</span>(<span class=\"hljs-params\">button</span>) {\n      <span class=\"hljs-keyword\">const</span> url = button.<span class=\"hljs-title function_\">getAttribute</span>(<span class=\"hljs-string\">'data-url'</span>);\n      <span class=\"hljs-keyword\">const</span> textArea = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">'textarea'</span>);\n      textArea.<span class=\"hljs-property\">value</span> = url;\n      <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span>.<span class=\"hljs-title function_\">appendChild</span>(textArea);\n      textArea.<span class=\"hljs-title function_\">select</span>();\n      <span class=\"hljs-keyword\">try</span> {\n        <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">execCommand</span>(<span class=\"hljs-string\">'copy'</span>);\n        <span class=\"hljs-title function_\">alert</span>(<span class=\"hljs-string\">'URL copiée : '</span> + url);\n      } <span class=\"hljs-keyword\">catch</span> (err) {\n        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(<span class=\"hljs-string\">'Erreur lors de la copie de l\\'URL: '</span>, err);\n      }\n      <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span>.<span class=\"hljs-title function_\">removeChild</span>(textArea);\n    }\n  </span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"8026,8027","fold":1}}],"payload":{"lines":"7876,7877","fold":1}},{"content":"Traduction code composant admin.images.index","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Select year and month\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Sélectionner l'année et le mois\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Year\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Année\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Month\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Mois\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Click here to see bigger!\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Cliquer ici pour voir en plus grand !\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Path\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Chemin\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Copy url\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Copier l'URL\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Manage image\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Gérer l'image\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Delete image\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Supprimer l'image\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Image deleted with success.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Image supprimée avec succès.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Image and empty directory deleted with success.\"</span><span class=\"hljs-punctuation\">:</span><span class=\"hljs-string\">\"Image et dossier (vide) supprimés avec succès.\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"8136,8137","fold":1}}],"payload":{"lines":"7868,7869","fold":1}}],"payload":{"lines":"7838,7839","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-medias-partie-1\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-medias-partie-1</a></strong></em>","children":[],"payload":{"lines":"8151,8152"}},{"content":"2 ) &nbsp;Modification des Images","children":[{"content":"Route admin.images.edit (<em>Déjà créée à l'étape précédente, gestion des Images</em>)","children":[],"payload":{"lines":"8155,8156"}},{"content":"Lien admin.images.edit dans admin.images.index (Partie Blade)","children":[{"content":"\n<p data-lines=\"8159,8160\">(<em>Aussi déjà posé</em>)</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-popover</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:trigger</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-wrench\"</span>\n    <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('images.edit', ['year' =&gt; $selectedYear, 'month' =&gt; $selectedMonth, 'id' =&gt; $loop-&gt;index + ($page - 1) * $perPage]) }}\"</span><span class=\"hljs-attr\">...</span>\n</span></code></pre>","children":[],"payload":{"lines":"8159,8168"}}],"payload":{"lines":"8157,8158","fold":1}},{"content":"Package Intervention Image","children":[{"content":"Installation Intervention Image","children":[{"content":"<pre><code class=\"language-php\">composer <span class=\"hljs-keyword\">require</span> intervention/image-laravel\n</code></pre>","children":[]}],"payload":{"lines":"8170,8171"}},{"content":"Publication de la configuration Intervention Image","children":[{"content":"<pre><code class=\"language-bash\">php artisan vendor:publish --provider=<span class=\"hljs-string\">\"Intervention\\Image\\Laravel\\ServiceProvider\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"8176,8177"}},{"content":"Réf.: <a href=\"https://image.intervention.io/v3/introduction/frameworks\" title=\"Voir les détails\" target=\"_blank\">https://image.intervention.io</a>","children":[],"payload":{"lines":"8182,8183"}}],"payload":{"lines":"8168,8169","fold":1}},{"content":"Composant admin.images.edit","children":[{"content":"Création composant admin.images.edit","children":[{"content":"<pre><code class=\"language-php\">php artisan make:volt admin/images/edit --<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span>\n</span></code></pre>","children":[]}],"payload":{"lines":"8186,8187","fold":1}},{"content":"Code composant admin.images.edit","children":[{"content":"<em>Le code étant long, il est scindé en 2 fichiers</em> <strong>:</strong>","children":[],"payload":{"lines":"8194,8195"}},{"content":"PHP : Créer admin/images/<strong>edit_image.php</strong>","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Mary</span>\\<span class=\"hljs-title\">Traits</span>\\<span class=\"hljs-title\">Toast</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Volt</span>\\<span class=\"hljs-title\">Component</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\{<span class=\"hljs-title\">Page</span>, <span class=\"hljs-title\">Post</span>};\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Intervention</span>\\<span class=\"hljs-title\">Image</span>\\<span class=\"hljs-title\">ImageManager</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Attributes</span>\\{<span class=\"hljs-title\">Layout</span>, <span class=\"hljs-title\">Title</span>};\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Intervention</span>\\<span class=\"hljs-title\">Image</span>\\<span class=\"hljs-title\">Drivers</span>\\<span class=\"hljs-title\">Gd</span>\\<span class=\"hljs-title\">Driver</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Facades</span>\\{<span class=\"hljs-title\">File</span>, <span class=\"hljs-title\">Storage</span>};\n\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-meta\">#[Title</span>(<span class=\"hljs-string\">'Edit Image'</span>), <span class=\"hljs-meta\">Layout</span>(<span class=\"hljs-string\">'components.layouts.admin'</span>)<span class=\"hljs-meta\">]</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Toast</span>;\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$year</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$month</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$id</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$image</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$displayImage</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">array</span> <span class=\"hljs-variable\">$usage</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$fileName</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$imagePath</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$tempPath</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$width</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$height</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$imageScale</span>  = <span class=\"hljs-string\">'1'</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">array</span> <span class=\"hljs-variable\">$selectValues</span> = [[<span class=\"hljs-string\">'id'</span> =&gt; <span class=\"hljs-string\">'1'</span>, <span class=\"hljs-string\">'name'</span> =&gt; <span class=\"hljs-string\">'1'</span>], [<span class=\"hljs-string\">'id'</span> =&gt; <span class=\"hljs-string\">'0.95'</span>, <span class=\"hljs-string\">'name'</span> =&gt; <span class=\"hljs-string\">'0.95'</span>], [<span class=\"hljs-string\">'id'</span> =&gt; <span class=\"hljs-string\">'0.9'</span>, <span class=\"hljs-string\">'name'</span> =&gt; <span class=\"hljs-string\">'0.9'</span>], [<span class=\"hljs-string\">'id'</span> =&gt; <span class=\"hljs-string\">'0.85'</span>, <span class=\"hljs-string\">'name'</span> =&gt; <span class=\"hljs-string\">'0.85'</span>], [<span class=\"hljs-string\">'id'</span> =&gt; <span class=\"hljs-string\">'0.8'</span>, <span class=\"hljs-string\">'name'</span> =&gt; <span class=\"hljs-string\">'0.8'</span>]];\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$group</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$brightness</span> = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$contrast</span>   = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$gamma</span>      = <span class=\"hljs-number\">10</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$red</span>        = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$green</span>      = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$blue</span>       = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$reduce</span>     = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$blur</span>       = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$sharpen</span>    = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">bool</span> <span class=\"hljs-variable\">$changed</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$clipW</span> = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$clipH</span> = <span class=\"hljs-number\">0</span>;\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$year</span>, <span class=\"hljs-variable\">$month</span>, <span class=\"hljs-variable\">$id</span></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;year  = <span class=\"hljs-variable\">$year</span>;\n    <span class=\"hljs-variable language_\">$this</span>-&gt;month = <span class=\"hljs-variable\">$month</span>;\n    <span class=\"hljs-variable language_\">$this</span>-&gt;id    = <span class=\"hljs-variable\">$id</span>;\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getImage</span>(<span class=\"hljs-variable\">$year</span>, <span class=\"hljs-variable\">$month</span>, <span class=\"hljs-variable\">$id</span>);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;usage = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">findUsage</span>();\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">saveImageToTemp</span>(<span class=\"hljs-literal\">false</span>);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getImageInfos</span>();\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">saveImageToTemp</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$viewToast</span></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable\">$tempDir</span>        = <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">path</span>(<span class=\"hljs-string\">'temp'</span>);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;tempPath = <span class=\"hljs-string\">\"<span class=\"hljs-subst\">{$tempDir}</span>/<span class=\"hljs-subst\">{$this-&gt;fileName}</span>\"</span>;\n\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">exists</span>(<span class=\"hljs-variable\">$tempDir</span>)) {\n      <span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">makeDirectory</span>(<span class=\"hljs-variable\">$tempDir</span>, <span class=\"hljs-number\">0o755</span>, <span class=\"hljs-literal\">true</span>);\n    }\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">exists</span>(<span class=\"hljs-variable\">$this</span>-&gt;imagePath)) {\n      <span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">copy</span>(<span class=\"hljs-variable\">$this</span>-&gt;imagePath, <span class=\"hljs-variable\">$this</span>-&gt;tempPath);\n    }\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable\">$viewToast</span>) {\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Changes validated'</span>));\n    }\n    <span class=\"hljs-variable language_\">$this</span>-&gt;image = <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">url</span>(<span class=\"hljs-string\">'temp/'</span> . <span class=\"hljs-variable\">$this</span>-&gt;fileName);\n  }\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">restoreImage</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$cancel</span></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">exists</span>(<span class=\"hljs-variable\">$this</span>-&gt;imagePath)) {\n      <span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">copy</span>(<span class=\"hljs-variable\">$this</span>-&gt;imagePath, <span class=\"hljs-variable\">$this</span>-&gt;tempPath);\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">refreshImageUrl</span>();\n      <span class=\"hljs-variable language_\">$this</span>-&gt;clipW = <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-variable language_\">$this</span>-&gt;clipH = <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">getImageInfos</span>();\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Image restored'</span>));\n    }\n\n    <span class=\"hljs-variable language_\">$this</span>-&gt;changed = <span class=\"hljs-literal\">false</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable\">$cancel</span>) {\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">info</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'No modification has been made'</span>));\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-keyword\">exit</span>();\n    }\n  }\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">updated</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$property</span>, <span class=\"hljs-variable\">$value</span></span>) </span>{\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">'group'</span> === <span class=\"hljs-variable\">$property</span>) {\n        <span class=\"hljs-keyword\">return</span>;\n    }\n    <span class=\"hljs-variable\">$manager</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ImageManager</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Driver</span>());\n    <span class=\"hljs-variable\">$image</span>   = <span class=\"hljs-variable\">$manager</span>-&gt;<span class=\"hljs-title function_ invoke__\">read</span>(<span class=\"hljs-variable\">$this</span>-&gt;tempPath);\n    <span class=\"hljs-keyword\">switch</span> (<span class=\"hljs-variable\">$property</span>) {\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'imageScale'</span>:\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">scale</span>(<span class=\"hljs-attr\">height</span>: <span class=\"hljs-variable\">$this</span>-&gt;height * <span class=\"hljs-variable\">$value</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;width      = <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">width</span>();\n        <span class=\"hljs-variable language_\">$this</span>-&gt;height     = <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">height</span>();\n        <span class=\"hljs-variable language_\">$this</span>-&gt;imageScale = <span class=\"hljs-string\">'1'</span>;\n        <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'brightness'</span>:\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">brightness</span>(<span class=\"hljs-variable\">$value</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;brightness = <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'contrast'</span>:\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">contrast</span>(<span class=\"hljs-variable\">$value</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;contrast = <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'gamma'</span>:\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">gamma</span>(<span class=\"hljs-variable\">$value</span> / <span class=\"hljs-number\">10.0</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;gamma = <span class=\"hljs-number\">10</span>;\n        <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'red'</span>:\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">colorize</span>(<span class=\"hljs-attr\">red</span>: <span class=\"hljs-variable\">$value</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;red = <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'green'</span>:\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">colorize</span>(<span class=\"hljs-attr\">green</span>: <span class=\"hljs-variable\">$value</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;green = <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'blue'</span>:\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">colorize</span>(<span class=\"hljs-attr\">blue</span>: <span class=\"hljs-variable\">$value</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;blue = <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'blur'</span>:\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">blur</span>(<span class=\"hljs-variable\">$value</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;blur = <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'sharpen'</span>:\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">sharpen</span>(<span class=\"hljs-variable\">$value</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;sharpen = <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'clipW'</span>:\n        <span class=\"hljs-variable\">$width</span>  = <span class=\"hljs-variable language_\">$this</span>-&gt;width - <span class=\"hljs-variable language_\">$this</span>-&gt;width * <span class=\"hljs-variable\">$value</span> * <span class=\"hljs-number\">0.01</span>;\n        <span class=\"hljs-variable\">$offset</span> = (<span class=\"hljs-variable language_\">$this</span>-&gt;width - <span class=\"hljs-variable\">$width</span>) / <span class=\"hljs-number\">2</span>;\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">crop</span>(<span class=\"hljs-variable\">$width</span>, <span class=\"hljs-variable\">$this</span>-&gt;height, <span class=\"hljs-variable\">$offset</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;width  = <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">width</span>();\n        <span class=\"hljs-variable language_\">$this</span>-&gt;height = <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">height</span>();\n        <span class=\"hljs-variable language_\">$this</span>-&gt;clipW  = <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'clipH'</span>:\n        <span class=\"hljs-variable\">$height</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;height - <span class=\"hljs-variable language_\">$this</span>-&gt;height * <span class=\"hljs-variable\">$value</span> * <span class=\"hljs-number\">0.01</span>;\n        <span class=\"hljs-variable\">$offset</span> = (<span class=\"hljs-variable language_\">$this</span>-&gt;height - <span class=\"hljs-variable\">$height</span>) / <span class=\"hljs-number\">2</span>;\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">crop</span>(<span class=\"hljs-variable\">$this</span>-&gt;width, <span class=\"hljs-variable\">$height</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-variable\">$offset</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;width  = <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">width</span>();\n        <span class=\"hljs-variable language_\">$this</span>-&gt;height = <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">height</span>();\n        <span class=\"hljs-variable language_\">$this</span>-&gt;clipH  = <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">'reduce'</span>:\n        <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">reduceColors</span>(<span class=\"hljs-number\">49</span> - <span class=\"hljs-variable\">$value</span>);\n        <span class=\"hljs-variable language_\">$this</span>-&gt;reduce = <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-keyword\">break</span>;\n        <span class=\"hljs-keyword\">default</span>:\n      <span class=\"hljs-keyword\">break</span>;\n    }\n    <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">save</span>();\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">info</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Image modified ! (Not saved yet)'</span>));\n    <span class=\"hljs-variable language_\">$this</span>-&gt;changed = <span class=\"hljs-literal\">true</span>;\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">refreshImageUrl</span>();\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">invert</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable\">$manager</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ImageManager</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Driver</span>());\n    <span class=\"hljs-variable\">$image</span>   = <span class=\"hljs-variable\">$manager</span>-&gt;<span class=\"hljs-title function_ invoke__\">read</span>(<span class=\"hljs-variable\">$this</span>-&gt;tempPath);\n    <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">invert</span>();\n    <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">save</span>();\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">info</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Image modified ! (Not saved yet)'</span>));\n    <span class=\"hljs-variable language_\">$this</span>-&gt;changed = <span class=\"hljs-literal\">true</span>;\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">refreshImageUrl</span>();\n  }\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getImage</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$year</span>, <span class=\"hljs-variable\">$month</span>, <span class=\"hljs-variable\">$id</span></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable\">$imagesPath</span>         = <span class=\"hljs-string\">\"photos/<span class=\"hljs-subst\">{$year}</span>/<span class=\"hljs-subst\">{$month}</span>\"</span>;\n    <span class=\"hljs-variable\">$allFiles</span>           = <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">files</span>(<span class=\"hljs-variable\">$imagesPath</span>);\n    <span class=\"hljs-variable\">$image</span>              = <span class=\"hljs-variable\">$allFiles</span>[<span class=\"hljs-variable\">$id</span>];\n    <span class=\"hljs-variable language_\">$this</span>-&gt;imagePath    = <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">path</span>(<span class=\"hljs-variable\">$image</span>);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;fileName     = <span class=\"hljs-title function_ invoke__\">basename</span>(<span class=\"hljs-variable\">$this</span>-&gt;imagePath);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;image        = <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">url</span>(<span class=\"hljs-string\">\"temp/<span class=\"hljs-subst\">{$this-&gt;fileName}</span>\"</span>);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;displayImage = <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">url</span>(<span class=\"hljs-variable\">$image</span>);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">refreshImageUrl</span>();\n  }\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">keepVersion</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">exists</span>(<span class=\"hljs-variable\">$this</span>-&gt;tempPath)) {\n      <span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">copy</span>(<span class=\"hljs-variable\">$this</span>-&gt;tempPath, <span class=\"hljs-variable\">$this</span>-&gt;imagePath);\n    }\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Image changes applied successfully'</span>));\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-keyword\">exit</span>();\n  }\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">exit</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">exists</span>(<span class=\"hljs-variable\">$this</span>-&gt;tempPath)) {\n      <span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">delete</span>(<span class=\"hljs-variable\">$this</span>-&gt;tempPath);\n    }\n    <span class=\"hljs-title function_ invoke__\">redirect</span>()-&gt;<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'images.index'</span>);\n  }\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">applyChanges</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">exists</span>(<span class=\"hljs-variable\">$this</span>-&gt;tempPath)) {\n      <span class=\"hljs-title class_\">File</span>::<span class=\"hljs-title function_ invoke__\">copy</span>(<span class=\"hljs-variable\">$this</span>-&gt;tempPath, <span class=\"hljs-variable\">$this</span>-&gt;imagePath);\n    }\n    <span class=\"hljs-variable language_\">$this</span>-&gt;changed = <span class=\"hljs-literal\">false</span>;\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">success</span>(<span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Image changes applied successfully'</span>));\n  }\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getImageInfos</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable\">$manager</span>      = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ImageManager</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Driver</span>());\n    <span class=\"hljs-variable\">$image</span>        = <span class=\"hljs-variable\">$manager</span>-&gt;<span class=\"hljs-title function_ invoke__\">read</span>(<span class=\"hljs-variable\">$this</span>-&gt;tempPath);\n    <span class=\"hljs-variable language_\">$this</span>-&gt;width  = <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">width</span>();\n    <span class=\"hljs-variable language_\">$this</span>-&gt;height = <span class=\"hljs-variable\">$image</span>-&gt;<span class=\"hljs-title function_ invoke__\">height</span>();\n  }\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">findUsage</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">array</span> </span>{\n    <span class=\"hljs-variable\">$usage</span> = [];\n    <span class=\"hljs-variable\">$name</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;year . <span class=\"hljs-string\">'/'</span> . <span class=\"hljs-title function_ invoke__\">str_pad</span>(<span class=\"hljs-variable\">$this</span>-&gt;month, <span class=\"hljs-number\">2</span>, <span class=\"hljs-string\">'0'</span>, STR_PAD_LEFT) . <span class=\"hljs-string\">'/'</span> . <span class=\"hljs-variable language_\">$this</span>-&gt;fileName;\n    <span class=\"hljs-variable\">$posts</span> = <span class=\"hljs-title class_\">Post</span>::<span class=\"hljs-title function_ invoke__\">select</span>(<span class=\"hljs-string\">'id'</span>, <span class=\"hljs-string\">'title'</span>, <span class=\"hljs-string\">'slug'</span>)\n      -&gt;<span class=\"hljs-title function_ invoke__\">where</span>(<span class=\"hljs-string\">'image'</span>, <span class=\"hljs-string\">'LIKE'</span>, <span class=\"hljs-string\">\"%<span class=\"hljs-subst\">{$name}</span>%\"</span>)\n      -&gt;<span class=\"hljs-title function_ invoke__\">orWhere</span>(<span class=\"hljs-string\">'body'</span>, <span class=\"hljs-string\">'LIKE'</span>, <span class=\"hljs-string\">\"%<span class=\"hljs-subst\">{$name}</span>%\"</span>)\n      -&gt;<span class=\"hljs-title function_ invoke__\">get</span>();\n    <span class=\"hljs-keyword\">foreach</span> (<span class=\"hljs-variable\">$posts</span> <span class=\"hljs-keyword\">as</span> <span class=\"hljs-variable\">$post</span>) {\n      <span class=\"hljs-variable\">$usage</span>[] = [\n        <span class=\"hljs-string\">'type'</span>  =&gt; <span class=\"hljs-string\">'post'</span>,\n        <span class=\"hljs-string\">'id'</span>    =&gt; <span class=\"hljs-variable\">$post</span>-&gt;id,\n        <span class=\"hljs-string\">'title'</span> =&gt; <span class=\"hljs-variable\">$post</span>-&gt;title,\n        <span class=\"hljs-string\">'slug'</span>  =&gt; <span class=\"hljs-variable\">$post</span>-&gt;slug,\n      ];\n    }\n    <span class=\"hljs-variable\">$pages</span> = <span class=\"hljs-title class_\">Page</span>::<span class=\"hljs-title function_ invoke__\">where</span>(<span class=\"hljs-string\">'body'</span>, <span class=\"hljs-string\">'LIKE'</span>, <span class=\"hljs-string\">\"%<span class=\"hljs-subst\">{$name}</span>%\"</span>)-&gt;<span class=\"hljs-title function_ invoke__\">get</span>();\n    <span class=\"hljs-keyword\">foreach</span> (<span class=\"hljs-variable\">$pages</span> <span class=\"hljs-keyword\">as</span> <span class=\"hljs-variable\">$page</span>) {\n      <span class=\"hljs-variable\">$usage</span>[] = [\n        <span class=\"hljs-string\">'type'</span>  =&gt; <span class=\"hljs-string\">'page'</span>,\n        <span class=\"hljs-string\">'id'</span>    =&gt; <span class=\"hljs-variable\">$page</span>-&gt;id,\n        <span class=\"hljs-string\">'title'</span> =&gt; <span class=\"hljs-variable\">$page</span>-&gt;title,\n        <span class=\"hljs-string\">'slug'</span>  =&gt; <span class=\"hljs-variable\">$page</span>-&gt;slug,\n      ];\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$usage</span>;\n  }\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">refreshImageUrl</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;image = <span class=\"hljs-title class_\">Storage</span>::<span class=\"hljs-title function_ invoke__\">disk</span>(<span class=\"hljs-string\">'public'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">url</span>(<span class=\"hljs-string\">\"temp/<span class=\"hljs-subst\">{$this-&gt;fileName}</span>\"</span>) . <span class=\"hljs-string\">'?'</span> . <span class=\"hljs-title function_ invoke__\">now</span>()-&gt;timestamp;\n  }\n};\n</code></pre>","children":[]}],"payload":{"lines":"8196,8197","fold":1}},{"content":"BLADE : admin/images/<strong>edit.blade.php</strong>","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\n  include_once 'edit_image.php';\n?&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex flex-col h-full lg:flex-row\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"w-full p-4 lg:w-3/4\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Manage an image') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"lg:hidden\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span>\n          <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex items-center justify-between h-full\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>@lang('The url of this image is :') <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">i</span>&gt;</span>{{ $this-&gt;displayImage }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">i</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{!! __('Copy url') !!}\"</span> <span class=\"hljs-attr\">data-url</span>=<span class=\"hljs-string\">\"{{ $this-&gt;displayImage }}\"</span> <span class=\"hljs-attr\">onclick</span>=<span class=\"hljs-string\">\"copyUrl(this)\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-sm\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n        @if (empty($this-&gt;usage))\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{!! __('This image is not used') !!}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"badge-warning\"</span> /&gt;</span>\n        @else\n          @foreach ($this-&gt;usage as $use)\n            @if ($use['type'] == 'post')\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>@lang('This image is in the post ') : <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">b</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ route('posts.show', $use['slug']) }}\"</span> <span class=\"hljs-attr\">target</span>=<span class=\"hljs-string\">\"_blank\"</span>&gt;</span>{{ $use['title'] }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">b</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n            @else\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>@lang('This image is in the page ') :\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">b</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ route('pages.show', $use['slug']) }}\"</span> <span class=\"hljs-attr\">target</span>=<span class=\"hljs-string\">\"_blank\"</span>&gt;</span>{{ $use['title'] }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">b</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n            @endif\n          @endforeach\n        @endif\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex items-center justify-center h-full\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"{{ $image }}\"</span> <span class=\"hljs-attr\">alt</span>=<span class=\"hljs-string\">\"\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"w-full p-4 lg:w-1/4\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-2 text-3xl\"</span>&gt;</span>@lang('Settings')<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-accordion</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"group\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-4 shadow-md\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"group1\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n          @lang('Size change')\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n          @lang('Height') :\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $this-&gt;height }}px\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"badge-primary\"</span> /&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n          @lang('Width') :\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $this-&gt;width }}px\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"badge-primary\"</span> /&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-radio</span> <span class=\"hljs-attr\">inline</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Select a rescale value') }}\"</span> <span class=\"hljs-attr\">:options</span>=<span class=\"hljs-string\">\"$selectValues\"</span>\n              <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"imageScale\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"group2\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n          @lang('Brightness, contrast and gamma correction')\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"brightness\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"-20\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"20\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"2\"</span>\n              <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Brightness') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"contrast\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"-20\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"20\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"2\"</span>\n              <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Contrast') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"gamma\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"5\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"22\"</span>\n              <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Gamma Correction') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"group3\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n          @lang('Color correction')\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"red\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"-20\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"20\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"2\"</span>\n              <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Red') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"green\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"-20\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"20\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"2\"</span>\n              <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Green') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"blue\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"-20\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"20\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"2\"</span>\n              <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Blue') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"reduce\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"0\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"48\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"2\"</span>\n              <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Reduce color') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Invert colors') }}\"</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"invert\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mt-2 btn-outline btn-sm\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"group4\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n              @lang('Blur and sharpen')\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"blur\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"0\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"20\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"2\"</span>\n                <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Blur') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"sharpen\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"0\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"20\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"2\"</span>\n                <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Sharpen') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"group5\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n        @lang('Crop')\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:heading</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"clipW\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"0\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"40\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"2\"</span>\n            <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Width') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">wire:model.live.debounce</span>=<span class=\"hljs-string\">\"clipH\"</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"0\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"40\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"2\"</span>\n            <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Height') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-primary\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-collapse</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-accordion</span>&gt;</span>\n      @if ($changed)\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"restoreImage(false)\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-sm\"</span>&gt;</span>@lang('Restore image to its original state')\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-button</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"applyChanges\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mt-2 btn-sm\"</span>&gt;</span>@lang('Valid changes')<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-button</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"restoreImage(true)\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mt-2 btn-sm\"</span>&gt;</span>@lang('Finish and discard this version')<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-button</span>&gt;</span>\n    @endif\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">wire:click</span>=<span class=\"hljs-string\">\"keepVersion\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mt-2 btn-sm\"</span>&gt;</span>@lang('Finish and keep this version')<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-button</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">copyUrl</span>(<span class=\"hljs-params\">button</span>) {\n      <span class=\"hljs-keyword\">const</span> url = button.<span class=\"hljs-property\">dataset</span>.<span class=\"hljs-property\">url</span>; <span class=\"hljs-comment\">//+ succinct...</span>\n      <span class=\"hljs-keyword\">const</span> textArea = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">'textarea'</span>);\n      textArea.<span class=\"hljs-property\">value</span> = url;\n      <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span>.<span class=\"hljs-title function_\">appendChild</span>(textArea);\n      textArea.<span class=\"hljs-title function_\">select</span>();\n      <span class=\"hljs-keyword\">try</span> {\n        <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">execCommand</span>(<span class=\"hljs-string\">'copy'</span>);\n        <span class=\"hljs-title function_\">alert</span>(<span class=\"hljs-string\">'URL copiée: '</span> + url);\n      } <span class=\"hljs-keyword\">catch</span> (err) {\n        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(<span class=\"hljs-string\">'Erreur lors de la copie de l\\'URL: '</span>, err);\n      }\n      <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span>.<span class=\"hljs-title function_\">removeChild</span>(textArea);\n    }\n  </span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"8433,8434","fold":1}}],"payload":{"lines":"8192,8193","fold":1}},{"content":"Traduction code composant admin.images.edit","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Manage an image\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Gérer une image\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"The url of this image is :\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"L'URL de cette image est :\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"This image is in the post \"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Cette image est dans l'article \"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"This image is in the page \"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Cette image est dans la page \"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Select a rescale value\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Sélectionnez une valeur de redimensionnement\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Height\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Hauteur\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Width\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Largeur\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Size change\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Changement des dimensions\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Brightness\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Luminosité\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Brightness, contrast and gamma correction\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Correction de luminosité, contraste et gamma\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Contrast\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Contraste\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Restore image to its original state\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Restaurer l'image à son état d'origine\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Color correction\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Correction de couleur\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Valid changes\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Valider les modifications\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Changes validated\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifications validées\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Finish and keep this version\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Terminer et garder cette version\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"This image is not used\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Cette image n'est pas utilisée\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Finish and discard this version\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Terminer et oublier cette version\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Are you sure to delete this image?\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Êtes-vous sûr de vouloir supprimer cette image ?\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Blur and sharpen\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Flou et netteté\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Blur\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Flou\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Sharpen\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Netteté\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Image modified ! (Not saved yet)\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Image modifiée ! (Non sauvegardée)\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Image restored\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Image restaurée\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"No modification has been made\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Aucune modification n'a été apportée à l'image\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Image changes applied successfully\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Modifications de l'image appliquées avec succès\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"8572,8573","fold":1}}],"payload":{"lines":"8184,8185","fold":1}}],"payload":{"lines":"8153,8154","fold":1}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-medias-partie-2\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-medias-partie-2</a></strong></em>","children":[],"payload":{"lines":"8603,8604"}}],"payload":{"lines":"7836,7837","fold":1}},{"content":"- Les Paramètres (<em>Setting</em>)","children":[{"content":"Route Setting","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-string\">'auth'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n    ...\n    <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdminOrRedac</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">prefix</span>(<span class=\"hljs-string\">'admin'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n      ...\n      <span class=\"hljs-title class_\">Route</span>::<span class=\"hljs-title function_ invoke__\">middleware</span>(<span class=\"hljs-title class_\">IsAdmin</span>::<span class=\"hljs-variable language_\">class</span>)-&gt;<span class=\"hljs-title function_ invoke__\">group</span>(function () {\n        ...\n        <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/settings'</span>, <span class=\"hljs-string\">'admin.settings'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'settings'</span>);\n      ...\n</code></pre>","children":[]}],"payload":{"lines":"8607,8608","fold":1}},{"content":"Création composant Setting","children":[{"content":"<pre><code class=\"language-php\">  php artisan make:volt admin/settings --<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span>\n</span></code></pre>","children":[]}],"payload":{"lines":"8620,8621","fold":1}},{"content":"Lien Setting dans admin.sidebar","children":[{"content":"<pre><code class=\"language-html\">  @if (Auth::user()-&gt;isAdmin())\n    ... (Menus)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-menu-item</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"m-cog-8-tooth\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Settings') }}\"</span>\n    <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('settings') }}\"</span> <span class=\"hljs-attr\">:class</span>=<span class=\"hljs-string\">\"App::isDownForMaintenance() ? 'bg-red-300' : ''\"</span> /&gt;</span>\n  @endif\n</code></pre>","children":[]}],"payload":{"lines":"8626,8627","fold":1}},{"content":"Variables Setting ( ./.env )","children":[{"content":"<pre><code class=\"language-json\">  APP_MAINTENANCE_DRIVER=file\n  APP_MAINTENANCE_STORE=database\n  APP_MAINTENANCE_SECRET=230542a-177b-4b66-ffb1-dd77g4c93515\n</code></pre>","children":[]}],"payload":{"lines":"8636,8637","fold":1}},{"content":"Le rendu Front-End de Setting","children":[{"content":"layout.app","children":[{"content":"<pre><code class=\"language-html\">  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-center hero-content text-neutral-content\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-5 text-4xl font-bold sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl\"</span>&gt;</span>\n        {{ config('app.title') }}\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-1 text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl\"</span>&gt;</span>\n        {{ config('app.subTitle') }}\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"8646,8647"}},{"content":"index","children":[{"content":"<pre><code class=\"language-html\">  @if ($post-&gt;pinned)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ __('Pinned') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"p-3 badge-warning\"</span> /&gt;</span>\n  @elseif($post-&gt;created_at-&gt;gt(now()-&gt;subWeeks(config('app.newPost'))))\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ __('New') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"p-3 badge-success\"</span> /&gt;</span>\n  @endif\n</code></pre>","children":[]}],"payload":{"lines":"8661,8662"}}],"payload":{"lines":"8644,8645","fold":1}},{"content":"Les données pour Setting","children":[{"content":"Model &amp; Migration Setting","children":[{"content":"<pre><code class=\"language-bash\">  php artisan make:model Setting -m\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Setting</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Model</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-variable\">$timestamps</span> = <span class=\"hljs-literal\">false</span>;\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$fillable</span> = [<span class=\"hljs-string\">'key'</span>, <span class=\"hljs-string\">'value'</span>];\n  }\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">up</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n  <span class=\"hljs-title class_\">Schema</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-string\">'settings'</span>, function (Blueprint <span class=\"hljs-variable\">$table</span>) {\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">id</span>();\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-keyword\">string</span>(<span class=\"hljs-string\">'key'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">unique</span>();\n    <span class=\"hljs-variable\">$table</span>-&gt;<span class=\"hljs-title function_ invoke__\">text</span>(<span class=\"hljs-string\">'value'</span>);\n  });\n}\n</code></pre>","children":[]}],"payload":{"lines":"8673,8674","fold":1}},{"content":"Seeder Setting","children":[{"content":"<pre><code class=\"language-php\">  php artisan make:seeder SettingSeeder\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">Database</span>\\<span class=\"hljs-title class_\">seeders</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Facades</span>\\<span class=\"hljs-title\">DB</span>;\n  <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">SettingSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>) </span>{\n      <span class=\"hljs-variable\">$settings</span> = [\n        [<span class=\"hljs-string\">'key'</span> =&gt; <span class=\"hljs-string\">'pagination'</span>, <span class=\"hljs-string\">'value'</span> =&gt; <span class=\"hljs-number\">6</span>],\n        [<span class=\"hljs-string\">'key'</span> =&gt; <span class=\"hljs-string\">'excerptSize'</span>, <span class=\"hljs-string\">'value'</span> =&gt; <span class=\"hljs-number\">30</span>],\n        [<span class=\"hljs-string\">'key'</span> =&gt; <span class=\"hljs-string\">'title'</span>, <span class=\"hljs-string\">'value'</span> =&gt; <span class=\"hljs-string\">'Mon titre'</span>],\n        [<span class=\"hljs-string\">'key'</span> =&gt; <span class=\"hljs-string\">'subTitle'</span>, <span class=\"hljs-string\">'value'</span> =&gt; <span class=\"hljs-string\">'Mon sous-titre'</span>],\n        [<span class=\"hljs-string\">'key'</span> =&gt; <span class=\"hljs-string\">'newPost'</span>, <span class=\"hljs-string\">'value'</span> =&gt; <span class=\"hljs-number\">4</span>],\n      ];\n  \n      DB::<span class=\"hljs-title function_ invoke__\">table</span>(<span class=\"hljs-string\">'settings'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">insert</span>(<span class=\"hljs-variable\">$settings</span>);\n    }\n  }\n</code></pre>","children":[]}],"payload":{"lines":"8696,8697","fold":1}},{"content":"DatabaseSeeder Setting","children":[{"content":"<pre><code class=\"language-php\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">call</span>([\n      ...\n      <span class=\"hljs-title class_\">SettingSeeder</span>::<span class=\"hljs-variable language_\">class</span>,\n    ]);\n  }\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-bash\">  php artisan migrate:fresh --seed\n</code></pre>","children":[]}],"payload":{"lines":"8722,8723","fold":1}}],"payload":{"lines":"8671,8672","fold":1}},{"content":"Chargement systématique des paramètres","children":[{"content":"\n<p data-lines=\"8739,8740\">Dans <strong>AppServiceProvider.php</strong> :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\{<span class=\"hljs-title\">Menu</span>, <span class=\"hljs-title\">Setting</span>};\n...\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">boot</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-variable language_\">$this</span>-&gt;app-&gt;<span class=\"hljs-title function_ invoke__\">runningInConsole</span>()) {\n      <span class=\"hljs-variable\">$settings</span> = <span class=\"hljs-title class_\">Setting</span>::<span class=\"hljs-title function_ invoke__\">all</span>();\n        <span class=\"hljs-keyword\">foreach</span> (<span class=\"hljs-variable\">$settings</span> <span class=\"hljs-keyword\">as</span> <span class=\"hljs-variable\">$setting</span>) {\n          <span class=\"hljs-title function_ invoke__\">config</span>([<span class=\"hljs-string\">'app.'</span> . <span class=\"hljs-variable\">$setting</span>-&gt;key =&gt; <span class=\"hljs-variable\">$setting</span>-&gt;value]);\n        }\n      }\n    ...\n  }\n</code></pre>","children":[],"payload":{"lines":"8739,8755"}}],"payload":{"lines":"8737,8738","fold":1}},{"content":"Code composant Setting","children":[{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;?php\nuse Mary\\Traits\\Toast;\nuse App\\Models\\Setting;\nuse Livewire\\Volt\\Component;\nuse Illuminate\\Support\\Facades\\Artisan;\nuse Livewire\\Attributes\\{Layout, Validate};\nuse Illuminate\\Database\\Eloquent\\Collection;\n\nnew #[Title('Settings')] #[Layout('components.layouts.admin')] class extends Component {\n  use Toast;\n\n  private const SETTINGS_KEYS = ['pagination', 'excerptSize', 'title', 'subTitle', 'newPost'];\n\n  #[Validate('required|max:30')]\n  public string $title;\n\n  #[Validate('required|max:50')]\n  public string $subTitle;\n\n  #[Validate('required|integer|between:2,12')]\n  public int $pagination;\n\n  #[Validate('required|integer|between:10,60')]\n  public int $excerptSize;\n\n  #[Validate('required|integer|between:1,12')]\n  public int $newPost;\n\n  public bool $maintenance = false;\n  public Collection $settings;\n\n  public function mount(): void {\n    $this-&gt;settings = Setting::all();\n\n    $this-&gt;maintenance = App::isDownForMaintenance();\n\n    foreach (self::SETTINGS_KEYS as $key) {\n      $this-&gt;{$key} = $this-&gt;settings-&gt;where('key', $key)-&gt;first()-&gt;value ?? null;\n    }\n  }\n\n  public function updatedMaintenance(): void {\n    if ($this-&gt;maintenance) {\n      Artisan::call('down', ['--secret' =&gt; env('APP_MAINTENANCE_SECRET')]);\n    } else {\n      Artisan::call('up'); // → php artisan up\n    }\n  }\n\n  public function save() {\n    $data = $this-&gt;validate();\n\n    DB::transaction(function () use ($data) {\n      foreach (self::SETTINGS_KEYS as $key) {\n        $setting = $this-&gt;settings-&gt;where('key', $key)-&gt;first();\n        if ($setting) {\n          $setting-&gt;value = $data[$key];\n          $setting-&gt;save();\n        }\n      }\n    });\n\n    $this-&gt;success(__('Settings updated successfully!'));\n  }\n}; ?&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Settings') }}\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Dashboard') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline lg:hidden\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"mb-6 border-4 {{ $maintenance ? 'bg-red-300' : 'bg-zinc-100' }} border-zinc-950\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"flex items-center justify-between\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-toggle</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Maintenance Mode') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"maintenance\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n          @if($maintenance)\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Go to bypass page')}}\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"/{{ env('APP_MAINTENANCE_SECRET') }}\"</span>  /&gt;</span>\n          @endif\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-form</span> <span class=\"hljs-attr\">wire:submit</span>=<span class=\"hljs-string\">\"save\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"border-4 bg-zinc-100 border-zinc-950\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Site title') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"title\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-input</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Site sub title') }}\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"subTitle\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"border-4 bg-zinc-100 border-zinc-950\"</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"2\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"12\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"pagination\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{!! __('Home pagination') !!}\"</span> <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Between 2 and 12.') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-info\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $pagination }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"my-2 badge-neutral\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"border-4 bg-zinc-100 border-zinc-950\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"10\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"60\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"5\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"excerptSize\"</span>\n          <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{!! __('Post excerpt (number of words)') !!}\"</span> <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Between 10 and 60.') }}\"</span>\n          <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-info\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $excerptSize }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"my-2 badge-neutral\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"border-4 bg-zinc-100 border-zinc-950\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-range</span> <span class=\"hljs-attr\">min</span>=<span class=\"hljs-string\">\"1\"</span> <span class=\"hljs-attr\">max</span>=<span class=\"hljs-string\">\"12\"</span> <span class=\"hljs-attr\">step</span>=<span class=\"hljs-string\">\"1\"</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"newPost\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{!! __('Number of weeks a post is marked new') !!}\"</span>\n          <span class=\"hljs-attr\">hint</span>=<span class=\"hljs-string\">\"{{ __('Between 1 and 12.') }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"range-info\"</span> <span class=\"hljs-attr\">wire:change</span>=<span class=\"hljs-string\">\"$refresh\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-badge</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"{{ $newPost }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"my-2 badge-neutral\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[]}],"payload":{"lines":"8755,8756","fold":1}},{"content":"Nettoyage code (Code cleaning)","children":[{"content":"\n<p data-lines=\"8869,8870\">Suppression de code (Devenu inutile) dans config/<strong>app.php</strong> :</p>\n<pre><code class=\"language-php\">  <span class=\"hljs-string\">'pagination'</span>  =&gt; <span class=\"hljs-number\">6</span>,\n  <span class=\"hljs-string\">'excerptSize'</span> =&gt; <span class=\"hljs-number\">30</span>,\n</code></pre>","children":[],"payload":{"lines":"8869,8876"}}],"payload":{"lines":"8867,8868","fold":1}},{"content":"Traductions Setting","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Home pagination\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Pagination de la page d'accueil\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Between 2 and 12.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Entre 2 et 12.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Post excerpt (number of words)\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Extrait de l'article (nombre de mots)\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Between 30 and 60.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Entre 10 et 60.\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Site title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Titre du site\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Site sub title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Sous-titre\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Settings updated successfully!\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Paramètres bien enregistrés !\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Number of weeks a post is marked new\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Nombre de semaines qu'un article est marqué comme nouveau\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Between 1 and 12.\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Entre 1 et 12\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Go to bypass page\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Aller sur la page de bypass\"</span>\n</code></pre>","children":[]}],"payload":{"lines":"8876,8877","fold":1}},{"content":"Réf. Maintenance : <a href=\"https://laravel.com/docs/11.x/configuration#maintenance-mode\" title=\"Doc officielle\" target=\"_blank\">Doc Laravel // Maintenance</a>","children":[],"payload":{"lines":"8891,8892"}},{"content":"Réf.: <em><strong><a href=\"https://laravel.sillo.org/posts/mon-cms-les-parametres\" title=\"Voir les détails\" target=\"_blank\">https://laravel.sillo.org/posts/mon-cms-les-parametres</a></strong></em>","children":[],"payload":{"lines":"8893,8894"}},{"content":"Fin du tutoriel : Vérifications de la <em>sidebar</em>","children":[{"content":"\n<p data-lines=\"8897,8898\">Si tout s'est bien passé, voilà l'admin sidebar obtenue :</p>","children":[],"payload":{"lines":"8897,8899"}},{"content":"\n<p data-lines=\"8899,8900\">- <a href=\"https://prnt.sc/hRJ5vlR_fIv0\" title=\"Voir... Ce qu'ils voient !\" target=\"_blank\">Pour les'Admin'</a></p>","children":[],"payload":{"lines":"8899,8901"}},{"content":"\n<p data-lines=\"8901,8902\">- <a href=\"https://prnt.sc/CF0xu6jK6NUc\" title=\"Voir... Ce qu'ils voient !\" target=\"_blank\">Pour les 'Redac'</a></p>","children":[],"payload":{"lines":"8901,8903"}}],"payload":{"lines":"8895,8896","fold":1}}],"payload":{"lines":"8605,8606","fold":1}},{"content":"- Et après ? Optimisations diverses","children":[{"content":"Bien évidemment, ce qui suit n'est en rien exhaustif !","children":[{"content":"\n<p data-lines=\"8907,8908\">...Car ON PEUT TOUJOURS TOUT AMÉLIORER !</p>","children":[],"payload":{"lines":"8907,8909"}},{"content":"\n<p data-lines=\"8909,8912\">Donc, si VOUS y 'voyez' un manquement...<br>\n... Reportez-vous au point 1 de AIDE &amp; CONTACT ;-) !<br>\n( <em>Le faible critique... Le FORT agit !</em> :-) )</p>","children":[],"payload":{"lines":"8909,8913"}}],"payload":{"lines":"8905,8906","fold":1}},{"content":"Données","children":[{"content":"DataBaseSeeder","children":[{"content":"Principe: Pour l'instant, nous avons beaucoup (trop) de seeders dans la racine du dossier <strong>seeders/</strong>","children":[{"content":"Aussi, comme il est possible qu'à l'avenir, notre application s'étoffe, et recèle d'autres parties très distinctes...<br>\nAlors, pour plus de clarté, isolons les seeders propres à la base de l'app., pour ultérieurement pouvoir,<br>\nselon le même principe, isoler dans d'autres dossiers, des seeders qui seront plus spécifiques...","children":[],"payload":{"lines":"8919,8923"}}],"payload":{"lines":"8917,8918","fold":1}},{"content":"Modus operandi","children":[{"content":"\n<p data-lines=\"8925,8926\">1 ) &nbsp; Créer un dossier <strong>database/seeders/main</strong></p>","children":[],"payload":{"lines":"8925,8927"}},{"content":"\n<p data-lines=\"8927,8931\">2 ) &nbsp; Y copier dedans tous les seeders nécessaires à la base de l'app à ce stade, soit :<br>\nCategorySeeder, CommentSeeder, ContactSeeder, FooterSeeder, MenusSeeder, PageSeeder, PostSeeder, SettingSeeder et UserSeeder<br>\n&nbsp; &nbsp; &nbsp; &nbsp; ... Mais attention, car du coup, leur espace de nom change... :<br>\n&nbsp; &nbsp; &nbsp; &nbsp; → Donc, dans chacun d'eux, changer celui-ci: '<strong>namespace Database\\Seeders;</strong>' → '<strong>namespace Database\\Seeders\\Main;</strong>'</p>","children":[],"payload":{"lines":"8927,8932"}},{"content":"\n<p data-lines=\"8932,8935\">3 ) &nbsp; Créer un fichier database/seeders/<strong>MainDatabaseSeeder.php</strong> :<br>\n&nbsp; &nbsp; &nbsp; &nbsp; → Y copier le code de DataBaseSeeder.php<br>\n&nbsp; &nbsp; &nbsp; &nbsp; → Mais y remplacer la classe ainsi pour la factorisation des call() :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MainDatabaseSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">string</span> <span class=\"hljs-variable\">$namespace</span> = <span class=\"hljs-string\">'Database\\\\Seeders\\\\Main\\\\'</span>;\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">array</span> <span class=\"hljs-variable\">$seeders</span>   = [<span class=\"hljs-string\">'User'</span>, <span class=\"hljs-string\">'Category'</span>, <span class=\"hljs-string\">'Post'</span>, <span class=\"hljs-string\">'Page'</span>, <span class=\"hljs-string\">'Contact'</span>, <span class=\"hljs-string\">'Menus'</span>, <span class=\"hljs-string\">'Footer'</span>, <span class=\"hljs-string\">'Comment'</span>, <span class=\"hljs-string\">'Setting'</span>];\n  \n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n    <span class=\"hljs-keyword\">foreach</span> (<span class=\"hljs-variable language_\">$this</span>-&gt;seeders <span class=\"hljs-keyword\">as</span> <span class=\"hljs-variable\">$seeder</span>) {\n      <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">call</span>(<span class=\"hljs-string\">\"<span class=\"hljs-subst\">{$this-&gt;namespace}</span><span class=\"hljs-subst\">{$seeder}</span>Seeder\"</span>);\n    }\n  }\n}\n</code></pre>","children":[],"payload":{"lines":"8932,8949"}},{"content":"\n<p data-lines=\"8949,8950\">4 ) &nbsp; Modifier database/seeders/<strong>DatabaseSeeder.php</strong> qui se résume alors à :</p>\n<pre><code class=\"language-php\">  <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">call</span>([\n    <span class=\"hljs-title class_\">MainDatabaseSeeder</span>::<span class=\"hljs-variable language_\">class</span>,\n  ]);\n</code></pre>","children":[],"payload":{"lines":"8949,8957"}}],"payload":{"lines":"8923,8924","fold":1}},{"content":"Résultat <em>(L'instant de vérité...)</em>","children":[{"content":"<pre><code class=\"language-bash\">  php artisan migrate:refresh --seed\n</code></pre>","children":[]}],"payload":{"lines":"8957,8958","fold":1}}],"payload":{"lines":"8915,8916","fold":1}},{"content":"Modification du ContactSeeder","children":[{"content":"Problème &amp; Solution","children":[{"content":"\n<p data-lines=\"8967,8968\">Situation actuelle :</p>\n<pre><code class=\"language-markdown\">  Voir dans la base de données : Dans les enregistrements fakes de\n  la table contacts, le champs \"message\" contient souvent des phrases\n  qui se terminent de façon plutôt bizarre...\n</code></pre>","children":[],"payload":{"lines":"8967,8975"}},{"content":"\n<p data-lines=\"8975,8976\">Situation proposée :</p>\n<pre><code class=\"language-markdown\">  Faire une sorte d'helper* pour améliorer la terminaison des phrases, en\n  fonction de la ponctuation contenue dans le texte généré par le Faker.\n</code></pre>","children":[],"payload":{"lines":"8975,8982"}},{"content":"\n<p data-lines=\"8982,8984\">* : <small><i>Cependant, comme ceci n'a pas besoin d'être chargé systématiquement par l'appli, puisque juste<br>\nnécessaire à priori que pour la population (<em>seed</em>) de la table 'contacts', nous le ferons en dehors des 'vrais' helpers...</i></small></p>","children":[],"payload":{"lines":"8982,8985"}}],"payload":{"lines":"8965,8966","fold":1}},{"content":"Création d'outils (<em>Tools</em>)","children":[{"content":"\n<p data-lines=\"8987,8988\">→ Créer app/Http/Tools/<strong>Fakers.php</strong> :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">App</span>\\<span class=\"hljs-title class_\">Http</span>\\<span class=\"hljs-title class_\">Tools</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Faker</span>\\<span class=\"hljs-title\">Factory</span> <span class=\"hljs-keyword\">as</span> <span class=\"hljs-title\">FakerBase</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Fakers</span> </span>{\n  <span class=\"hljs-comment\">/**\n   * Generates a fake sentence (a paragraph with 3 sentences)\n   * which is cut at a hyphen (., ;, !, ...) which is the closest\n   * to the given length.\n   *\n   * <span class=\"hljs-doctag\">@param</span> int $length The length of the sentence to generate.\n   * <span class=\"hljs-doctag\">@return</span> object Contains properties 'complete' and 'wellCut'.\n  */</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">fakerSentence</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$length</span> = <span class=\"hljs-number\">250</span></span>): <span class=\"hljs-title\">object</span> </span>{\n    <span class=\"hljs-variable\">$locale</span> = (<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TimeFcts</span>())-&gt;<span class=\"hljs-title function_ invoke__\">appLocale</span>();\n\n    <span class=\"hljs-variable\">$faker</span>                = <span class=\"hljs-title class_\">FakerBase</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-variable\">$locale</span>);\n    <span class=\"hljs-variable\">$completeFakeSentence</span> = <span class=\"hljs-variable\">$faker</span>-&gt;<span class=\"hljs-title function_ invoke__\">realText</span>(<span class=\"hljs-variable\">$length</span> + <span class=\"hljs-number\">100</span>, <span class=\"hljs-number\">3</span>);\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">cutSentence</span>(<span class=\"hljs-variable\">$completeFakeSentence</span>);\n  }\n  \n  <span class=\"hljs-comment\">/**\n   * Cut a sentence at the hyphen (., ;, !, ...) which is the closest to the given length.\n   *\n   * <span class=\"hljs-doctag\">@param</span> string $completeFakeSentence The sentence to cut.\n   * <span class=\"hljs-doctag\">@param</span> int $length The length of the sentence to generate.\n   * <span class=\"hljs-doctag\">@return</span> object Contains properties 'complete' and 'wellCut'.\n   */</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">cutSentence</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$completeFakeSentence</span>, <span class=\"hljs-variable\">$length</span> = <span class=\"hljs-number\">200</span></span>): <span class=\"hljs-title\">object</span> </span>{\n    <span class=\"hljs-variable\">$hyphens</span>  = [<span class=\"hljs-string\">'.'</span>, <span class=\"hljs-string\">';'</span>, <span class=\"hljs-string\">'!'</span>, <span class=\"hljs-string\">'...'</span>];\n    <span class=\"hljs-variable\">$position</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">findLastHyphenPosition</span>(<span class=\"hljs-variable\">$completeFakeSentence</span>, <span class=\"hljs-variable\">$length</span>, <span class=\"hljs-variable\">$hyphens</span>);\n\n    <span class=\"hljs-variable\">$etc</span> = (<span class=\"hljs-variable\">$position</span> === <span class=\"hljs-variable\">$length</span>) ? <span class=\"hljs-string\">' [...]'</span> : <span class=\"hljs-string\">''</span>;\n    <span class=\"hljs-comment\">// echo \"{$position} - {$length}\";</span>\n    <span class=\"hljs-variable\">$wellCut</span> = <span class=\"hljs-title function_ invoke__\">substr</span>(<span class=\"hljs-variable\">$completeFakeSentence</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-variable\">$position</span>) . <span class=\"hljs-variable\">$etc</span>;\n\n    <span class=\"hljs-keyword\">return</span> (<span class=\"hljs-keyword\">object</span>) [\n      <span class=\"hljs-string\">'complete'</span> =&gt; <span class=\"hljs-variable\">$completeFakeSentence</span>,\n      <span class=\"hljs-string\">'wellCut'</span>  =&gt; <span class=\"hljs-variable\">$wellCut</span>,\n    ];\n\n    <span class=\"hljs-comment\">// echo '&lt;pre&gt;';</span>\n    <span class=\"hljs-comment\">//   print_r($this-&gt;sentence);</span>\n    <span class=\"hljs-comment\">// echo '&lt;/pre&gt;';</span>\n  }\n  \n  <span class=\"hljs-comment\">/**\n   * Finds the position of the last hyphen in a string, given the length\n   * and the hyphens to search for.\n   *\n   * <span class=\"hljs-doctag\">@param</span> string $text The string to search.\n   * <span class=\"hljs-doctag\">@param</span> int $length The length of the string to search.\n   * <span class=\"hljs-doctag\">@param</span> array $hyphens The hyphens to search for.\n   * <span class=\"hljs-doctag\">@return</span> int The position of the last hyphen, or the length of the string if no hyphen is found.\n   */</span>\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">findLastHyphenPosition</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$text</span>, <span class=\"hljs-variable\">$length</span>, <span class=\"hljs-variable\">$hyphens</span></span>): <span class=\"hljs-title\">int</span> </span>{\n    <span class=\"hljs-variable\">$positions</span> = <span class=\"hljs-title function_ invoke__\">array_map</span>(function (<span class=\"hljs-variable\">$hyphen</span>) <span class=\"hljs-keyword\">use</span> ($<span class=\"hljs-title\">text</span>, $<span class=\"hljs-title\">length</span>) {\n        <span class=\"hljs-title\">return</span> <span class=\"hljs-title\">strrpos</span>(<span class=\"hljs-title\">substr</span>($<span class=\"hljs-title\">text</span>, 0, $<span class=\"hljs-title\">length</span>), $<span class=\"hljs-title\">hyphen</span>);\n    }, <span class=\"hljs-variable\">$hyphens</span>);\n\n    <span class=\"hljs-comment\">// Remove false values and get the max position</span>\n    <span class=\"hljs-variable\">$positions</span> = <span class=\"hljs-title function_ invoke__\">array_filter</span>(<span class=\"hljs-variable\">$positions</span>, fn (<span class=\"hljs-variable\">$pos</span>) =&gt; <span class=\"hljs-literal\">false</span> !== <span class=\"hljs-variable\">$pos</span>);\n\n    <span class=\"hljs-keyword\">return</span> !<span class=\"hljs-keyword\">empty</span>(<span class=\"hljs-variable\">$positions</span>) ? <span class=\"hljs-title function_ invoke__\">max</span>(<span class=\"hljs-variable\">$positions</span>) + <span class=\"hljs-number\">1</span> : <span class=\"hljs-variable\">$length</span>;\n  }\n}\n</code></pre>","children":[],"payload":{"lines":"8987,9059"}},{"content":"\n<p data-lines=\"9059,9060\">Cette classe utilise app/Http/Tools/<strong>TimeFcts.php</strong> (Fichier à créer)</p>\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">App</span>\\<span class=\"hljs-title class_\">Http</span>\\<span class=\"hljs-title class_\">Tools</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Support</span>\\<span class=\"hljs-title\">Facades</span>\\<span class=\"hljs-title\">Config</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">TimeFcts</span> </span>{\n  <span class=\"hljs-comment\">/**\n   * Return the locale for a given language code\n   *\n   * <span class=\"hljs-doctag\">@return</span> string The locale, ie: fr → fr_FR\n   */</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">appLocale</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">bool</span>|<span class=\"hljs-title\">string</span> </span>{\n    <span class=\"hljs-variable\">$languageCode</span> = <span class=\"hljs-title class_\">Config</span>::<span class=\"hljs-title function_ invoke__\">get</span>(<span class=\"hljs-string\">'app.locale'</span>);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">\\Locale</span>::<span class=\"hljs-title function_ invoke__\">composeLocale</span>([<span class=\"hljs-string\">'language'</span> =&gt; <span class=\"hljs-variable\">$languageCode</span>, <span class=\"hljs-string\">'region'</span> =&gt; <span class=\"hljs-title function_ invoke__\">strtoupper</span>(<span class=\"hljs-variable\">$languageCode</span>)]);\n  }\n}\n</code></pre>","children":[],"payload":{"lines":"9059,9079"}}],"payload":{"lines":"8985,8986","fold":1}},{"content":"Modification de ContactFactory","children":[{"content":"<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title class_\">Database</span>\\<span class=\"hljs-title class_\">Factories</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Models</span>\\<span class=\"hljs-title\">Contact</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Faker</span>\\<span class=\"hljs-title\">Factory</span> <span class=\"hljs-keyword\">as</span> <span class=\"hljs-title\">Faker</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Http</span>\\<span class=\"hljs-title\">Tools</span>\\{<span class=\"hljs-title\">Fakers</span>, <span class=\"hljs-title\">TimeFcts</span>};\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Factories</span>\\<span class=\"hljs-title\">Factory</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">ContactFactory</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Factory</span> </span>{\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-variable\">$model</span> = <span class=\"hljs-title class_\">Contact</span>::<span class=\"hljs-variable language_\">class</span>;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">definition</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">array</span> </span>{\n      <span class=\"hljs-variable\">$localeConverter</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TimeFcts</span>();\n      <span class=\"hljs-variable\">$locale</span>          = <span class=\"hljs-variable\">$localeConverter</span>-&gt;<span class=\"hljs-title function_ invoke__\">appLocale</span>();\n      <span class=\"hljs-variable\">$faker</span>           = <span class=\"hljs-title class_\">Faker</span>::<span class=\"hljs-title function_ invoke__\">create</span>(<span class=\"hljs-variable\">$locale</span>);\n      <span class=\"hljs-variable\">$fakerTool</span>       = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Fakers</span>();\n\n      <span class=\"hljs-keyword\">return</span> [\n        <span class=\"hljs-string\">'name'</span>    =&gt; <span class=\"hljs-variable\">$faker</span>-&gt;name,\n        <span class=\"hljs-string\">'email'</span>   =&gt; <span class=\"hljs-variable\">$faker</span>-&gt;<span class=\"hljs-title function_ invoke__\">unique</span>()-&gt;safeEmail,\n        <span class=\"hljs-string\">'message'</span> =&gt; <span class=\"hljs-variable\">$fakerTool</span>-&gt;<span class=\"hljs-title function_ invoke__\">fakerSentence</span>()-&gt;wellCut,\n      ];\n    }\n}\n</code></pre>","children":[]}],"payload":{"lines":"9079,9080","fold":1}}],"payload":{"lines":"8963,8964","fold":1}}],"payload":{"lines":"8913,8914","fold":1}},{"content":"Front-End","children":[{"content":"Espace de test","children":[{"content":"Objectif","children":[{"content":"\n<p data-lines=\"9113,9115\">En phase de dev, on a fréquemment besoin de tester une fonction native ou perso, bref, un bout de code...<br>\n<br></p>","children":[],"payload":{"lines":"9113,9116"}},{"content":"\n<p data-lines=\"9116,9125\">En effet, par exemple, pour définir cutSentence(), qui est destiné au ContactSeeder,<br>\nil aurait fallu à chaque avancée, relancer le process de <em>migration:(re)fresh --seed</em> puis aller<br>\nconsulter la BdD..., et en particuliers, la table <em>contacts</em>... Etc... Plutôt fastidieux !<br><br>\nPour avoir l'aisance d'obtenir le rendu de notre code, sans avoir besoin de lancer quelque<br>\ncommande que se soit, une extension de BdD de VSC, ou d'actualiser quoique ce soit, voire pire<br>\nencore, de passer sur une autre appli (Style HeidiSQL, SQLite Studio, MySQL Workbench, etc...),<br>\nl'idéal est d'avoir un espace d'accès rapide, isolé du reste pour simplifier la problématique,<br>\net aussi éviter ainsi de s'immiscer dans le script principal...<br><br>\nUne fois au point, plus qu'à copier/coller le code dans le fichier ad'hoc :-) !</p>","children":[],"payload":{"lines":"9116,9125"}},{"content":"\n<p data-lines=\"9125,9126\">Voyons ci-après comment cela a été réalisé ici, grâce à un nouveau composant spécifique :</p>","children":[],"payload":{"lines":"9125,9127"}}],"payload":{"lines":"9111,9112","fold":1}},{"content":"Exemple de Test avec et pour <strong>cutSentence()</strong>","children":[{"content":"\n<p data-lines=\"9129,9132\">1 / <strong>Route Test</strong> : <em>Pour des raisons de sécurité, cette page ne sera accessible qu'aux admins.<br>\n(Cette route sera donc par exemple juste après celle nommée</em> <strong>settings</strong> <em>). Et bien-sûr, rien ne vous empêche d'ajouter<br>\nà la suite d'autres routes pour d'autres tests, quitte à transformer à terme, le lien ci-après, en dropdown...</em> :</p>\n<pre><code class=\"language-php\">  <span class=\"hljs-title class_\">Volt</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">'/test'</span>, <span class=\"hljs-string\">'various.test'</span>)-&gt;<span class=\"hljs-title function_ invoke__\">name</span>(<span class=\"hljs-string\">'various.test'</span>);\n</code></pre>","children":[],"payload":{"lines":"9129,9137"}},{"content":"\n<p data-lines=\"9137,9138\">2 / Lien d'accès dans Navbar aisément, rapidement accessible et réservé aux 'admin' uniquement :</p>\n<pre><code class=\"language-html\">  @if (auth()-&gt;user() &amp;&amp; $user-&gt;isAdmin())\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ route('various.test') }}\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\" {{ __  ('Test page') }} \"</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"c-cog\"</span> /&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n  @endif\n  ... <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-theme-toggle</span> <span class=\"hljs-attr\">...</span>\n</span></code></pre>","children":[],"payload":{"lines":"9137,9146"}},{"content":"\n<p data-lines=\"9146,9147\">3 / Layout épuré dédié à Test :</p>\n<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">\"{{ str_replace('_', '-', app()-&gt;getLocale()) }}\"</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">\"utf-8\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"viewport\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"csrf-token\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"{{ csrf_token() }}\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>\n        {{ (isset($title) ? $title . ' | ' : (View::hasSection('title') ? View::getSection('title') . ' | ' : '')) . config('app.name') }}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"description\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"@yield('description')\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"keywords\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"@yield('keywords')\"</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">\"stylesheet\"</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"{{ asset('storage/css/prism.css') }}\"</span>&gt;</span>\n    @vite(['resources/css/app.css', 'resources/js/app.js'])\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span>\n  \n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"h-[96vh] font-sans antialiased bg-base-200/50 dark:bg-base-200 my-3\"</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-main</span> <span class=\"hljs-attr\">full-width</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n        {{ $slot }}\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:content</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-main</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-toast</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"{{ asset('storage/scripts/prism.js') }}\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">html</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9146,9180"}},{"content":"\n<p data-lines=\"9180,9181\">4 / Traductions pour le test courant :</p>","children":[{"content":"\n<p data-lines=\"9182,9183\">Dans <strong>lang/fr.json</strong>, ajouter :</p>\n<pre><code class=\"language-json\">  <span class=\"hljs-attr\">\"Test page\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Page de test\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"Study\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Étude\"</span>\n</code></pre>","children":[],"payload":{"lines":"9182,9189"}},{"content":"\n<p data-lines=\"9189,9190\">Créer <strong>lang/de.json</strong> :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"Study\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Studie\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"Test page\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Testseite\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"of\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"von\"</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>","children":[],"payload":{"lines":"9189,9199"}},{"content":"\n<p data-lines=\"9199,9200\">Créer <strong>es.json</strong> :</p>\n<pre><code class=\"language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"Study\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Estudio\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"Test page\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Página de prueba\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"of\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"de\"</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>","children":[],"payload":{"lines":"9199,9209"}}],"payload":{"lines":"9180,9209"}},{"content":"\n<p data-lines=\"9209,9210\">5 / <strong>Composant Test</strong> (<em>Le fichier est scindé, cette fois non pas qu'il soit long, mais afin d'optimiser le travail du formateur de l'IDE...</em>)</p>\n<pre><code class=\"language-bash\">  php artisan make:volt various/test\n</code></pre>","children":[],"payload":{"lines":"9209,9215"}},{"content":"\n<p data-lines=\"9215,9216\">6 / Créer various/<strong>test.php</strong> :</p>\n<pre><code class=\"language-php\">  <span class=\"hljs-meta\">&lt;?php</span>\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">App</span>\\<span class=\"hljs-title\">Http</span>\\<span class=\"hljs-title\">Tools</span>\\<span class=\"hljs-title\">Fakers</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Volt</span>\\<span class=\"hljs-title\">Component</span>;\n  <span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Livewire</span>\\<span class=\"hljs-title\">Attributes</span>\\{<span class=\"hljs-title\">Layout</span>, <span class=\"hljs-title\">Title</span>};\n\n  <span class=\"hljs-keyword\">new</span> <span class=\"hljs-meta\">#[Layout</span>(<span class=\"hljs-string\">'components.layouts.test'</span>)<span class=\"hljs-meta\">]</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Component</span> </span>{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-variable\">$sentence</span>;\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-variable\">$faker</span>;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\"></span>) </span>{\n      <span class=\"hljs-variable language_\">$this</span>-&gt;faker = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Fakers</span>();\n      <span class=\"hljs-comment\">/* À noter : Cette classe utilise un autre outil : TimeFcts()-&gt;getLocale() qui extrait la variable d'environnement APP_LOCALE\n      de votre .env... Essayer de lui affecter 'de', 'es', 'it', 'nl', ou 'ru'... Tout en regardant : http://127.0.0.1:8000/test */</span>\n      <span class=\"hljs-variable\">$completeFakeSentence</span> = <span class=\"hljs-variable language_\">$this</span>-&gt;<span class=\"hljs-title function_ invoke__\">completeFixedOrRealSentence</span>(); <span class=\"hljs-comment\">// 1 param.: 0 ou rien pour avoir fake || Autre valeur pour avoir fixe</span>\n      <span class=\"hljs-variable language_\">$this</span>-&gt;sentence       = <span class=\"hljs-variable language_\">$this</span>-&gt;faker-&gt;<span class=\"hljs-title function_ invoke__\">cutSentence</span>(<span class=\"hljs-variable\">$completeFakeSentence</span>);\n    }\n\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">completeFixedOrRealSentence</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$fixedSentence</span> = <span class=\"hljs-number\">0</span></span>) </span>{\n      <span class=\"hljs-comment\">// Cas le + fréquent en 1er</span>\n        <span class=\"hljs-keyword\">return</span> !<span class=\"hljs-variable\">$fixedSentence</span> ? <span class=\"hljs-variable language_\">$this</span>-&gt;faker-&gt;<span class=\"hljs-title function_ invoke__\">fakerSentence</span>()-&gt;complete : <span class=\"hljs-string\">\"La belle-mère répondit n'avoir plus rien de la liquidation\n                qui était close, et qu'il leur restait, outre Belleville, six cents livres de rente. Quoiqu'elle fût laide, sèche comme\n                un cotret. et bourgeonnée comme un printemps, certes madame Martin ne manquait pas de lui en procurer une autre plus\n                riche commode. Le médecin, bien entendu, fit encore les frais de...\"</span>;\n      }\n  };\n</code></pre>","children":[],"payload":{"lines":"9215,9245"}},{"content":"\n<p data-lines=\"9245,9246\">7 / Et dans various/<strong>test.blade.php</strong> (<em>Déjà créé par la commande en CLI ci-avant</em>) :</p>\n<pre><code class=\"language-html\">  <span class=\"hljs-meta\">&lt;?php\n    include_once 'test.php';\n  ?&gt;</span>\n\n  @section('title', __('Test page'))\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"/\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Back to site') }}\"</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-lg m-0\"</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Test page') }}\"</span> <span class=\"hljs-attr\">shadow</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span> /&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"text-2xl mb-5\"</span>&gt;</span>{{ __('Study') }} {{ __('of') }} app/Http/Tools/Fakers.php-&gt;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">b</span>&gt;</span>cutSentence()<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">b</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"w-full text-justify\"</span>&gt;</span>\n      {{ $sentence-&gt;complete }}\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">hr</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"my-3\"</span>&gt;</span>\n      {{ $sentence-&gt;wellCut }}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9245,9265"}}],"payload":{"lines":"9127,9128","fold":1}}],"payload":{"lines":"9109,9110","fold":1}}],"payload":{"lines":"9107,9108","fold":1}},{"content":"Back-End-End","children":[{"content":"Ajout d'un lien Front-End &amp; bouton Annuler (BLADE)","children":[{"content":"Réalisation d'helpers de vues","children":[{"content":"\n<p data-lines=\"9271,9272\">Créer views/components/helpers/<strong>header-lk.blade.php</strong> :</p>\n<pre><code class=\"language-html\">@props([\n    'title'        =&gt; '',\n    'dashboardBtn' =&gt; true,\n    'addBtn'       =&gt; null,\n    'noHeader'     =&gt; false,\n  'forceHeader'    =&gt; false,\n])\n\n@if (!$noHeader || $forceHeader)\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:title</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"/\"</span>\n                    <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ __('Go to site') }}\"</span>&gt;</span>{{ $title }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:title</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n               @if($addBtn)\n                  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"c-document-plus\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ $addBtn['label'] }}\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline lg:hidden\"</span>\n                  <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ $addBtn['link'] }}\"</span> /&gt;</span>\n                @endif\n                @if ($dashboardBtn)\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"s-building-office-2\"</span> <span class=\"hljs-attr\">:label</span>=<span class=\"hljs-string\">\"__('Dashboard')\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline lg:hidden\"</span>\n                        <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ route('admin') }}\"</span> /&gt;</span>\n                @endif\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-header</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n@endif\n</code></pre>","children":[],"payload":{"lines":"9271,9302"}},{"content":"\n<p data-lines=\"9302,9303\">Et views/components/helpers/<strong>progress-bar.blade.php</strong> :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-header</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"-mt-5 -mb-4\"</span> <span class=\"hljs-attr\">separator</span> <span class=\"hljs-attr\">progress-indicator</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9302,9308"}},{"content":"\n<p data-lines=\"9308,9309\">Et views/components/helpers/<strong>cancel-btn.blade.php</strong> :</p>\n<pre><code class=\"language-html\">@props(['lk'=&gt;'#'])\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Cancel') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-hand-thumb-down\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-outline\"</span> <span class=\"hljs-attr\">link</span>=<span class=\"hljs-string\">\"{{ $lk }}\"</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9308,9316"}},{"content":"\n<p data-lines=\"9316,9317\">Et views/components/helpers/<strong>save-btn.blade.php</strong> :</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-button</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"{{ __('Save') }}\"</span> <span class=\"hljs-attr\">icon</span>=<span class=\"hljs-string\">\"o-paper-airplane\"</span> <span class=\"hljs-attr\">spinner</span>=<span class=\"hljs-string\">\"save\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"btn-primary\"</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9316,9322"}},{"content":"\n<p data-lines=\"9322,9323\">Et views/components/helpers/<strong>cancel-save-btns.blade.php</strong> :</p>\n<pre><code class=\"language-html\">@props(['lk' =&gt; '#'])\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-btn</span> <span class=\"hljs-attr\">lk</span>=<span class=\"hljs-string\">\"{{ $lk }}\"</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.save-btn</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9322,9331"}}],"payload":{"lines":"9269,9270","fold":1}},{"content":"Nos layouts (admin &amp; test)","children":[{"content":"<pre><code class=\"language-html\">  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.header-lk</span> <span class=\"hljs-attr\">:title</span>=<span class=\"hljs-string\">\"trim($__env-&gt;yieldContent('title'))\"</span> /&gt;</span>\n\n  {{ $slot }}\n</code></pre>","children":[]}],"payload":{"lines":"9331,9332","fold":1}},{"content":"admin.index","children":[{"content":"<em>Le tableau de bord n'a pas besoin du bouton... 'Tableau de bord' !\"</em> ;-) :<br>\n<br><pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n  <span class=\"hljs-title class_\">View</span>::<span class=\"hljs-title function_ invoke__\">share</span>([\n    <span class=\"hljs-string\">'dashboardBtn'</span> =&gt; <span class=\"hljs-number\">0</span>,\n    // <span class=\"hljs-string\">'search'</span>    =&gt; <span class=\"hljs-number\">0</span>,\n    // <span class=\"hljs-string\">'noHeader'</span>  =&gt; <span class=\"hljs-number\">1</span>,\n  ]);\n  ...\n</code></pre>\n<em>→ Noter qu'une variable <strong>noHeader</strong> est prévue, car notre composant<br>\nheader est maintenant appelé systématiquement dans nos layouts...<br>\nElle sert donc lorsqu'on ne souhaite pas du tout de header.</em><br>\n<br><br>\nPour la Vue :<pre><code class=\"language-html\">@section('title', __('Dashboard'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-collapse</span> <span class=\"hljs-attr\">wire:model</span>=<span class=\"hljs-string\">\"openGlance\"</span><span class=\"hljs-attr\">...</span>\n</span></code></pre>","children":[],"payload":{"lines":"9341,9363"}}],"payload":{"lines":"9339,9340","fold":1}},{"content":"admin.posts","children":[{"content":"\n<p data-lines=\"9365,9367\">- index :<br>\n<br></p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n  <span class=\"hljs-title class_\">View</span>::<span class=\"hljs-title function_ invoke__\">share</span>(<span class=\"hljs-string\">'noHeader'</span>,<span class=\"hljs-literal\">true</span>);\n  ...\n</code></pre>\n<pre><code class=\"language-html\">@section('title', __('Post'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.header-lk</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ trim(\n      $__env-&gt;yieldContent('title')\n    ) }}\"</span>\n    <span class=\"hljs-attr\">forceHeader</span> = <span class=\"hljs-string\">true</span>\n    <span class=\"hljs-attr\">search</span>      = <span class=\"hljs-string\">'true'</span>\n    <span class=\"hljs-attr\">:addBtn</span>     =<span class=\"hljs-string\">\"[\n      'link'  =&gt; route('posts.create'),\n      'label' =&gt; __('Add a post')\n    ]\"</span>\n  /&gt;</span>\n  ...\n</code></pre>","children":[],"payload":{"lines":"9365,9390"}},{"content":"\n<p data-lines=\"9390,9392\">- edit :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Edit a post'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9390,9403"}},{"content":"\n<p data-lines=\"9403,9405\">- create :<br>\n<br></p>\n<pre><code class=\"language-htm\">@section('title', __('Add a post'))\n&lt;div&gt;\n  &lt;x-card&gt;\n  ...\n        &lt;x-helpers.cancel-save-btns :lk=\"route('posts.index')\" /&gt;\n      &lt;/x-slot:actions&gt;\n    &lt;/x-form&gt;\n  &lt;/x-card&gt;\n  &lt;x-helpers.progress-bar /&gt;\n&lt;/div&gt;\n</code></pre>","children":[],"payload":{"lines":"9403,9418"}}],"payload":{"lines":"9363,9364","fold":1}},{"content":"admin.categories","children":[{"content":"\n<p data-lines=\"9420,9422\">- admin.categories.index :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Categories'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9420,9432"}},{"content":"\n<p data-lines=\"9432,9434\">- admin.category-form :<br>\n<br></p>\n<pre><code class=\"language-html\">  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-save-btns</span> <span class=\"hljs-attr\">:lk</span>=<span class=\"hljs-string\">\"route('comments.index')\"</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9432,9441"}},{"content":"\n<p data-lines=\"9441,9443\">- admin.category.edit :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Edit a category'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9441,9452"}}],"payload":{"lines":"9418,9419","fold":1}},{"content":"admin.pages","children":[{"content":"\n<p data-lines=\"9454,9457\">- index :<br>\nSupprimer l'attribut <em>title</em>* de la classe pour <em>n</em>'avoir <em>que</em> :<br>\n<br></p>\n<pre><code class=\"language-html\">use Livewire\\Attributes\\Layout;\n...\nnew #[Layout('components.layouts.admin')]\nclass extends Component {\n...\n  public function mount(): void {\n      View::share([\n          'addBtn' =&gt; [\n              'link'=&gt;route('pages.create'),\n              'label' =&gt; __('Add a page')\n          ]\n      ]);\n  }\n...\n</code></pre>\n<p data-lines=\"9475,9478\">(*: <em>Penser à faire pareil (Suppression de l'attribut title) pour toutes les pages suivantes</em>...<br>\n...Car si pour anglais &amp; français, 'pages', c'est '<em>kif-kif</em>', en allemand, par exemple, c'est '<em>Seite</em>'...)<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Pages'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n</code></pre>","children":[],"payload":{"lines":"9454,9486"}},{"content":"\n<p data-lines=\"9486,9488\">- create <em>(Penser à retirer l'attribut 'title' de la classe (Et son 'use')...</em>):<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Add a page'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  @include('livewire.admin.pages.page-form')\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9486,9495"}},{"content":"\n<p data-lines=\"9495,9497\">- page-form :<br>\n<br></p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span>/&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9495,9502"}},{"content":"\n<p data-lines=\"9502,9505\">- edit :<br>\n<em>Supp. dans les attributs de la classe: <strong>title('Edit Page')</strong></em> (<em>Dernier rappel...</em>),<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Edit a page'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  @include('livewire.admin.pages.page-form')\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9502,9513"}}],"payload":{"lines":"9452,9453","fold":1}},{"content":"admin.contact","children":[{"content":"- index :<br>\n(<em>Est-ce encore utile...: La Classe, l'attribut \"title\"...?</em>)<br>\n<br><pre><code class=\"language-html\">@section('title', __('Contacts'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9515,9524"}}],"payload":{"lines":"9513,9514","fold":1}},{"content":"admin.users","children":[{"content":"\n<p data-lines=\"9526,9528\">- index :<br>\n<br></p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n  <span class=\"hljs-title class_\">View</span>::<span class=\"hljs-title function_ invoke__\">share</span>(<span class=\"hljs-string\">'noHeader'</span>, <span class=\"hljs-literal\">true</span>);\n}\n</code></pre>\n<br>\n<pre><code class=\"language-html\">@section('title', __('Users'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.header-lk</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ trim($__env-&gt;yieldContent('title')) }}\"</span> <span class=\"hljs-attr\">forceHeader</span>=<span class=\"hljs-string\">true</span> <span class=\"hljs-attr\">search</span>=<span class=\"hljs-string\">'true'</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-radio</span> <span class=\"hljs-attr\">inline...</span>\n</span></code></pre>","children":[],"payload":{"lines":"9526,9542"}},{"content":"\n<p data-lines=\"9542,9544\">- edit :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Edit an account'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-save-btns</span> <span class=\"hljs-attr\">:lk</span>=<span class=\"hljs-string\">\"route('users.index')\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9542,9556"}}],"payload":{"lines":"9524,9525","fold":1}},{"content":"admin.comments","children":[{"content":"\n<p data-lines=\"9558,9560\">- index :<br>\n<br></p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mount</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n  <span class=\"hljs-title class_\">View</span>::<span class=\"hljs-title function_ invoke__\">share</span>(<span class=\"hljs-string\">'noHeader'</span>, <span class=\"hljs-literal\">true</span>);\n}\n</code></pre>\n<br>\n<pre><code class=\"language-html\">@section('title', __('Comments'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.header-lk</span> <span class=\"hljs-attr\">title</span>=<span class=\"hljs-string\">\"{{ trim($__env-&gt;yieldContent('title')) }}\"</span> <span class=\"hljs-attr\">forceHeader</span>=<span class=\"hljs-string\">true</span> <span class=\"hljs-attr\">search</span>=<span class=\"hljs-string\">'true'</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9558,9574"}},{"content":"\n<p data-lines=\"9574,9576\">- edit :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Edit a comment'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-save-btns</span> <span class=\"hljs-attr\">:lk</span>=<span class=\"hljs-string\">\"route('comments.index')\"</span> /&gt;</span>\n  ...\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-save-btns</span> <span class=\"hljs-attr\">:lk</span>=<span class=\"hljs-string\">\"route('comments.index')\"</span> /&gt;</span>\n  ...\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9574,9592"}}],"payload":{"lines":"9556,9557","fold":1}},{"content":"admin.menus","children":[{"content":"\n<p data-lines=\"9594,9596\">- index :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Navbar'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-save-btns</span> <span class=\"hljs-attr\">:lk</span>=<span class=\"hljs-string\">\"route('menus.index')\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9594,9609"}},{"content":"\n<p data-lines=\"9609,9611\">- edit :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Edit a menu'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-save-btns</span> <span class=\"hljs-attr\">:lk</span>=<span class=\"hljs-string\">\"route('menus.index')\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9609,9624"}},{"content":"\n<p data-lines=\"9624,9626\">- editsub :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Edit a submenu'))\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9624,9632"}},{"content":"\n<p data-lines=\"9632,9634\">- submenu-form :<br>\n<br></p>\n<pre><code class=\"language-html\">    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-btn</span> <span class=\"hljs-attr\">:lk</span>=<span class=\"hljs-string\">\"route('menus.index')\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.save-btn</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9632,9643"}},{"content":"\n<p data-lines=\"9643,9645\">- footers :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Footer'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-save-btns</span> <span class=\"hljs-attr\">:lk</span>=<span class=\"hljs-string\">\"route('menus.footers')\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9643,9658"}},{"content":"\n<p data-lines=\"9658,9660\">- editfooter :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Edit a footer'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-save-btns</span> <span class=\"hljs-attr\">:lk</span>=<span class=\"hljs-string\">\"route('menus.footers')\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9658,9672"}}],"payload":{"lines":"9592,9593","fold":1}},{"content":"admin.images","children":[{"content":"\n<p data-lines=\"9674,9676\">- index :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Images'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span> <span class=\"hljs-attr\">...</span>&gt;</span>\n  ...\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9674,9685"}},{"content":"\n<p data-lines=\"9685,9687\">- edit :<br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Manage an image'))\n&lt;div ...\n  &lt;x-helpers.cancel-btn :lk=\"route('images.index')\" /&gt;\n      &lt;x-button wire:click=\"keepVersion\" class=\"mt-2 btn-sm\"&gt;\n      @lang('Finish and keep this version')&lt;/x-button&gt;&lt;br&gt;\n  ...\n  &lt;/script&gt;\n  &lt;x-helpers.progress-bar /&gt;\n&lt;/div&gt;\n</code></pre>","children":[],"payload":{"lines":"9685,9699"}}],"payload":{"lines":"9672,9673","fold":1}},{"content":"admin.settings","children":[{"content":"- index :<br>\n<br><pre><code class=\"language-html\">@section('title', __('Settings'))\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>  \n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-card</span>&gt;</span>\n  ...\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.cancel-save-btns</span> <span class=\"hljs-attr\">:lk</span>=<span class=\"hljs-string\">\"route('settings')\"</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-slot:actions</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">x-card</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-helpers.progress-bar</span> /&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9701,9713"}}],"payload":{"lines":"9699,9700","fold":1}},{"content":"various/<strong>test.blade.php</strong>","children":[{"content":"\n<p data-lines=\"9718,9721\">&nbsp; <small><em>Du coup, on peut aussi changer nos pages de test... :<br>\n&nbsp; (Et n'oublions pas l'attribut de la classe et son 'use' à supprimer...)</em></small><br>\n<br></p>\n<pre><code class=\"language-html\">@section('title', __('Test page').' 1')\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">class...</span>\n</span></code></pre>","children":[],"payload":{"lines":"9718,9728"}}],"payload":{"lines":"9716,9717","fold":1}}],"payload":{"lines":"9267,9268","fold":1}},{"content":"Ajout d'un choix 'Autre' pour création &amp; édition d'un submenu","children":[{"content":"\n<p data-lines=\"9730,9731\">Traits ManageMenus (./app/):</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">with</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">array</span> </span>{\n  <span class=\"hljs-string\">'subOptions'</span> =&gt; [\n  ...\n    [<span class=\"hljs-string\">'id'</span> =&gt; <span class=\"hljs-number\">4</span>, <span class=\"hljs-string\">'name'</span> =&gt; <span class=\"hljs-title function_ invoke__\">__</span>(<span class=\"hljs-string\">'Other'</span>)]\n  ]\n...\n<span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">resetSubProperties</span>(<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">void</span> </span>{\n  ...\n  <span class=\"hljs-variable language_\">$this</span>-&gt;subOption   = <span class=\"hljs-number\">4</span>;\n...\n</code></pre>","children":[],"payload":{"lines":"9730,9745"}},{"content":"\n<p data-lines=\"9745,9746\">admin.menu.editsub :</p>\n<pre><code class=\"language-php\">class ...\n  public int $subOption = 4;\n</code></pre>","children":[],"payload":{"lines":"9745,9752"}},{"content":"\n<pre><code class=\"language-json\"><span class=\"hljs-attr\">\"Root menu\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Menu racine\"</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">\"Other\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Autre\"</span>\n</code></pre>","children":[],"payload":{"lines":"9752,9757"}}],"payload":{"lines":"9728,9729","fold":1}},{"content":"De + beaux icônes pour notre liste d'users","children":[{"content":"Sourcer les icônes","children":[{"content":"\n<p data-lines=\"9761,9762\">Le choix est immense: Voir <a href=\"https://github.com/blade-ui-kit/blade-icons?tab=readme-ov-file\" title=\"Aller sur le site de blade-ui-kit\" target=\"_blank\">Blade-UI-Kit</a> parmi tant d'autres...</p>","children":[],"payload":{"lines":"9761,9763"}},{"content":"\n<p data-lines=\"9763,9764\"><a href=\"https://www.svgrepo.com\" title=\"Aller sur le site de SVGrepo\" target=\"_blank\">SVGrepo</a> : Permet d'éditer l'icône choisi :-)</p>","children":[],"payload":{"lines":"9763,9765"}},{"content":"\n<p data-lines=\"9765,9766\">→ Créer resources/images/icons/<strong>check.svg</strong> :</p>\n<pre><code class=\"language-svg\"><span class=\"hljs-meta\">&lt;?xml version=<span class=\"hljs-string\">\"1.0\"</span> encoding=<span class=\"hljs-string\">\"utf-8\"</span>?&gt;</span><span class=\"hljs-comment\">&lt;!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">svg</span> <span class=\"hljs-attr\">version</span>=<span class=\"hljs-string\">\"1.1\"</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"Layer_1\"</span>\n  <span class=\"hljs-attr\">xmlns</span>=<span class=\"hljs-string\">\"http://www.w3.org/2000/svg\"</span> <span class=\"hljs-attr\">viewBox</span>=<span class=\"hljs-string\">\"0 0 32 32\"</span> <span class=\"hljs-attr\">enable-background</span>=<span class=\"hljs-string\">\"new 0 0 32 32\"</span> <span class=\"hljs-attr\">xml:space</span>=<span class=\"hljs-string\">\"preserve\"</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">\"28px\"</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">\"28px\"</span> <span class=\"hljs-attr\">fill</span>=<span class=\"hljs-string\">\"green\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">g</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"SVGRepo_bgCarrier\"</span> <span class=\"hljs-attr\">stroke-width</span>=<span class=\"hljs-string\">\"0\"</span>/&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">g</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"SVGRepo_tracerCarrier\"</span> <span class=\"hljs-attr\">stroke-linecap</span>=<span class=\"hljs-string\">\"round\"</span> <span class=\"hljs-attr\">stroke-linejoin</span>=<span class=\"hljs-string\">\"round\"</span>/&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">g</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"SVGRepo_iconCarrier\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">polyline</span> <span class=\"hljs-attr\">fill</span>=<span class=\"hljs-string\">\"none\"</span> <span class=\"hljs-attr\">stroke</span>=<span class=\"hljs-string\">\"greenyellow\"</span> <span class=\"hljs-attr\">stroke-width</span>=<span class=\"hljs-string\">\"2\"</span> <span class=\"hljs-attr\">stroke-miterlimit</span>=<span class=\"hljs-string\">\"10\"</span> <span class=\"hljs-attr\">points</span>=<span class=\"hljs-string\">\"28,8 16,20 11,15 \"</span>/&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">d</span>=<span class=\"hljs-string\">\"M26.7,13.5c0.2,0.8,0.3,1.6,0.3,2.5c0,6.1-4.9,11-11,11S5,22.1,5,16S9.9,5,16,5c3,0,5.7,1.2,7.6,3.1l1.4-1.4 C22.7,4.4,19.5,3,16,3C8.8,3,3,8.8,3,16s5.8,13,13,13s13-5.8,13-13c0-1.4-0.2-2.8-0.7-4.1L26.7,13.5z\"</span>/&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">g</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">svg</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9765,9780"}},{"content":"\n<p data-lines=\"9780,9781\">→ Créer resources/images/icons/<strong>invalid.svg</strong> :</p>\n<pre><code class=\"language-svg\"><span class=\"hljs-meta\">&lt;?xml version=<span class=\"hljs-string\">\"1.0\"</span> encoding=<span class=\"hljs-string\">\"utf-8\"</span>?&gt;</span><span class=\"hljs-comment\">&lt;!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">svg</span> <span class=\"hljs-attr\">fill</span>=<span class=\"hljs-string\">\"red\"</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">\"28px\"</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">\"28px\"</span> <span class=\"hljs-attr\">version</span>=<span class=\"hljs-string\">\"1.1\"</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"Capa_1\"</span>\n  <span class=\"hljs-attr\">xmlns</span>=<span class=\"hljs-string\">\"http://www.w3.org/2000/svg\"</span>\n  <span class=\"hljs-attr\">xmlns:xlink</span>=<span class=\"hljs-string\">\"http://www.w3.org/1999/xlink\"</span> <span class=\"hljs-attr\">viewBox</span>=<span class=\"hljs-string\">\"0 0 319.253 319.253\"</span> <span class=\"hljs-attr\">xml:space</span>=<span class=\"hljs-string\">\"preserve\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">g</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">d</span>=<span class=\"hljs-string\">\"M317.361,282.335L172.735,22.335c-2.646-4.758-7.664-7.708-13.108-7.708c-5.444,0-10.462,2.95-13.108,7.708L1.891,282.335\n\t\tc-2.584,4.647-2.517,10.313,0.179,14.896c2.694,4.583,7.613,7.397,12.93,7.397h289.254c5.316,0,10.235-2.814,12.93-7.397\n\t\tC319.879,292.647,319.945,286.981,317.361,282.335z M40.508,274.627L159.627,60.483l119.118,214.143H40.508z\"</span> <span class=\"hljs-attr\">fill</span>=<span class=\"hljs-string\">\"#972023\"</span>/&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">polygon</span> <span class=\"hljs-attr\">points</span>=<span class=\"hljs-string\">\"132.405,164.598 116.849,180.155 144.07,207.377 116.849,234.598 132.405,250.155 159.627,222.933 \n\t\t186.849,250.155 202.405,234.598 175.183,207.377 202.405,180.155 186.849,164.598 159.627,191.82 \t\"</span>/&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">g</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">svg</span>&gt;</span>\n</code></pre>","children":[],"payload":{"lines":"9780,9797"}}],"payload":{"lines":"9759,9760","fold":1}},{"content":"Installer les librairies","children":[{"content":"Ajout des librairies Blade-UI-Kit","children":[{"content":"\n<pre><code class=\"language-batch\">composer require blade-ui-kit/blade-ui-kit\n</code></pre>","children":[],"payload":{"lines":"9801,9805"}},{"content":"\n<pre><code class=\"language-batch\">composer require blade-ui-kit/blade-icons\n</code></pre>","children":[],"payload":{"lines":"9805,9809"}}],"payload":{"lines":"9799,9800","fold":1}},{"content":"Configuration &amp; publication de <strong>Blade-UI-Kit</strong>","children":[{"content":"\n<p data-lines=\"9811,9812\">Créer config/<strong>blade-icons.php</strong> :</p>","children":[],"payload":{"lines":"9811,9813"}},{"content":"\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-comment\">// Src: https://github.com/blade-ui-kit/blade-icons (Beaucoup plus complet...)</span>\n<span class=\"hljs-keyword\">return</span> [\n  <span class=\"hljs-string\">'sets'</span> =&gt; [\n    <span class=\"hljs-string\">'default'</span> =&gt; [\n    <span class=\"hljs-string\">'path'</span>   =&gt; <span class=\"hljs-string\">'resources/images/icons'</span>,\n    <span class=\"hljs-string\">'prefix'</span> =&gt; <span class=\"hljs-string\">'icon'</span>,\n    ],\n  ],\n];\n\n</code></pre>","children":[],"payload":{"lines":"9813,9827"}},{"content":"\n<pre><code class=\"language-batch\">php artisan vendor:publish --tag=blade-icons-config\n</code></pre>","children":[],"payload":{"lines":"9827,9831"}},{"content":"\n<pre><code class=\"language-batch\">php artisan icons:clear\n</code></pre>","children":[],"payload":{"lines":"9831,9835"}}],"payload":{"lines":"9809,9810","fold":1}}],"payload":{"lines":"9797,9798"}},{"content":"Les afficher dans notre vue","children":[{"content":"\n<p data-lines=\"9837,9838\">Modifier admin.users.index :</p>\n<pre><code class=\"language-html\">  @scope('cell_valid', $user)\n    @if ($user-&gt;valid)\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon-check</span> /&gt;</span>\n    @else\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">x-icon-invalid</span> /&gt;</span>\n    @endif\n  @endscope\n</code></pre>","children":[],"payload":{"lines":"9837,9849"}}],"payload":{"lines":"9835,9836","fold":1}}],"payload":{"lines":"9757,9758","fold":1}}],"payload":{"lines":"9265,9266","fold":1}},{"content":"Pour aller + loin","children":[{"content":"En premier chef, le <a href=\"https://github.com/bestmomo/sillo/blob/master/doc/installation.md\" title=\"' Fork &amp; Clone THE ' dépôt !\" target=\"_blank\">dépôt officiel</a>","children":[{"content":"Dans ce site, vous y trouverez aussi ce qu'on appelle l'<em>Academy</em>...:<br>\n→ Ni +, ni -, un espace dans lequel vous pouvez y coder vos <a href=\"https://prnt.sc/AvfssfFpHuvN\" title=\"' Fork &amp; Clone THE ' dépôt !\" target=\"_blank\">essais des composant natifs</a>","children":[],"payload":{"lines":"9853,9856"}}],"payload":{"lines":"9851,9852"}},{"content":"Pour les codeurs sous Windows*, des <em>Starters</em>","children":[{"content":"Pour être opérationnel, en tapant JUSTE UN SEUL MOT en CLI, poser à la racine","children":[],"payload":{"lines":"9858,9859"}},{"content":"- ./<strong>start.bat</strong>, un script <em>batch</em> qui démarre tous les serveurs de base","children":[{"content":"\n<p data-lines=\"9862,9863\">Auparavant, il nettoie quelques dossiers et fichiers, et surtout, vide divers fichiers de cache</p>","children":[],"payload":{"lines":"9862,9864"}},{"content":"\n<pre><code class=\"language-bat\"><span class=\"hljs-comment\">@REM Voir début fichier reset.bat pour infos dont l'encodage de fin de ligne...</span>\n\n\n@<span class=\"hljs-built_in\">echo</span> off\n<span class=\"hljs-built_in\">chcp</span> <span class=\"hljs-number\">65001</span> &gt; <span class=\"hljs-built_in\">nul</span>\n\n<span class=\"hljs-built_in\">echo</span> Nettoyage des fichiers log debugbar...\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">exist</span> storage\\debugbar (\n    <span class=\"hljs-built_in\">cd</span> storage\\debugbar\n    <span class=\"hljs-keyword\">for</span> <span class=\"hljs-variable\">%%i</span> <span class=\"hljs-keyword\">in</span> (*) <span class=\"hljs-keyword\">do</span> <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> \"<span class=\"hljs-variable\">%%i</span>\"==\".gitignore\" <span class=\"hljs-built_in\">del</span> /f /q \"<span class=\"hljs-variable\">%%i</span>\"\n    <span class=\"hljs-keyword\">for</span> /d <span class=\"hljs-variable\">%%i</span> <span class=\"hljs-keyword\">in</span> (*) <span class=\"hljs-keyword\">do</span> <span class=\"hljs-built_in\">rmdir</span> /s /q \"<span class=\"hljs-variable\">%%i</span>\"\n    <span class=\"hljs-built_in\">cd</span> ..\\..\n    <span class=\"hljs-built_in\">echo</span> Fichiers log debugbar nettoyés.\n) <span class=\"hljs-keyword\">else</span> (\n    <span class=\"hljs-built_in\">echo</span> Le dossier storage\\debugbar n'existe pas.\n)\n\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">exist</span> storage\\logs\\laravel.log (\n    <span class=\"hljs-built_in\">del</span> /f storage\\logs\\laravel.log\n    <span class=\"hljs-built_in\">echo</span> storage\\logs\\laravel.log supprimé.\n) <span class=\"hljs-keyword\">else</span> (\n    <span class=\"hljs-built_in\">echo</span> storage\\logs\\laravel.log n'existe pas.\n)\n\n<span class=\"hljs-built_in\">echo</span>.\n<span class=\"hljs-built_in\">echo</span> Nettoyage des divers fichiers cache...\n<span class=\"hljs-keyword\">call</span> php artisan optimize\n<span class=\"hljs-keyword\">call</span> php artisan cache:clear\n<span class=\"hljs-keyword\">call</span> php artisan view:clear\n<span class=\"hljs-keyword\">call</span> php artisan config:clear\n\n<span class=\"hljs-built_in\">echo</span>.\n<span class=\"hljs-built_in\">echo</span> Démarrage des serveurs.\n\n<span class=\"hljs-built_in\">start</span> /b npm run dev\n<span class=\"hljs-built_in\">start</span> /b php artisan reverb:<span class=\"hljs-built_in\">start</span>\n<span class=\"hljs-built_in\">start</span> /b php artisan serve\n<span class=\"hljs-comment\">\n\n@REM Start serveur de Mail</span>\n<span class=\"hljs-comment\">@REM → http://localhost:8025/#</span>\n<span class=\"hljs-built_in\">start</span> /b config/MailHog_windows_amd64.exe\n<span class=\"hljs-comment\">\nREM Envoi de l'email de Test</span>\n<span class=\"hljs-comment\">@REM powershell.exe -ExecutionPolicy Bypass -File \"testMailServer.ps1\"</span>\n<span class=\"hljs-comment\">@REM php send_email.php</span>\n\n<span class=\"hljs-built_in\">echo</span>.\n<span class=\"hljs-built_in\">echo</span> Les serveurs MonCMS sont démarrés.\n<span class=\"hljs-built_in\">echo</span>.\n\n<span class=\"hljs-built_in\">pause</span>\n\n</code></pre>","children":[],"payload":{"lines":"9864,9920"}}],"payload":{"lines":"9860,9861","fold":1}},{"content":"- ./<strong>reset.bat</strong>, qui re-initialise tout votre projet, puis appelle <strong>start.bat</strong>","children":[{"content":"<pre><code class=\"language-bat\"><span class=\"hljs-comment\">@REM ATTENTION:  Windows &amp; Sqlite UNIQUEMENT</span>\n<span class=\"hljs-comment\">@REM (Et ne le lancer que tous serveurs arrêtés)</span>\n<span class=\"hljs-comment\">\n@REM              UNIQUEMENT pour pur Développement !!!</span>\n<span class=\"hljs-comment\">\n@REM ACTIONS :</span>\n<span class=\"hljs-comment\">\n@REM 1 / Ce script re-initialise complètement le projet:</span>\n<span class=\"hljs-comment\">@REM     - Efface les fichiers lock,</span>\n<span class=\"hljs-comment\">@REM     - Efface la base de données,</span>\n<span class=\"hljs-comment\">@REM     - Vide les dossiers des librairies PHP et des dépendances JS,</span>\n<span class=\"hljs-comment\">@REM     - Supprime tous les fichiers cache (De vues, de config),</span>\n<span class=\"hljs-comment\">@REM     - Et enfin, les fichiers log (De Laravel et de Debugbar).</span>\n<span class=\"hljs-comment\">\n@REM 2 / Restaure ensuite librairies, dépendances et base de données (Avec seed).</span>\n<span class=\"hljs-comment\">\n@REM 3 / Démarre les serveurs (PHP, ViteJS et Reverb [Si utilisé]).</span>\n<span class=\"hljs-comment\">\n@REM Enfin, il doit être encodé UTF-8 et avoir CRLF comme fin de ligne.</span>\n<span class=\"hljs-comment\">@REM <span class=\"hljs-doctag\">Note:</span> For that, in settings.json (parameters) in VSCode:</span>\n<span class=\"hljs-comment\">@REM \"[bat]\": {</span>\n<span class=\"hljs-comment\">@REM     \"files.eol\": \"\\r\\n\"</span>\n<span class=\"hljs-comment\">@REM }</span>\n<span class=\"hljs-comment\">@REM and and set \\r\\n in the end of each line in files.eos in parameters.</span>\n<span class=\"hljs-comment\">@REM Pour vérifier, dans VSCode, vous pouvez faire CTRL + MAJ + P, et vérifier que le fichier est bien en CRLF en cherchant \"seq\" (Changer la SEQuence de fin, de ligne).</span>\n<span class=\"hljs-comment\">\n@REM Pour l'heure, ne peut vous être utile que si vous êtes sous windows, et utilisez sqlite. (Cependant, aisé à adapter pour autres configurations)</span>\n\n\n@<span class=\"hljs-built_in\">echo</span> off\n<span class=\"hljs-built_in\">chcp</span> <span class=\"hljs-number\">65001</span> &gt; <span class=\"hljs-built_in\">nul</span>\n\n<span class=\"hljs-built_in\">echo</span>.\n<span class=\"hljs-built_in\">echo</span> Nettoyage des fichiers et dossiers...\n<span class=\"hljs-built_in\">echo</span>.\n\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">exist</span> package-lock.json (\n    <span class=\"hljs-built_in\">del</span> /f package-lock.json\n    <span class=\"hljs-built_in\">echo</span> package-lock.json supprimé.\n) <span class=\"hljs-keyword\">else</span> (\n    <span class=\"hljs-built_in\">echo</span> package-lock.json n'existe pas.\n)\n\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">exist</span> composer.lock (\n    <span class=\"hljs-built_in\">del</span> /f composer.lock\n    <span class=\"hljs-built_in\">echo</span> composer.lock supprimé.\n) <span class=\"hljs-keyword\">else</span> (\n    <span class=\"hljs-built_in\">echo</span> composer.lock n'existe pas.\n)\n\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">exist</span> database\\database.sqlite (\n    <span class=\"hljs-built_in\">del</span> /f database\\database.sqlite\n    <span class=\"hljs-built_in\">echo</span> database\\database.sqlite supprimé.\n) <span class=\"hljs-keyword\">else</span> (\n    <span class=\"hljs-built_in\">echo</span> database\\database.sqlite n'existe pas.\n)\n\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">exist</span> node_modules (\n    <span class=\"hljs-built_in\">rmdir</span> /s /q node_modules\n    <span class=\"hljs-built_in\">echo</span> Dossier node_modules supprimé.\n) <span class=\"hljs-keyword\">else</span> (\n    <span class=\"hljs-built_in\">echo</span> Le dossier node_modules n'existe pas.\n)\n\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">exist</span> vendor (\n    <span class=\"hljs-built_in\">rmdir</span> /s /q vendor\n    <span class=\"hljs-built_in\">echo</span> Dossier vendor supprimé.\n) <span class=\"hljs-keyword\">else</span> (\n    <span class=\"hljs-built_in\">echo</span> Le dossier vendor n'existe pas.\n)\n\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">exist</span> .php-cs-fixer.cache (\n    <span class=\"hljs-built_in\">del</span> /f .php-cs-fixer.cache\n    <span class=\"hljs-built_in\">echo</span> .php-cs-fixer.cache supprimé.\n) <span class=\"hljs-keyword\">else</span> (\n    <span class=\"hljs-built_in\">echo</span> .php-cs-fixer.cache n'existe pas.\n)\n\n<span class=\"hljs-built_in\">echo</span> Nettoyage des vues compilées...\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">exist</span> storage\\framework\\views (\n    <span class=\"hljs-built_in\">cd</span> storage\\framework\\views\n    <span class=\"hljs-keyword\">for</span> <span class=\"hljs-variable\">%%i</span> <span class=\"hljs-keyword\">in</span> (*) <span class=\"hljs-keyword\">do</span> <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> \"<span class=\"hljs-variable\">%%i</span>\"==\".gitignore\" <span class=\"hljs-built_in\">del</span> /f /q \"<span class=\"hljs-variable\">%%i</span>\"\n    <span class=\"hljs-keyword\">for</span> /d <span class=\"hljs-variable\">%%i</span> <span class=\"hljs-keyword\">in</span> (*) <span class=\"hljs-keyword\">do</span> <span class=\"hljs-built_in\">rmdir</span> /s /q \"<span class=\"hljs-variable\">%%i</span>\"\n    <span class=\"hljs-built_in\">cd</span> ..\\..\\..\n    <span class=\"hljs-built_in\">echo</span> Vues nettoyées.\n) <span class=\"hljs-keyword\">else</span> (\n    <span class=\"hljs-built_in\">echo</span> Le dossier storage\\framework\\views n'existe pas.\n)\n<span class=\"hljs-comment\">\n\n@REM exit 1</span>\n\n\n<span class=\"hljs-built_in\">echo</span>.\n<span class=\"hljs-built_in\">echo</span> Restauration...\n\n<span class=\"hljs-built_in\">echo</span>.\n<span class=\"hljs-built_in\">echo</span> Installation des dependances JS\n<span class=\"hljs-keyword\">call</span> npm install\n\n<span class=\"hljs-built_in\">echo</span>.\n<span class=\"hljs-built_in\">echo</span> Lancement de composer update...\n<span class=\"hljs-comment\">@REM set COMPOSER=config\\reset\\composer_dev.json</span>\n<span class=\"hljs-keyword\">call</span> composer update\n<span class=\"hljs-comment\">@REM set COMPOSER=composer.json</span>\n\n\n<span class=\"hljs-built_in\">echo</span>.\n<span class=\"hljs-built_in\">echo</span> Migration et seed de la base de données...\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">exist</span> database\\database.sqlite (\n    <span class=\"hljs-keyword\">call</span> php artisan migrate:refresh --seed\n) <span class=\"hljs-keyword\">else</span> (\n    <span class=\"hljs-keyword\">call</span> php artisan migrate --force --seed\n)\n<span class=\"hljs-built_in\">echo</span> Tables restaurées avec données.\n\n<span class=\"hljs-keyword\">call</span> <span class=\"hljs-built_in\">start</span>.bat\n</code></pre>","children":[]}],"payload":{"lines":"9920,9921","fold":1}},{"content":"- ./<strong>sillo.bat</strong>, pour 'lancer' le site <strong>Sillo</strong> en local","children":[{"content":"\n<p data-lines=\"10044,10048\">À l'issue, votre CLI est alors dans le dossier sillo/ de votre serveur local...<br>\nLes serveurs locaux y étant lancés, votre navigateur affichera le site...: <strong>Sillo</strong> :-) !<br>\n→ Et pas grave, pour 'revenir', il y a aussi un '<strong>moncms.bat</strong>' à sa racine qui relance<br>\n&nbsp; &nbsp; &nbsp;pour vous, et vous ramène dans votre projet local <strong>MonCMS</strong> !</p>","children":[],"payload":{"lines":"10044,10049"}},{"content":"\n<pre><code class=\"language-bat\"><span class=\"hljs-comment\">@REM Start servers</span>\n\n@<span class=\"hljs-built_in\">echo</span> off\n<span class=\"hljs-comment\">@REM call start.bat</span>\n\n<span class=\"hljs-built_in\">cd</span> ../sillo/\n<span class=\"hljs-built_in\">echo</span>.\n<span class=\"hljs-built_in\">echo</span> Passe sur Sillo\n<span class=\"hljs-built_in\">echo</span>.\n\n<span class=\"hljs-keyword\">call</span> <span class=\"hljs-built_in\">start</span>.bat\n</code></pre>","children":[],"payload":{"lines":"10049,10063"}}],"payload":{"lines":"10042,10043","fold":1}},{"content":"*: <em>Noter qu'il est aisé de les adapter pour les utilisateurs <strong>Linux</strong>...</em>","children":[],"payload":{"lines":"10063,10064"}}],"payload":{"lines":"9856,9857"}},{"content":"<a href=\"https://laravel.sillo.org/doc/ladoc\" title=\"LaDoc\" target=\"_blank\"><strong>LaDoc</strong></a>","children":[{"content":"Cette MindMap est un premier jet...<br>\nMais si vous en voyez l'intérêt, et surtout l'utilité,<br>\nnous pouvons élargir ensemble cette approche à d'autres thématiques...","children":[],"payload":{"lines":"10067,10070"}},{"content":"→ Contribuez <em>ad libitum</em> !","children":[],"payload":{"lines":"10070,10072"}}],"payload":{"lines":"10065,10066"}}],"payload":{"lines":"9849,9850","fold":1}}],"payload":{"lines":"8903,8904","fold":1}},{"content":"III &nbsp;/ &nbsp; <strong>A I D E &nbsp; &amp; &nbsp; C O N T A C T</strong>","children":[{"content":"<strong>0 / Liens techniques clés</strong>","children":[{"content":"<strong><a href=\"http://127.0.0.1:8000\" title=\"Ouvrir votre rendu\" target=\"_blank\">MonCMS</a></strong> (<em>Les serveurs doivent être démarrés...</em>)","children":[],"payload":{"lines":"10076,10077"}},{"content":"<strong><a href=\"http://127.0.0.1:8025\" title=\"Ouvrir votre messagerie locale\" target=\"_blank\">MailHog</a></strong> (<em>Le service doit être démarré...</em>)","children":[],"payload":{"lines":"10077,10079"}}],"payload":{"lines":"10074,10075"}},{"content":"1 / <strong><a href=\"https://github.com/bestmomo/sillo\" title=\"Voir le dépôt officiel du projet\" target=\"_blank\">Le TOP: Le dépôt GIT officiel</a></strong>","children":[{"content":"En <a href=\"https://github.com/bestmomo/sillo/blob/master/doc/installation.md\" title=\"' Fork &amp; Clone THE ' dépôt !\" target=\"_blank\">récupérant le code complet du projet</a>","children":[],"payload":{"lines":"10081,10082"}},{"content":"Puis, en y faisant un Pull Request (Et là... : BRAVOs (<em>Mabrouk</em>) !!!)","children":[],"payload":{"lines":"10082,10083"}},{"content":"Ou au pire, en y levant une issue... Mais pas si gravissime (<em>Malich</em>) ;-)","children":[],"payload":{"lines":"10083,10085"}}],"payload":{"lines":"10079,10080"}},{"content":"2 / <strong><a href=\"https://laravel.sillo.org/login\" title=\"Voir le site officiel\" target=\"_blank\">Le site officiel</a></strong>","children":[{"content":"Message possible en bas de chaque article<br>\n(<em>Vous devez alors y être logué ou créer un compte...</em>)","children":[],"payload":{"lines":"10087,10090"}}],"payload":{"lines":"10085,10086"}},{"content":"3 / <strong><a href=\"https://discord.com/channels/1258750464800063640/1258750464800063646\" title=\"Dial EN LIVE avec la communauté\" target=\"_blank\">Le canal officiel DISCORD</a></strong>","children":[{"content":"Pour discuter en LIVE","children":[],"payload":{"lines":"10092,10094"}}],"payload":{"lines":"10090,10091"}},{"content":"4 / <strong><a href=\"https://laravel.sillo.org/contact\" title=\"Communiquer plus discrètement...\" target=\"_blank\">Un message personnel</a></strong>","children":[],"payload":{"lines":"10094,10095"}}],"payload":{"lines":"10072,10073","fold":1}}],"payload":{"lines":"0,1"}},{"duration":2100,"initialExpandLevel":-1})</script>
</body>
</html>
